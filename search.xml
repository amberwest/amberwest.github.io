<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[„Äê‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó„ÄëÂà†Èô§DataFrame‰∏≠ÁöÑÂàó]]></title>
    <url>%2Famberwest.github.io%2F2019%2F02%2F24%2F%E5%88%A0%E9%99%A4DataFrame%E4%B8%AD%E7%9A%84%E5%88%97%2F</url>
    <content type="text"><![CDATA[ËøôÊòØÁ≥ªÂàóÊñáÁ´†ÔºåÊàë‰ºöÊåâÁÖßstackoverflow‰∏äpandasÁõ∏ÂÖ≥ÈóÆÈ¢òÊäïÁ•®Êï∞ÊéíÂ∫èËøõË°åÊï¥ÁêÜÂ≠¶‰π†„ÄÇ‰∏çÂ≠¶‰π†ÊòØ‰ºöÂèòÂí∏È±ºÁöÑÔΩû ÂéüÈ¢òÁõÆÔºöDelete column from PandasÔºåÈ¢ò‰∏ªÁî®‰∫Üdel df[&#39;name&#39;]ÂèØ‰ª•ÊàêÂäüÂà†Èô§Êï∞ÊçÆÔºå‰ΩÜÊòØdel df.nameÂç¥‰∏çËÉΩÂ§üÔºåÊ†πÊçÆÁ≠îÊ°àÔºåËøôÊòØÂõ†‰∏∫pythonËØ≠Ê≥ïÁöÑÈôêÂà∂ÔºåËÄå‰∏îÂú®pandas‰ºöÂºïËµ∑Ê∑∑‰π±ÔºàcolumnÂêçÂ≠óË∑üpandasÂ∑≤ÊúâÂ±ûÊÄßÁõ∏ÂêåÁöÑÊÉÖÂÜµ‰∏ãÔºâÔºåÂâçËÄÖÂú®python‰∏≠Áõ∏ÂΩì‰∫éË∞ÉÁî®‰∫Üdf.__delitem__(name)„ÄÇ Êàë‰ª¨ÂèØ‰ª•Áî®dropÊñπÊ≥ïÊù•ÂÆûÁé∞„ÄÇ 123456import pandas as pddf = pd.DataFrame(&#123;'num_legs': [4, 2], 'num_wings': [0, 2]&#125;, index=['dog', 'hawk'])new_df = df.drop(labels='num_legs', axis='columns') ÂÖ≥‰∫édropÊñπÊ≥ïÂèÇÊï∞ÁöÑËØ¥ÊòéÔºö 1df.drop([&apos;labels=None&apos;, &apos;axis=0&apos;, &apos;index=None&apos;, &apos;columns=None&apos;, &apos;level=None&apos;, &apos;inplace=False&apos;, &quot;errors=&apos;raise&apos;&quot;]) lablesÔºöÊâÄË¶ÅÂà†Èô§ÁöÑË°å/ÂàóÔºåÂèØ‰ª•ÊòØÂ≠óÁ¨¶‰∏≤Ôºå‰πüÂèØ‰ª•ÊòØÂàóË°®Ôºå‰æùaxisËÄåÂÆö axisÔºöÊåáÂÆöË¶ÅÂà†Èô§ÁöÑÊñπÂêë„ÄÇ0ÊàñindexÂà†Èô§ÁöÑÊòØË°åÔºå1ÊàñcolumnsÂà†Èô§Âàó indexÔºöÂà∂ÂÆöË¶ÅÂà†Èô§Ë°åÁöÑÁ¥¢Âºï columnsÔºöÊåáÂÆöË¶ÅÂà†Èô§ÁöÑÂàóÔºåÊúâËøô‰∏™ÂèÇÊï∞‰∏çÈúÄË¶ÅÂÜçËÆæÁΩÆaxis levelÔºöÂ§öÈáçÁ¥¢Âºï‰∏ã‰ΩøÁî®]]></content>
      <categories>
        <category>‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>drop</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„Äê‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó„ÄëÂ¶Ç‰ΩïËø≠‰ª£DataFrame‰∏≠ÁöÑË°å]]></title>
    <url>%2Famberwest.github.io%2F2019%2F02%2F24%2F%E5%A6%82%E4%BD%95%E8%BF%AD%E4%BB%A3DataFrame%E4%B8%AD%E7%9A%84%E8%A1%8C%2F</url>
    <content type="text"><![CDATA[ËøôÊòØÁ≥ªÂàóÊñáÁ´†ÔºåÊàë‰ºöÊåâÁÖßstackoverflow‰∏äpandasÁõ∏ÂÖ≥ÈóÆÈ¢òÊäïÁ•®Êï∞ÊéíÂ∫èËøõË°åÊï¥ÁêÜÂ≠¶‰π†„ÄÇ‰∏çÂ≠¶‰π†ÊòØ‰ºöÂèòÂí∏È±ºÁöÑÔΩû ÂéüÈóÆÈ¢òÔºöHow to iterate over the columns in DataFrame in Pandas Â¶ÇÈ¢òÊâÄÁ§∫ÔºåÂ∞±ÊòØÂØπDataFrameÁöÑË°åËøõË°åËø≠‰ª£ÔºåÂèØ‰ª•Áî®DataFrame.iterrows()ÊàñDataFrame.itertuples()„ÄÇ 12345678910111213141516import pandas as pdimport numpy as npdf = pd.DataFrame(&#123;'num_legs': [4, 2], 'num_wings': [0, 2]&#125;, index=['dog', 'hawk'])# rowÊòØSeriesfor index, row in df.iterrows(): print(row) print(row['num_legs'])# index=FalseÂàôindex‰∏ç‰Ωú‰∏∫tupleÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ËøîÂõûfor row in df.itertuples(index=False): print(row) print(getattr(row, 'num_legs')) # row[0] Êàñ row.num_legs print(np.asarray(row)) # Â∞ÜnametupledËΩ¨‰∏∫ÂàóË°® Á±ª‰ººÁöÑÔºåÂØπDataFrameÁöÑÂàóËøõË°åËø≠‰ª£ÂàôÂèØ‰ª•Áî®DataFrame.iteritems()ÊñπÊ≥ï„ÄÇ‰∏âËÄÖÁöÑÂå∫Âà´Â¶Ç‰∏ãÔºö DataFrame.iteritems()‰∏çÊé•Âèó‰ªª‰ΩïÂèÇÊï∞ÔºåËøîÂõûÁªìÊûúÊòØÂÖÉÁªÑ(column name, Series) DataFrame.iterrows()‰πü‰∏çÊé•Âèó‰ªª‰ΩïÂèÇÊï∞ÔºåËøîÂõûÁªìÊûú‰πüÊòØÂÖÉÁªÑ(index, Series) DataFrame.itertuples(index=True, name=&#39;Pandas&#39;)‰ª•nametupledÁöÑÂΩ¢ÂºèËø≠‰ª£ËøîÂõûDataFrameÁöÑË°å„ÄÇÊïàÁéáÊØîDataFrame.iterrows()Âø´‰∏Ä‰∫õ]]></content>
      <categories>
        <category>‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>Ëø≠‰ª£</tag>
        <tag>iterrows</tag>
        <tag>iteritems</tag>
        <tag>itertuples</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„Äê‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó„Äë‰ΩøÁî®pandasÁ≠õÈÄâÂá∫ÊåáÂÆöÂàóÂÄºÊâÄÂØπÂ∫îÁöÑË°å]]></title>
    <url>%2Famberwest.github.io%2F2019%2F02%2F23%2F%E4%BD%BF%E7%94%A8pandas%E7%AD%9B%E9%80%89%E5%87%BA%E6%8C%87%E5%AE%9A%E5%88%97%E5%80%BC%E6%89%80%E5%AF%B9%E5%BA%94%E7%9A%84%E8%A1%8C%2F</url>
    <content type="text"><![CDATA[ËøôÊòØÁ≥ªÂàóÊñáÁ´†ÔºåÊàë‰ºöÊåâÁÖßstackoverflow‰∏äpandasÁõ∏ÂÖ≥ÈóÆÈ¢òÊäïÁ•®Êï∞ÊéíÂ∫èËøõË°åÊï¥ÁêÜÂ≠¶‰π†„ÄÇ‰∏çÂ≠¶‰π†ÊòØ‰ºöÂèòÂí∏È±ºÁöÑÔΩû ÂéüÈóÆÈ¢òÔºöSelect rows from a DataFrame based on values in a column in pandas„ÄÇÊ†πÊçÆÈóÆÈ¢òÊèèËø∞ÔºåÂ∏åÊúõÈÄöËøápandasÂÆûÁé∞Á±ª‰ººmysqlÊü•ÊâæËØ≠Âè•ÁöÑÂäüËÉΩÔºö 1select * from table where column_name = some_value; pandas‰∏≠Ëé∑ÂèñÊï∞ÊçÆÁöÑÊúâ‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ïÔºö Â∏ÉÂ∞îÁ¥¢Âºï ‰ΩçÁΩÆÁ¥¢Âºï Ê†áÁ≠æÁ¥¢Âºï ‰ΩøÁî®API ÂÅáËÆæÊï∞ÊçÆÂ¶Ç‰∏ã: 123456import pandas as pdimport numpy as npdf = pd.DataFrame(&#123;'A': 'foo bar foo bar foo bar foo foo'.split(), 'B': 'one one two three two two one three'.split(), 'C': np.arange(8), 'D': np.arange(8) * 2&#125;) Â∏ÉÂ∞îÁ¥¢ÂºïËØ•ÊñπÊ≥ïÂÖ∂ÂÆûÂ∞±ÊòØÊâæÂá∫ÊØè‰∏ÄË°å‰∏≠Á¨¶ÂêàÊù°‰ª∂ÁöÑÁúüÂÄº(true value)ÔºåÂ¶ÇÊâæÂá∫ÂàóA‰∏≠ÊâÄÊúâÂÄºÁ≠â‰∫éfoo 1df[df['A'] == 'foo'] # Âà§Êñ≠Á≠âÂºèÊòØÂê¶ÊàêÁ´ã ‰ΩçÁΩÆÁ¥¢Âºï‰ΩøÁî®ilocÊñπÊ≥ïÔºåÊ†πÊçÆÁ¥¢ÂºïÁöÑ‰ΩçÁΩÆÊù•Êü•ÊâæÊï∞ÊçÆÁöÑ„ÄÇËøô‰∏™‰æãÂ≠êÈúÄË¶ÅÂÖàÊâæÂá∫Á¨¶ÂêàÊù°‰ª∂ÁöÑË°åÊâÄÂú®‰ΩçÁΩÆ 123456mask = df['A'] == 'foo'pos = np.flatnonzero(mask) # ËøîÂõûÁöÑÊòØarray([0, 2, 4, 6, 7])df.iloc[pos]#Â∏∏ËßÅÁöÑilocÁî®Ê≥ïdf.iloc[:3,1:3] Ê†áÁ≠æÁ¥¢ÂºïÂ¶Ç‰ΩïDataFrameÁöÑË°åÂàóÈÉΩÊòØÊúâÊ†áÁ≠æÁöÑÔºåÈÇ£‰πà‰ΩøÁî®locÊñπÊ≥ïÂ∞±ÈùûÂ∏∏ÂêàÈÄÇ‰∫Ü„ÄÇ 12345678df.set_index('A', append=True, drop=False).xs('foo', level=1) # xsÊñπÊ≥ïÈÄÇÁî®‰∫éÂ§öÈáçÁ¥¢ÂºïDataFrameÁöÑÊï∞ÊçÆÁ≠õÈÄâ# Êõ¥Áõ¥ËßÇÁÇπÁöÑÂÅöÊ≥ïdf.index=df['A'] # Â∞ÜAÂàó‰Ωú‰∏∫DataFrameÁöÑË°åÁ¥¢Âºïdf.loc['foo', :]# ‰ΩøÁî®Â∏ÉÂ∞îdf.loc[df['A']=='foo'] ÂÖ≥‰∫élocÂíåilocÁöÑÂå∫Âà´ÔºåÂÆòÁΩëÊòØËøô‰πàËØ¥ÁöÑÔºö DataFrame.loc Access a group of rows and columns by label(s) or a boolean array. DataFrame.iloc Purely integer-location based indexing for selection by position. ‰ΩøÁî®APIpd.DataFrame.queryÊñπÊ≥ïÂú®Êï∞ÊçÆÈáèÂ§ßÁöÑÊó∂ÂÄôÔºåÊïàÁéáÊØîÂ∏∏ËßÑÁöÑÊñπÊ≥ïÊõ¥È´òÊïà„ÄÇ 1234df.query('A=="foo"')# Â§öÊù°‰ª∂df.query('A=="foo" | A=="bar"') Êï∞ÊçÆÊèêÂèñ‰∏çÊ≠¢ÂâçÈù¢ÊèêÂà∞ÁöÑÊÉÖÂÜµÔºåÁ¨¨‰∏Ä‰∏™Á≠îÊ°àÂ∞±ÁªôÂá∫‰∫Ü‰ª•‰∏ãÂá†ÁßçÂ∏∏ËßÅÊÉÖÂÜµÔºö 1„ÄÅÁ≠õÈÄâÂá∫ÂàóÂÄºÁ≠â‰∫éÊ†áÈáèÁöÑË°åÔºåÁî®== 1df.loc[df['column_name'] == some_value] 2„ÄÅÁ≠õÈÄâÂá∫ÂàóÂÄºÂ±û‰∫éÊüê‰∏™ËåÉÂõ¥ÂÜÖÁöÑË°åÔºåÁî®isin 1df.loc[df['column_name'].isin(some_values)] # some_valuesÊòØÂèØËø≠‰ª£ÂØπË±° 3„ÄÅÂ§öÁßçÊù°‰ª∂ÈôêÂà∂Êó∂‰ΩøÁî®&amp;Ôºå&amp;ÁöÑ‰ºòÂÖàÁ∫ßÈ´ò‰∫é&gt;=Êàñ&lt;=ÔºåÊâÄ‰ª•Ë¶ÅÊ≥®ÊÑèÊã¨Âè∑ÁöÑ‰ΩøÁî® 1df.loc[(df['column_name'] &gt;= A) &amp; (df['column_name'] &lt;= B)] 4„ÄÅÁ≠õÈÄâÂá∫ÂàóÂÄº‰∏çÁ≠â‰∫éÊüê‰∏™/‰∫õÂÄºÁöÑË°å 123df.loc[df['column_name'] != 'some_value']df.loc[~df['column_name'].isin('some_values')] #~ÂèñÂèç]]></content>
      <categories>
        <category>‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>Á≠õÈÄâ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„Äê‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó„ÄëÂ¶Ç‰ΩïÁî®pandasÂØπÂàóÈáçÂëΩÂêç]]></title>
    <url>%2Famberwest.github.io%2F2019%2F02%2F21%2F%E5%A6%82%E4%BD%95%E7%94%A8pandas%E5%AF%B9%E5%88%97%E9%87%8D%E5%90%8D%2F</url>
    <content type="text"><![CDATA[ËøôÊòØÁ≥ªÂàóÊñáÁ´†ÔºåÊàë‰ºöÊåâÁÖßstackoverflow‰∏äpandasÁõ∏ÂÖ≥ÈóÆÈ¢òÊäïÁ•®Êï∞ÊéíÂ∫èËøõË°åÊï¥ÁêÜÂ≠¶‰π†„ÄÇ‰∏çÂ≠¶‰π†ÊòØ‰ºöÂèòÂí∏È±ºÁöÑÔΩû ÂéüÈóÆÈ¢òÔºörenaming columns in pandasÔºåÊ†πÊçÆÈóÆÈ¢òÊèèËø∞ÔºåÈúÄË¶ÅÂØπÂ∑≤ÊúâÁöÑDataFrameÁöÑÂàóÈáçÊñ∞ÂëΩÂêçÔºåÂéªÊéâÂâçÈù¢ÁöÑ$Á¨¶Âè∑„ÄÇ 123import pandas as pddf = pd.DataFrame([&#123;'$a':1, '$b':2, '$c':3&#125;]) ÊñπÊ≥ï‰∏ÄÔºå‰∏çÈÄÇÁî®‰∫éÊúâÂæàÂ§öÂàóÁöÑÊàñËÄÖÂè™‰øÆÊîπ‰∏™Âà´ÂàóÂêçÁöÑDataFrame 1df.columns = ['a', 'b', 'c'] # Áõ¥Êé•Âú®ÂéüÂßãÊï∞ÊçÆ‰∏äËøõË°å‰øÆÊîπ ÊñπÊ≥ï‰∫åÔºårenameÊñπÊ≥ïÈÄÇÁî®‰∫éÂè™‰øÆÊîπ‰∏™Âà´ÂàóÂêçÊàñËÄÖÂàóÂêçÊúâ‰∏ÄÂÆöËßÑÂæãÁöÑDataFrame 1234567df2=df.rename(columns=&#123;'$a':'a', '$b':'b'&#125;) # ‰∏ç‰øÆÊîπÂéüÂßãÊï∞ÊçÆdf.rename(columns=&#123;'$a':'a', '$b':'b'&#125;, inplace=True) # ‰øÆÊîπÂéüÂßãÊï∞ÊçÆdf.rename(&#123;'$a':'a', '$b':'b'&#125;, axis='columns', inplace=True) # pandas 0.21ÁöÑÊñ∞ÊñπÊ≥ïÔºåÊåáÂÆöaxis='coloumns'ÊàñËÄÖ1# ÂàóÂêçÊúâËßÑÂæãÔºåÊñπÊ≥ïÂèØ‰ª•ÊúâÂæàÂ§ödf.rename(columns=lambda x: x[1:], inplace=True)df.rename(columns=lambda x: x.lstrip('$'), inplace=Tru) ÊñπÊ≥ï‰∏âÔºåstrÊñπÊ≥ï 1df.columns = df.columns.str.replace('$','')]]></content>
      <categories>
        <category>‰ªäÂ§©‰Ω†Â≠¶pandas‰∫ÜÂêó</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>ÈáçÂëΩÂêç</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â¶Ç‰ΩïÂéªÈô§pandas groupbyÊØè‰∏™ÂàÜÁªÑÊúÄÂ§ßÊúÄÂ∞èÂÄºÂÜçÊ±ÇÊèèËø∞ÊÄßÁªüËÆ°]]></title>
    <url>%2Famberwest.github.io%2F2019%2F01%2F18%2F%E5%A6%82%E4%BD%95%E5%8E%BB%E9%99%A4pandas-groupby%E6%AF%8F%E4%B8%AA%E5%88%86%E7%BB%84%E6%9C%80%E5%A4%A7%E6%9C%80%E5%B0%8F%E5%80%BC%E5%86%8D%E6%B1%82%E6%8F%8F%E8%BF%B0%E6%80%A7%E7%BB%9F%E8%AE%A1%2F</url>
    <content type="text"><![CDATA[Â¶ÇÈ¢òÔºå‰πãÂâçÂú®Â§ÑÁêÜÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºå‰∏ÄÁõ¥ÊÉ≥‰∏çÂà∞Â•ΩÁöÑÊñπÊ≥ï„ÄÇÊúâ‰∫∫Âª∫ËÆÆÂ∞ÜÊï∞ÊçÆÂØºÂÖ•mysqlÂÜçÂÅöÂ§ÑÁêÜÔºåÂóØÔºåÂØºÂÖ•‰πãÂêéÔºåÂèëÁé∞ÊàëÂæàÂ∞ëÁî®mysqlÔºå‰πü‰∏çÊòØÂæàÊ∏ÖÊ•öË¶ÅÊÄé‰πàÂÅöüò¢ÊúÄÂêéÁõ¥Êé•‰∏ästackoverflowÂèëÈóÆ„ÄÇËøôÁúüÊòØ‰∏™ËâØÂøÉÁΩëÁ´ôÂïäÔΩû ÂéüÂßãÊï∞ÊçÆÂ¶Ç‰∏ãÔºö 123456789101112data = &#123;'class': ['a', 'a', 'a', 'a', 'a', 'b', 'b', 'b', 'b', 'b'], 'num': [-10,18,12,15,50, 10,60,51,54,100]&#125;df = pd.DataFrame(data)df.groupby('class').describe()outputÔºönum count mean std min 25% 50% 75% maxclass a 5.0 17.0 21.494185 -10.0 12.0 15.0 18.0 50.0b 5.0 55.0 31.984371 10.0 51.0 54.0 60.0 100.0 ÂÅöÊ≥ï1: 12mask = df['num'].ne(df['max'])&amp;df['num'].ne(df['min']) # DataFrame.ne() not equalÂêßÔºåÂèçÊ≠£‰∏çÁ¨¶ÂêàÊù°‰ª∂ÁöÑËøîÂõûTrueÔºå&amp;ÊòØÂπ∂ÈõÜÔºåÂç≥ËøîÂõûÂêåÊó∂‰∏çÁ≠â‰∫éÊúÄÂ§ßÂíåÊúÄÂ∞èÂÄºÁöÑTrue/Falsedf[mask].groupby('class')['num'].describe() # ËøôÈáåÁÆÄÂåñ‰∫ÜÔºådf[mask]ÂæóÂà∞ÁöÑÂ∞±ÊòØÁ¨¶ÂêàÊù°‰ª∂ÁöÑDataFrame ÂÅöÊ≥ï2Ôºö 12345df.groupby('class').apply(lambda x: x.drop([x['num'].idxmax(),x['num'].idxmin()])).rename_axis([None,None]).groupby('class').describe() # ÂéüÁ≠îÊ°àdf.groupby('class').apply(lambda x: x.drop([x['num'].idxmax(), x['num'].idxmin()])['num']).groupby('class').describe() # Ë∑üÂéüÁ≠îÊ°à‰∏çÂ§™‰∏ÄÊ†∑df.groupby('class').apply(lambda x: x.drop([x['num'].idxmax(), x['num'].idxmin()])['num']).reset_index(level=0).groupby('class')['num'].describe() # ÂÖ∂ÂÆûdrop‰πãÂêéÊï∞ÊçÆÂèòÊàê‰∫Ü‰ª•class‰∏∫indexÔºåÂπ∂‰∏îÂéüÊú¨ÁöÑrangeIndexËøòÂú® ÂΩìÊó∂Áü•ÈÅìidxmax()ÊñπÊ≥ïÔºåÂ∞±ÊòØ‰∏çÁü•ÈÅìË¶ÅÊÄé‰πàË∑ügroupbyÁªìÂêàËµ∑Êù•ÔºåÂ§ÑÁêÜ‰πãÂêéÁöÑÊï∞ÊçÆÊ†ºÂºèÂèà‰ºöÂèòÊàê‰ªÄ‰πàÊ†∑ÔºüÂèàË¶ÅÂÅö‰ΩïÂ§ÑÁêÜÔºüËØ¥Âà∞Â∫ïËøòÊòØÂØπpandas‰∏çÁÜü„ÄÇ Êõ¥ËØ¶ÁªÜÁöÑÂÅöÊ≥ïÂèØ‰ª•ÂèÇËÄÉÂéüÂßãÁ≠îÊ°à]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>groupby</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëß£ÂÜ≥matplotlib‰∏≠Êñá‰π±Á†Å]]></title>
    <url>%2Famberwest.github.io%2F2019%2F01%2F18%2F%E8%A7%A3%E5%86%B3matplotlib%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%2F</url>
    <content type="text"><![CDATA[ÂÖ≥‰∫ématplotlib‰∏≠ÊñáÊòæÁ§∫ÁöÑÈóÆÈ¢òÔºåÊúÄÂ∏∏ËßÅÁöÑËß£ÂÜ≥ÊñπÊ≥ïÂ∞±ÊòØÔºö 12plt.rcParams['font.sans-serif']=['SimHei']plt.rcParams['axes.unicode_minus']=False ‰ΩÜÊòØÊØèÊ¨°ÈÉΩË¶ÅÂÜôËøô‰∏§Âè•ËØù‰πüÊòØÊå∫È∫ªÁÉ¶ÁöÑ„ÄÇÊúÄÊÉ®ÁöÑÊòØÔºåÂ¶ÇÊûú‰ΩøÁî®pyenvËøõË°åÁâàÊú¨ÁÆ°ÁêÜÔºå‰∏äÈù¢ÈÇ£‰∏§Âè•ËØù‰πü‰∏çÁÆ°Áî®‰∫ÜÔºåÂõ†‰∏∫‰∏çÂêåÁâàÊú¨ÁöÑpython‰∏ãÂèØËÉΩÊ≤°ÊúâÂ≠ó‰ΩìÊñá‰ª∂„ÄÇÊâÄ‰ª•ÔºåÊàëÂèÇËÄÉÁü•‰πé‰∏ämatplotlibÂõæ‰æã‰∏≠Êñá‰π±Á†Å? - Âú®‰∏çÂú®ÁöÑÂõûÁ≠î - Áü•‰πéÁöÑÂÅöÊ≥ïÔºåËß£ÂÜ≥‰∫ÜËøô‰∏™ÈóÆÈ¢ò„ÄÇ ‰∏ãËΩΩÂ≠ó‰ΩìÊñá‰ª∂ ÁÇπÂáªËøõÂÖ•‰∏ãËΩΩÈªë‰ΩìÊñá‰ª∂ Êü•ÁúãÊâÄ‰ΩøÁî®ÁöÑÁâàÊú¨ 123&gt;&gt;pyenv activate test(testÊòØÊâÄÂàõÂª∫ÁöÑËôöÊãüÁéØÂ¢É)&gt;&gt;which python/Users/test/.pyenv/shims/pythonÔºàÂú®Ëøô‰∏™Ë∑ØÂæÑ‰∏ãÊâæÂà∞matplotlibÂØπÂ∫îÁöÑÂ≠ó‰ΩìÊñá‰ª∂Â§πÔºâ Â∞ÜÂ≠ó‰ΩìÊñá‰ª∂ÊîæÂú®matplotlib/mpl-data/fonts/ttf/‰∏ã 1mv ~/Downloads/SimHei.ttf /Users/amber/.pyenv/versions/amber/lib/python3.5/site-packages/matplotlib/mpl-data/fonts/ttf/ ‰øÆÊîπmatplotlib/mpl-data‰∏ãÁöÑmatplotlibrcÊñá‰ª∂ Âú®ÂëΩ‰ª§‰∏≠ËæìÂÖ•vim matplotlibrcËøõÂÖ•Êñá‰ª∂ÔºåÂú®ÂΩìÂâçÊ®°ÂºèÔºàÂëΩ‰ª§Ë°åÊ®°ÂºèÔºâÔºå‰ΩøÁî®:/font.familyËøõË°åÊêúÁ¥¢ÔºåÂø´ÈÄüÂÆö‰Ωç„ÄÇ 123font.family : sans-serif # ÂèñÊ∂àÊ≥®Èáäfont.sans-serif : SimHei, DejaVu Sans, Bitstream Vera Sans, Computer Modern Sans Serif, Lucida Grande, Verdana, Geneva, Lucid, Arial, Helvetica, Avant Garde, sans-serif # Ê∑ªÂä†SimHeiÂ≠ó‰Ωìaxes.unicode_minus : False #Â∞ÜTrue‰øÆÊîπ‰∏∫FalseÔºåÊ≠£Á°ÆÊòæÁ§∫Ë¥üÂè∑ Âú®pythonËÑöÊú¨‰∏≠ÈáçÊñ∞Âä†ËΩΩÈÖçÁΩÆÊñá‰ª∂ ËøêË°å‰ª•‰∏ãËÑöÊú¨Â∞±ÂèØ‰ª•‰∫Ü 12from matplotlib.font_manager import _rebuild_rebuild() ÊàëÊ≤°ÊúâÂú®Â≠ó‰ΩìÂÜå‰∏≠ÂêØÁî®Èªë‰ΩìÂ•ΩÂÉè‰πüÊ≤°‰ªÄ‰πàÈóÆÈ¢ò„ÄÇÂìéÔºåÂÖ®ÈÉ®ÊîπÁî®pyenvÁÆ°ÁêÜpythonÁâàÊú¨‰πãÂêéÂ∞±‰∏ÄÁõ¥Ëß£ÂÜ≥‰∏ç‰∫ÜÊòæÁ§∫‰∏≠ÊñáÁöÑÈóÆÈ¢òÔºå‰ΩÜÊòØ‰∏ÄÁõ¥ÈÉΩÊ≤°ÊÉ≥ËøáÊòØËøô‰∏™ÈóÆÈ¢ò„ÄÇÂóØÔºå‰ª•Ê≠§‰∏∫ÊàíÔºåÈÅáÂà∞ÈóÆÈ¢òË¶ÅÂÖ®Èù¢ÊÄùËÄÉ„ÄÇ]]></content>
      <categories>
        <category>matplotlib</category>
      </categories>
      <tags>
        <tag>matplotlib</tag>
        <tag>‰∏≠Êñá‰π±Á†Å</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[matplotlibÔºöÂõæÂÉèÂÖÉÁ¥†]]></title>
    <url>%2Famberwest.github.io%2F2018%2F12%2F12%2Fmatplotlib%EF%BC%9A%E5%9B%BE%E5%83%8F%E5%85%83%E7%B4%A0%2F</url>
    <content type="text"><![CDATA[Ê†áÂáÜÈ¢úËâ≤Áº©ÂÜô bÔºö ËìùËâ≤ gÔºö Áªø rÔºö Á∫¢ cÔºö Èùí mÔºö ÂìÅÁ∫¢ yÔºö ÈªÑ kÔºö Èªë wÔºö ÁôΩ Ê†áÂáÜÊ†∑ÂºèÂ≠óÁ¨¶ ÂÆûÁ∫øÊ†∑Âºè ‚Äì Áü≠ÂàíÁ∫øÊ†∑Âºè -. ÁÇπÂÆûÁ∫øÊ†∑Âºè : ËôöÁ∫øÊ†∑Âºè . ÁÇπÊ†áËÆ∞ , ÂÉèÁ¥†Ê†áËÆ∞ o ÂúÜÊ†áËÆ∞ v Âêë‰∏ã‰∏âËßíÂΩ¢Ê†áËÆ∞ ^ Âêë‰∏ä‰∏âËßíÂΩ¢Ê†áËÆ∞ &lt; ÂêëÂ∑¶‰∏âËßíÂΩ¢Ê†áËÆ∞ &gt; ÂêëÂè≥‰∏âËßíÂΩ¢Ê†áËÆ∞ 1 Tri_downÊ†áËÆ∞ 2 Tri_upÊ†áËÆ∞ 3 Tri_leftÊ†áËÆ∞ 4 Tri_rightÊ†áËÆ∞ s ÊñπÂΩ¢Ê†áËÆ∞ p ‰∫îËæπÂΩ¢Ê†áËÆ∞ * ÊòüÂè∑ h ÂÖ≠ËßíÂΩ¢Ê†áËÆ∞1 H ÂÖ≠ËßíÂΩ¢Ê†áËÆ∞2 + Âä†Âè∑ x XÊ†áËÆ∞ D Ëè±ÂΩ¢Ê†áËÆ∞ d ÁªÜËè±ÂΩ¢Ê†áËÆ∞ | ÂûÇÁõ¥Ê†áËÆ∞ 12345678910111213141516import numpy as npimport matplotlib as mplimport matplotlib.pyplot as pltnp.random.seed(1000)y = np.random.standard_normal(20)x = range(len(y))plt.figure(figsize=(7,4))plt.plot(y.cumsum(), 'b', lw=1.5)plt.plot(y.cumsum(), 'ms')plt.grid(True)plt.axis('tight')plt.xlabel('index')plt.ylabel('value')plt.title('A simple plot') Âõæ‰æãlocÂèÇÊï∞plt.legend(*args,**kwargs)ÊúâÂæàÂ§öÂèÇÊï∞ÔºåÂ∏∏Áî®ÁöÑÂ∞±ÊòØlocÂèÇÊï∞ÔºåÂèØ‰ª•ÊòØÊï∞Â≠óÔºå‰πüÂèØ‰ª•ÊòØËã±ÊñáÔºåËøòÂèØ‰ª•Áõ¥Êé•Áî®Ë°®Á§∫‰ΩçÁΩÆÁöÑÂÖÉÁªÑ„ÄÇÂ¶ÇÔºöplt.legend(loc=&#39;best&#39;) or plt.legend(loc=(0.5, 0.8)) Á©∫ÁôΩ Ëá™Âä® 0 ÊúÄ‰Ω≥ best 1 Âè≥‰∏ä upper right 2 Â∑¶‰∏ä upper left 3 Â∑¶‰∏ã lower left 4 Âè≥‰∏ã lower right 5 Âè≥ right 6 ‰∏≠Â∑¶ center left 7 ‰∏≠Âè≥ center right 8 ‰∏≠‰∏ã lower center 9 ‰∏≠‰∏ä upper center 10 ‰∏≠ center ‰æãÂ≠ê‰∏≠Èô§‰∫ÜÂ∏∏Áî®ÁöÑlocÂèÇÊï∞ÔºåËøòËÆæÁΩÆ‰∫ÜÂÖ∂‰ªñÁöÑÊ†∑ÂºèÔºåÂÖ∑‰ΩìÁöÑ‰ΩøÁî®ÊåáÂçóÂèØ‰ª•ÂèÇËÄÉÂÆòÁΩë 123456789101112131415161718import matplotlib.pyplot as pltimport numpy as npax = plt.subplot(111)t1 = np.arange(0.0, 1.0, 0.01)for n in [1, 2, 3, 4]: plt.plot(t1, t1**n, label="n=%d"%(n,)) # ËÆæÁΩÆÊØè‰∏™plotÂØπÂ∫îÁöÑÂõæ‰æãleg = plt.legend(loc='best', ncol=2, # ‰∏§Ë°å mode="expand", # Ê∞¥Âπ≥Â°´ÂÖÖÊï¥‰∏™AxesÂå∫ÂüüÔºåÈªòËÆ§‰∏∫none„ÄÇÂ¶ÇÊûúbbox_to_anchorËÆæÁΩÆ‰∫ÜlegendÁöÑsizeÂàô‰ºöË¶ÜÁõñmode shadow=True, # ËÆæÁΩÆlegendÊ°ÜÁöÑÈò¥ÂΩ± fancybox=True # ËÆæÁΩÆ‰∏∫FalseÂèòÂåñ‰∏çÂ§ß )leg.get_frame().set_alpha(0.5) # Ëé∑ÂèñlegendÊ°ÜÂπ∂ËÆæÁΩÆÈÄèÊòéÂ∫¶plt.show() textÊñπÊ≥ïÁªôplotÊ∑ªÂä†ÊñáÊú¨ÂèØ‰ª•‰ΩøÁî®plt.text()ÊñπÊ≥ïÔºåÂÆåÊï¥ÂèÇÊï∞Êü•ÁúãTextÁ±ª matplotlib.text.Text(x=0, y=0, text=‚Äô‚Äô, color=None, verticalalignment=‚Äôbaseline‚Äô, horizontalalignment=‚Äôleft‚Äô, multialignment=None, fontproperties=None, rotation=None, linespacing=None, rotation_mode=None, usetex=None, wrap=False, *\kwargs*) Â∏∏Áî®ÂèÇÊï∞Ôºö xÔºåyÔºöÊòØÊñáÊú¨sÊîæÁΩÆ‰ΩçÁΩÆ sÔºöË¶ÅÊ∑ªÂä†ÁöÑÊñáÊú¨‰ø°ÊÅØ fontdictÔºöËÆæÁΩÆÊñáÊú¨Ê†∑ÂºèÔºå‰ΩøÁî®ËØ•ÂèÇÊï∞ÊòØdictÂΩ¢Âºèfontdict={&#39;fontsize&#39;: 12}Ôºå‰πüÂèØ‰ª•Áõ¥Êé•Áî®ÂÖ≥ÈîÆÂ≠óÂèÇÊï∞Â¶ÇÔºöfontsize=12 12345678910111213141516171819202122232425262728293031323334353637383940import matplotlib.pyplot as pltfig = plt.figure()# ËøôÈáåÊòØsuptitleÔºåËÄå‰∏çÊòØsubtitlefig.suptitle('bold figure suptitle', fontsize=14, fontweight='bold')# ÁªôFigureÊ∑ªÂä†AxesÂØπË±°ax = fig.add_subplot(111)# Ë∞ÉÊï¥axÁöÑ‰ΩçÁΩÆÔºåÂèÇÊï∞Êúâleft=None, bottom=None, right=None, top=None,wspace=None, hspace=Nonefig.subplots_adjust(top=0.85) ax.set_title('axes title')ax.set_xlabel('xlabel')ax.set_ylabel('ylabel')ax.text(3, 8, 'boxed italics text in data coords', style='italic', # styleÊúâ‰∏âÁßçÈÄâÊã©Ôºå'normal', 'italic', 'oblique' bbox=&#123;'facecolor':'red', 'alpha':0.5, 'pad':10&#125; # ÁªôÊñáÊú¨Âä†‰∏äËæπÊ°ÜÔºåÂπ∂ËÆæÁΩÆÊ†∑Âºè )ax.text(2, 6, r'an equation: $E=mc^2$', # ËÆ∞ÂæóÂ∏¶‰∏är fontdict=&#123;'fontsize': 15&#125; # ‰πüÂèØ‰ª•Áõ¥Êé•Áî®fontsize=15 )# unicode‰πüËÉΩËØÜÂà´ax.text(3, 2, 'unicode: Institut f\374r Festk\366rperphysik')ax.text(0.95, 0.01, 'colored text in axes coords', verticalalignment='bottom', horizontalalignment='right', transform=ax.transAxes, color='green', fontsize=15)ax.plot([2], [1], 'o') # ÈªòËÆ§È¢úËâ≤‰∏∫bax.annotate('annotate', xy=(2, 1), xytext=(3, 4), arrowprops=dict(facecolor='black', shrink=0.05))ax.axis([0, 10, 0, 10]) # ËÆæÁΩÆxËΩ¥ÂíåyËΩ¥ÁöÑËåÉÂõ¥[xmin, xmax, ymin, ymax]plt.show() ÂØπ‰∫éÊï∞Â≠¶Ë°®ËææÂºèÔºåÂèØ‰ª•Áî®LaTeXËØ≠Ê≥ïÁõ¥Êé•ÁºñËæë 1234567891011121314import numpy as npimport matplotlib.pyplot as pltt = np.arange(0.0, 2.0, 0.01)s = np.sin(2*np.pi*t)plt.plot(t,s)plt.title(r'$\alpha_i &gt; \beta_i$', fontsize=20)plt.text(1, -0.6, r'$\sum_&#123;i=0&#125;^\infty x_i$', fontsize=20)plt.text(0.6, 0.6, r'$\mathcal&#123;A&#125;\mathrm&#123;sin&#125;(2 \omega t)$', fontsize=20)plt.text(0.3, 0.98, r'$local\ max$', fontsize=12, horizontalalignment='left', verticalalignment='center', )plt.xlabel('time (s)')plt.ylabel('volts (mV)')plt.show() scalesÁõ¥Êé•Áúã‰æãÂ≠ê 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import numpy as npimport matplotlib.pyplot as pltfrom matplotlib.ticker import NullFormatter # useful for `logit` scale# Fixing random state for reproducibilitynp.random.seed(19680801)# make up some data in the interval ]0, 1[y = np.random.normal(loc=0.5, scale=0.4, size=1000)y = y[(y &gt; 0) &amp; (y &lt; 1)]y.sort()x = np.arange(len(y))# plot with various axes scalesplt.figure(1)# linearplt.subplot(221)plt.plot(x, y)plt.yscale('linear')plt.title('linear')plt.grid(True)# logplt.subplot(222)plt.plot(x, y)plt.yscale('log')plt.title('log')plt.grid(True)# symmetric logplt.subplot(223)plt.plot(x, y - y.mean())plt.yscale('symlog', linthreshy=0.01)plt.title('symlog')plt.grid(True)# logitplt.subplot(224)plt.plot(x, y)plt.yscale('logit')plt.title('logit')plt.grid(True)# Format the minor tick labels of the y-axis into empty strings with# `NullFormatter`, to avoid cumbering the axis with too many labels.plt.gca().yaxis.set_minor_formatter(NullFormatter())# Adjust the subplot layout, because the logit one may take more space# than usual, due to y-tick labels like "1 - 10^&#123;-3&#125;"plt.subplots_adjust(top=0.92, bottom=0.08, left=0.10, right=0.90, # Ë∞ÉÊï¥Â≠êÂõæÁöÑÂ∏ÉÂ±Ä hspace=0.35, wspace=0.35 # ËÆæÁΩÆÂ≠êÂõæ‰πãÈó¥ÁöÑË∑ùÁ¶ª )plt.show()]]></content>
      <categories>
        <category>matplotlib</category>
      </categories>
      <tags>
        <tag>matplotlib, text,</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[matplotlibÔºöboxplotÁÆ±Á∫øÂõæ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F12%2F12%2Fmatplotlib%EF%BC%9Aboxplot%E7%AE%B1%E5%BD%A2%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[ÁÆ±Á∫øÂõæ‰∏ÄËà¨Áî®Êù•ÁúãÊï∞ÊçÆÁöÑÂàÜÂ∏ÉÔºåÊØîÂ¶ÇÂõõÂàÜ‰ΩçÊï∞ÔºåÂºÇÂ∏∏ÁÇπÁ≠â„ÄÇÁÆÄÂçïÁöÑÊï∞ÊçÆ‰ø°ÊÅØ‰πüÂèØ‰ª•Áî®DataFrame.describe()ËøõË°åÊü•Áúã„ÄÇ boxplotÂèÇÊï∞Áúã‰∏ãÁÆ±Á∫øÂõæÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞Ôºö Axes.boxplot(x, notch=None, sym=None, vert=None, whis=None, positions=None, widths=None, patch_artist=None, bootstrap=None, usermedians=None, conf_intervals=None, meanline=None, showmeans=None, showcaps=None, showbox=None, showfliers=None, boxprops=None, labels=None, flierprops=None, medianprops=None, meanprops=None, capprops=None, whiskerprops=None, manage_xticks=True, autorange=False, zorder=None, **, data=None*) ÂÖ∑‰ΩìÂèÇÊï∞Ôºö x Ôºö Êï∞ÁªÑÊàñËÄÖÂêëÈáèÂ∫èÂàóÔºåÊåáÂÆöË¶ÅÁªòÂà∂ÁÆ±Á∫øÂõæÁöÑÊï∞ÊçÆ notchÔºöÊòØÂê¶ÊòØÂáπÂè£ÁÆ±Á∫øÂõæÔºåÈªòËÆ§‰∏∫Âê¶„ÄÇÂáπÂè£Ë°®Á§∫‰∏≠ÂÄºÈôÑËøëÁöÑÁΩÆ‰ø°Âå∫Èó¥„ÄÇbootstrapÊúâÂÖ≥Â¶Ç‰ΩïËÆ°ÁÆóÊßΩÂè£‰ΩçÁΩÆÁöÑ‰ø°ÊÅØ symÔºöÊåáÂÆöÂºÇÂ∏∏ÁÇπÁöÑÂΩ¢Áä∂ÔºåÈªòËÆ§ÊòØ+Âè∑ÊòæÁ§∫„ÄÇ‰∏çÊÉ≥ÊòæÁ§∫Ôºå‰º†ÂÖ•Á©∫Â≠óÁ¨¶‰∏≤(‚Äò‚Äô) vertÔºöÊòØÂê¶Â∞ÜÊ°ÜÂûÇÁõ¥ÊòæÁ§∫ÔºåÈªòËÆ§‰∏∫True whisÔºöÊåáÂÆö‰∏ä‰∏ãÈ°ªË∑ü‰∏ä‰∏ãÂõõÂàÜ‰ΩçÁöÑË∑ùÁ¶ªÔºåÈªòËÆ§ÊòØ1.5ÂÄçÂõõÂàÜ‰ΩçÂ∑Æ bootstrapÔºöÊòØÂê¶‰∏∫ÂáπÂè£‰ΩçÁΩÆÁöÑ‰∏≠‰ΩçÊï∞ËÆæÁΩÆÁΩÆ‰ø°Âå∫Èó¥ usermediansÔºöËÆæÁΩÆÊØè‰∏™ÂÖÉÁ¥†ÁöÑ‰∏≠‰ΩçÊï∞ÔºåÈªòËÆ§Áî±matplotlibËÆ°ÁÆó positionsÔºöËÆæÁΩÆÊ°ÜÁöÑ‰ΩçÁΩÆ widthsÔºöËÆæÁΩÆÊØè‰∏™Ê°ÜÁöÑÂÆΩÂ∫¶ÔºåÊ†áÈáèÊàñËÄÖÂ∫èÂàóÔºåÈªòËÆ§0.5 patch_artistÔºöÈªòËÆ§ÊòØÁî®‰∫åÁª¥Á∫øÊÄßÁªòÂà∂ÔºàLine2D artistÔºâ labelsÔºöÂ∫èÂàóÔºåÈïøÂ∫¶‰∏éx‰∏ÄÊ†∑Ôºå‰∏∫ÊØè‰∏™Êï∞ÊçÆÈõÜËÆæÁΩÆÊ†áÁ≠æ manage_xticksÔºöË∞ÉÊï¥xlimÂíåxtickÁöÑ‰ΩçÁΩÆÔºåÈªòËÆ§True autorangeÔºöÊòØÂê¶Áî®Á∫øÁöÑÂΩ¢ÂºèÊù•Ë°®Á§∫ÂùáÂÄºÔºåÈªòËÆ§ÊòØÁÇπ zorderÔºöËÆæÁΩÆÁÆ±Á∫øÂõæÁöÑzorder showcapsÔºöÂú®ÁÆ±Á∫øÂõæ‰∏§Á´ØÊòæÁ§∫ÈÇ£‰∏§Êù°Á∫øÔºåÈªòËÆ§True showboxÔºöÊòØÂê¶ÊòæÁ§∫‰∏≠Èó¥ÁöÑÊ°ÜÔºåÈªòËÆ§True showfliersÔºöÊòØÂê¶ÊòæÁ§∫ÂºÇÂ∏∏ÂÄºÔºåÈªòËÆ§True showmeansÔºöÊòØÂê¶ÊòæÁ§∫ÂùáÂÄºÔºåÈªòËÆ§False cappropsÔºöÊåáÂÆö‰∏§Á´ØÁ∫øÁöÑÊ†∑ÂºèÔºådict boxpropsÔºöÊåáÂÆöÊ°ÜÁöÑÊ†∑ÂºèÔºådict whiskerpropsÔºöÊåáÂÆöÈ°ªÁöÑÊ†∑ÂºèÔºådict medianpropsÔºöËÆæÁΩÆ‰∏≠ÂÄºÁöÑÊ†∑ÂºèÔºådictÔºåNone meanpropsÔºöËÆæÁΩÆÂùáÂÄºÊ†∑ÂºèÔºådictÔºåNone boxplot‰æãÂ≠ê123456789101112131415161718192021222324import numpy as npimport matplotlib.pyplot as plt# Fixing random state for reproducibilitynp.random.seed(19680801)# fake up some dataspread = np.random.rand(50) * 100center = np.ones(25) * 50flier_high = np.random.rand(10) * 100 + 100flier_low = np.random.rand(10) * -100# Â∞ÜÂ§ö‰∏™arrayÊåâÊåáÂÆöaxisÔºàÈªòËÆ§‰∏∫0ÔºâÂêàÂπ∂data = np.concatenate((spread, center, flier_high, flier_low))fig1, ax1 = plt.subplots()ax1.set_title('Box Plot')ax1.boxplot(data, showmeans=True, # ÊòæÁ§∫ÂùáÂÄº showfliers=True, # ÊòæÁ§∫ÂºÇÂ∏∏ÁÇπ flierprops=dict(markerfacecolor='g', marker='D'), # ÂºÇÂ∏∏ÂÄºÊ†∑Âºè notch=True, # ÈªòËÆ§95%ÁöÑÁΩÆ‰ø°Âå∫Èó¥ÔºåÂú®‰∏≠ÂÄºÈôÑËøë patch_artist=True, #‰ΩøÁî®Ëá™ÂÆö‰πâÈ¢úËâ≤Â°´ÂÖÖÁõíÂΩ¢ÂõæÔºå‰∏ÄÂÆöË¶ÅÂÖàËÆæÁΩÆÊâçÂèØ‰ª•ÂÆö‰πâÈ¢úËâ≤ boxprops = &#123;'color':'black','facecolor':'lightgrey'&#125;, ) Êõ¥Â§öÂÖ≥‰∫épropsÂèÇÊï∞ËÆæÁΩÆÊü•ÁúãÂÆòÊñπÊñáÊ°£ Ê∞¥Âπ≥ÁÆ±Á∫øÂõæ 12345fig5, ax5 = plt.subplots()ax5.set_title('Horizontal Boxes')ax5.boxplot(data, vert=False, # Ê∞¥Âπ≥ÊòæÁ§∫ flierprops=dict(markerfacecolor='r', marker='s'), # ËÆæÁΩÆÂºÇÂ∏∏ÂÄº ) Ëé∑ÂèñÂπ∂ÊòæÁ§∫ÂºÇÂ∏∏ÂÄº 1234567891011121314def show_flier(ax, x, y): for i in range(len(x)): ax.annotate('(%s, %.1f)' % (x[i], y[i]), (x[i],y[i]), xytext=(-0.2+x[i], 0.1+y[i]))fig4, ax4 = plt.subplots()ax4.set_title('Hide Outlier Points')f = ax4.boxplot(data[2], showfliers=True, # ‰∏ÄÂÆöË¶ÅËÆæÁΩÆ‰∏∫TrueÔºå‰∏çÁÑ∂‰∏ç‰ºöÊòæÁ§∫ÂºÇÂ∏∏ÂÄº whis=0.75)for i in f['fliers']: show_flier(ax4, i.get_xdata(), i.get_ydata()) # print(i.get_xdata(), i.get_ydata()) # print(i.get_xydata()) Áõ¥Êé•ËøîÂõû‰∫åÁª¥Êï∞ÁªÑ]]></content>
      <categories>
        <category>matplotlib</category>
      </categories>
      <tags>
        <tag>matplotlib, boxplot, ÁÆ±Á∫øÂõæ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[matplotlibÔºöannotateÊ†áÊ≥®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F12%2F12%2Fmatplotlib%EF%BC%9Aannotate%E6%B3%A8%E9%87%8A%2F</url>
    <content type="text"><![CDATA[ÁªôÂõæÁâáÊ∑ªÂä†Ê≥®ÈáäÊàñËÄÖÊ†áÂá∫Êüê‰∏™Êï∞ÂÄºÔºåÈúÄË¶ÅÁî®Âà∞annotate„ÄÇFigureÂØπË±°(plt.annotate)ÂíåAxesÂØπË±°(ax.annotate)ÈÉΩÊúâannotate()ÊñπÊ≥ïÔºåÂèÇÊï∞‰πüÊòØ‰∏ÄÊ†∑ÁöÑ„ÄÇ annotateÂèÇÊï∞ÂÖàÁúã‰∏ãAxes.ax.annotate(*args, **kwargs)ÁöÑÂèÇÊï∞Ôºå‰πüÂ∞±ÊòØmatplotlib.axes.Axes.annotateÔºö sÔºöstrÔºåÊ≥®ÈáäÊñáÊú¨ÂÜÖÂÆπ xyÔºöÂÖÉÁªÑÔºåË¢´Ê†áÊ≥®ÁöÑÂùêÊ†áÁÇπ xytextÔºöÂÖÉÁªÑÔºåÂèØÈÄâ„ÄÇÊ≥®ÈáäÊñáÊú¨sÁöÑÊîæÁΩÆ‰ΩçÁΩÆÔºåÈªòËÆ§ÊòØxy xycoordsÔºöstrÔºåArtistÔºåTransformÔºåÂèØË∞ÉÁî®ÂØπË±°ÊàñËÄÖÂÖÉÁªÑÔºåxyÁöÑÂùêÊ†áÁ≥ª„ÄÇÂèÇÊï∞Â¶Ç‰∏ãÔºö figure pointsÔºöÂú®figureÂ∑¶‰∏ãÊñπÁöÑÁÇπ figure pixelsÔºöÂú®figureÂ∑¶‰∏ãÊñπÁöÑÂÉèÁ¥† figure fractionÔºöfigureÂ∑¶‰∏ãËßíÁöÑÊï∞Â≠óÈÉ®ÂàÜ axes pointsÔºöÂú®axesÂ∑¶‰∏ãËßíÁöÑÁÇπ axes pixelsÔºöÂú®axesÂ∑¶‰∏ãËßíÁöÑÂÉèÁ¥† axes fractionÔºöÂú®axesÂ∑¶‰∏ãËßíÁöÑÊï∞Â≠óÈÉ®ÂàÜ dataÔºöÈªòËÆ§ÈÄâÈ°πÔºå‰ΩøÁî®Ë¢´Ê†áÊ≥®ÂØπË±°ÁöÑÂùêÊ†áÁ≥ª polarÔºöÊûÅÂùêÊ†áÁ≥ªÔºå(theta,r) if not native ‚Äòdata‚Äô coordinates textcoordsÔºöstrÔºåArtistÔºåTransformÔºåÂèØË∞ÉÁî®ÂØπË±°ÊàñËÄÖÂÖÉÁªÑÔºåxytextÁªôÂÆöÁöÑÂùêÊ†áÁ≥ªÔºåÂèØËÉΩË∑üxyÁöÑÂùêÊ†áÁ≥ª‰∏çÂêå„ÄÇÂèÇÊï∞Â¶Ç‰∏ãÔºö offset pointsÔºöË∑ùÁ¶ªxyÂÄºÁöÑÂÅèÁßªÈáèÔºàÁÇπÔºâ offset pixelsÔºöË∑ùÁ¶ªxyÂÄºÁöÑÂÅèÁßªÈáèÔºàÂÉèÁ¥†Ôºâ ÈªòËÆ§Ë∑üxycoordsÁöÑÂèÇÊï∞‰∏ÄËá¥ arrowpropsÔºödictÔºåÁªòÂà∂ÊñáÊú¨xytextÂíåÂùêÊ†áÁÇπxy‰πãÈó¥ÁöÑÁÆ≠Â§¥„ÄÇ‰∏çÂåÖÂê´arrowstyleÂèÇÊï∞„ÄÇÂÖ∂‰ªñÂèÇÊï∞Â¶Ç‰∏ã widthÔºöÁÇπÁöÑÁÆ≠Â§¥ÂÆΩÂ∫¶ headlengthÔºöÁÆ≠Â§¥Â∫ïÈÉ®ÁöÑÂÆΩÂ∫¶Ôºå‰ª•Á£Ö‰∏∫Âçï‰Ωç shrinkÔºöÂ∞èÊï∞Ôºå‰ªé‰∏§Á´ØÊî∂Áº©Âà∞ÊÄªÈïøÂ∫¶ÁöÑ‰∏ÄÈÉ®ÂàÜ Â¶ÇÊûúÂê´ÊúâarrowstyleÂèÇÊï∞ÔºåÈÇ£‰πà‰∏äÈù¢ÁöÑÂèÇÊï∞ÈÉΩÂ§±Êïà„ÄÇÂÖ∑‰ΩìÊü•ÁúãÂÆòÊñπÊñáÊ°£ÔºåËøòÊúâÂêÑÁßç‰æãÂ≠ê annotation_clipÔºöÊéßÂà∂Ê≥®ÈáäÂú®AxesÂå∫ÂüüÂ§ñÊòØÂê¶ÂèØËßÅ„ÄÇTrueÔºåÂè™ÂΩìÁÇπxyÂú®AxesËåÉÂõ¥ÂÜÖÊâçÊòæÁ§∫Ê≥®ÈáäÊñáÊú¨ÔºåFalseÂàô‰∏ÄÁõ¥ÈÉΩÂèØËßÅ„ÄÇÈªòËÆ§‰∏∫NoneÔºåÂΩìxycoords=‚Äùdata‚ÄùÊó∂ÔºåÁõ∏ÂΩì‰∫éTrue annotateÂü∫Êú¨‰æãÂ≠êÊù•Ëá™ÂÆòÊñπ‰æãÂ≠ê 1234567891011121314151617import numpy as npimport matplotlib.pyplot as pltfig, ax = plt.subplots()t = np.arange(0.0, 5.0, 0.01)s = np.cos(2*np.pi*t)line = ax.plot(t, s, lw=2) # Á∫ø# ÊñáÊú¨ÂÜÖÂÆπÊòØlocal maxÔºåÊ†áÊ≥®ÁöÑÁÇπÊòØxy=(2,1)ÔºåÊñáÊú¨ÊîæÁΩÆÁöÑ‰ΩçÁΩÆÊòØ(3,1.5),shrinkÊòØÁÆ≠Â§¥Âà∞ÊñáÊú¨ÁöÑË∑ùÁ¶ªÊâÄÂç†ÊÄªÈïøÂ∫¶ÁöÑÊØî‰æã# Êç¢Êàê0.5Ôºå‰ºöÁúãÂà∞ÁÆ≠Â§¥Âè™Êúâ‰ªéÁÇπ(2,1)ÂºÄÂßãÁöÑÈÇ£ÂâçÂçäËäÇÔºåfacecolorÊòØÁÆ≠Â§¥Â°´ÂÖÖËâ≤ax.annotate('local max', xy=(2, 1), xytext=(3, 1.5), arrowprops=dict(facecolor='black', shrink=0.05), )ax.set_ylim(-2, 2)plt.show() Annotate TransformÂè¶‰∏Ä‰∏™ÊØîËæÉÂ§çÊùÇÁöÑ‰æãÂ≠êÔºåÈìæÊé•Ê†∑Âºè(connection style)ÂèØ‰ª•ÂèÇËÄÉÂÆòÁΩë 12345678910111213141516171819202122232425262728293031323334353637import numpy as npimport matplotlib.pyplot as pltx = np.arange(0, 10, 0.005)y = np.exp(-x/2.) * np.sin(2*np.pi*x)fig, ax = plt.subplots()ax.plot(x, y)ax.set_xlim(0, 10)ax.set_ylim(-1, 1)xdata, ydata = 5, 0xdisplay, ydisplay = ax.transData.transform_point((xdata, ydata))print(xdisplay, ydisplay)# Ê≥®ÈáäÊñáÊú¨ÁöÑÂ§ñÊ°ÜÂíåÂ∫ïËâ≤bbox = dict(boxstyle="round", fc="0.8")# ËÆæÁΩÆÁÆ≠Â§¥Ê†∑Âºèarrowprops = dict( arrowstyle = "-&gt;", connectionstyle = "angle,angleA=0,angleB=90,rad=10")offset = 72# (xdata, ydata)ÊòØÊ≥®ÈáäÁöÑ‰ΩçÁΩÆÔºåxytextÊòØÊñáÊú¨ÁöÑ‰ΩçÁΩÆÔºåÈÉΩÊòØÂÖÉÁªÑax.annotate('data = (%.1f, %.1f)'%(xdata, ydata), (xdata, ydata), xytext=(-2*offset, offset), textcoords='offset points', bbox=bbox, arrowprops=arrowprops)disp = ax.annotate('display = (%.1f, %.1f)'%(xdisplay, ydisplay), (xdisplay, ydisplay), xytext=(0.5*offset, -offset), xycoords='figure pixels', textcoords='offset points', bbox=bbox, arrowprops=arrowprops)plt.show()]]></content>
      <categories>
        <category>matplotlib</category>
      </categories>
      <tags>
        <tag>matplotlib</tag>
        <tag>annotate</tag>
        <tag>Ê†áÊ≥®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêËΩ¨„ÄëmatplotlibÔºö‰ΩøÁî®matplotlibËøõË°åpythonÁªòÂõæÔºàÊåáÂçóÔºâ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F12%2F11%2Fmatplotlib%EF%BC%9A%E4%BD%BF%E7%94%A8matplotlib%E8%BF%9B%E8%A1%8Cpython%E7%BB%98%E5%9B%BE%EF%BC%88%E6%8C%87%E5%8D%97%EF%BC%89%2F</url>
    <content type="text"><![CDATA[Âú®python‰∏≠ÁîªÂõæËÇØÂÆöÂ∞ë‰∏ç‰∫ÜmatplotlibÂ∫ìÔºåÂá†Ë°å‰ª£Á†ÅÂ∞±ÂèØ‰ª•Â∞ÜÁîªÂá∫Âü∫Êú¨ÂõæÊù•Ôºå‰ΩÜÊòØÂ§ßÈÉ®ÂàÜÊó∂ÂÄôËøòÊòØË¶ÅÂéªÊü•ÈòÖÊñáÊ°£ÊàñËÄÖÂéªstackover flowÊü•ÊâæÔºåÂõ†‰∏∫Ëøô‰∏™Â∫ìÁúüÁöÑÂ§™Â∫ûÂ§ß‰∫Ü„ÄÇÊúÄËøëÂàöÂ•ΩÁúãÂà∞‰∏ÄÁØáÊñáÁ´†ÔºåÂØπmatplotlibÁöÑ‰∏Ä‰∫õÊ¶ÇÂøµËß£ÈáäÁöÑÂæàÂ•ΩÔºå‰πüÊúâÂØπÂ∫îÁöÑ‰æãÂ≠êÔºåÊâÄ‰ª•Ê†πÊçÆÊñáÁ´†ÂÅö‰∏™ÁÆÄÂåñÁâàÁøªËØëÔºåÊõ¥ËØ¶ÁªÜÁöÑÂÜÖÂÆπÂèØ‰ª•Êü•ÁúãÂéüÊñá„ÄÇ matplotlibÂØπË±°ÁöÑÂ±ÇÊ¨°ÁªìÊûú‰ΩøÁî®ËøámatplotlibÔºåÂ∫îËØ•ÈÉΩÁî®ËøáËøôË°å‰ª£Á†Åplt.plot([1,2,3])„ÄÇËøô‰∏ÄË°åÈöêËóè‰∫Ü‰∏Ä‰∏™‰∫ãÂÆûÔºö‰∏Ä‰∏™plotÂÆûÈôÖ‰∏äÊòØÂµåÂ•ópythonÂØπË±°ÁöÑÂ±ÇÊ¨°ÁªìÊûúÔºå‰πüÂ∞±ÊòØËØ¥ÊØè‰∏™Âõæ‰∏ãÈù¢ÈÉΩÊúâ‰∏Ä‰∏™matplotlibÂØπË±°ÁöÑÊ†ëÂΩ¢ÁªìÊûÑ„ÄÇ Â¶Ç‰∏ãÂõæÊâÄÁ§∫Ôºå‰∏Ä‰∏™FigureÂØπË±°ÊòØmatplotlibÂõæÂÉèÊúÄÂ§ñÂ±ÇÁöÑ‰∏Ä‰∏™ÂÆπÂô®ÔºåÂèØ‰ª•ÂåÖÂê´‰∏Ä‰∏™ÊàñÂ§ö‰∏™AxesÂØπË±°(ÂÆûÈôÖÁªòÂõæÁöÑÁõíÁä∂ÂÆπÂô®)„ÄÇÂÆπÊòìÂºïËµ∑Ê∑∑Ê∑ÜÁöÑ‰∏Ä‰∏™ÂéüÂõ†ÔºöAxesÂÆûÈôÖ‰∏äÊòØ‰∏Ä‰∏™Áã¨Á´ãÁöÑplotÊàñËÄÖgraphÔºåËÄå‰∏çÊòØÊàë‰ª¨ÊâÄËÆ§‰∏∫ÁöÑaxis/ËΩ¥ÁöÑÂ§çÊï∞„ÄÇAxesÂØπË±°‰πã‰∏ãÂ∞±ÊòØÂõæË°®ÁöÑ‚ÄúÂÖÉÁ¥†‚ÄùÔºå‰æãÂ¶ÇÔºöÂàªÂ∫¶Á∫ø„ÄÅÁ∫øÊù°„ÄÅÂõæ‰æã„ÄÅÊñáÊú¨Ê°Ü„ÄÅÂàªÂ∫¶„ÄÅÊ†áÁ≠æÁ≠âÔºåÈÉΩÊòØAxesÂØπË±°ÂèØÊìç‰ΩúÁöÑpythonÂØπË±°„ÄÇ Êñá‰∏≠‰ª£Á†ÅÈÉΩÊòØÂú®jupyter notebook‰∏≠ËøêË°åÁöÑÔºåÊúÄÂêéÁöÑÊ≥®ÈáäÂÜÖÂÆπÊòØËæìÂá∫ÁªìÊûúÔºåÂõ†‰∏∫ÊáíÂæóÊà™Âõæ‰∫Ü„ÄÇ„ÄÇ„ÄÇ ÈÄöËøá‰æãÂ≠êÊù•ÈáçÊñ∞ËÆ§ËØÜmatplotlibÂêßÔºö 12345678import matplotlib.pyplot as pltimport pandas as pdimport numpy as npfig, _ = plt.subplots()type(fig)# matplotlib.figure.Figure ‰æãÂ≠ê‰∏≠‰ªéplt.subplots()‰∏≠ÂàõÂª∫‰∫Ü‰∏§‰∏™ÂèòÈáèÔºå‰∏Ä‰∏™figÊòØÈ°∂Á∫ßÁöÑFigureÂØπË±°ÔºåÂè¶‰∏Ä‰∏™ÊòØÊöÇÊó∂‰∏çÈúÄË¶ÅÁî®Âà∞ÁöÑ‚Äú‰∏ÄÊ¨°ÊÄß‚ÄùÂèòÈáèÔºåÁî®‰∏ãÂàíÁ∫øË°®Á§∫„ÄÇ‰ΩøÁî®Â±ûÊÄßË°®Á§∫Ê≥ïÔºåÂèØ‰ª•ËΩªÊùæÈÅçÂéÜÂ±ÇÁ∫ßÁªìÊûÑÂπ∂Êü•ÁúãÁ¨¨‰∏Ä‰∏™AxesÂØπË±°ÁöÑyËΩ¥ÁöÑÁ¨¨‰∏Ä‰∏™ÂàªÂ∫¶ 1234one_tick = fig.axes[0].yaxis.get_major_ticks()[0]one_tick# &lt;matplotlib.axis.YTick at 0x7f0b569acac8&gt; ‰æãÂ≠ê‰∏≠ÔºåfigÔºà‰∏Ä‰∏™FigureÁ±ªÂÆû‰æãÔºâÊúâÂ§ö‰∏™AxesÔºà‰∏Ä‰∏™ÂàóË°®ÔºåËøôÈáåÂèñÁ¨¨‰∏Ä‰∏™Ôºâ„ÄÇÊØè‰∏™AxesÈÉΩÊúâ‰∏Ä‰∏™yaxisÂíåxaxisÔºåÊØè‰∏™ÈÉΩÊúâ‰∏Ä‰∏™‚Äúmajor ticks‚ÄùÁöÑÈõÜÂêàÔºå‰æãÂ≠ê‰∏≠ÂèñÁ¨¨‰∏Ä‰∏™„ÄÇ ÂêÑ‰∏™ÈÉ®ÂàÜÂèØ‰ª•ÂèÇËÄÉ‰∏ãÂõæÔºö ‰∏äÂõæÁöÑ‰ª£Á†ÅÂÆûÁé∞ statefulÂíåstatelessÂú®Ëøõ‰∏ÄÊ≠•‰∫ÜËß£matplotlib‰πãÂâçÔºåÈúÄË¶ÅÊòéÁôΩstateful(Âü∫‰∫éÁä∂ÊÄÅÔºåÁä∂ÊÄÅÊú∫)ÂíåÊó†Áä∂ÊÄÅ(Èù¢ÂêëÂØπË±°ÔºåOO)Êé•Âè£‰πãÈó¥ÁöÑÂå∫Âà´„ÄÇ Âá†‰πéÊâÄÊúâÊù•Ëá™pyplotÁöÑÂáΩÊï∞ÔºåÂ¶Çplt.plot()ÔºåË¶Å‰πàÈöêÂºèÂú∞ÊåáÂêëÁé∞ÊúâÁöÑFigureÂØπË±°ÂíåAxesÂØπË±°ÔºåË¶Å‰πà‰∏çÂ≠òÂú®Êó∂Áõ¥Êé•ÂàõÂª∫Êñ∞ÁöÑFigureÂíåAxesÂØπË±°„ÄÇmatplotlibÊñáÊ°£ÊòØËøôÊ†∑ËØ¥ÁöÑÔºö „Äê‰ΩøÁî®pyplot„ÄëÁÆÄÂçïÁöÑÂáΩÊï∞ÊòØÁî®Êù•‰∏∫ÂΩìÂâçFigureÂØπË±°ÁöÑAxesÂõæÂÉèÊ∑ªÂä†ÂÖÉÁ¥†ÁöÑÔºàÁ∫øÊù°ÔºåÂõæÁâáÔºåÊñáÊú¨Á≠âÔºâ„ÄêÂº∫Ë∞ÉÊ∑ªÂä†„Äë ‚Äúplt.plotÔºàÔºâÊòØ‰∏Ä‰∏™ÈöêÂºèË∑üË∏™ÂΩìÂâçÊï∞Â≠óÁöÑÁä∂ÊÄÅÊú∫ÁïåÈù¢ÔºÅ‚ÄùÂú®Ëã±ËØ≠‰∏≠ÔºåËøôÊÑèÂë≥ÁùÄÔºö ÊúâÁä∂ÊÄÅÊé•Âè£‰ΩøÁî®plt.plotÔºàÔºâÂíåÂÖ∂‰ªñÈ°∂Á∫ßpyplotÂáΩÊï∞ËøõË°åË∞ÉÁî®„ÄÇÂú®ÁªôÂÆöÁöÑÊó∂Èó¥ÂÜÖÂè™Êúâ‰∏Ä‰∏™ÂõæÊàñËΩ¥ÂèØ‰ª•Êìç‰ΩúÔºå‰∏çÈúÄË¶ÅÊòéÁ°ÆÂú∞ÂºïÁî®ÂÆÉ„ÄÇ Áõ¥Êé•‰øÆÊîπÂ∫ïÂ±ÇÂØπË±°ÊòØÈù¢ÂêëÂØπË±°ÁöÑÊñπÊ≥ï„ÄÇÊàë‰ª¨ÈÄöÂ∏∏ÈÄöËøáË∞ÉÁî®AxesÂØπË±°ÁöÑÊñπÊ≥ïÊù•ÂÅöÂà∞Ëøô‰∏ÄÁÇπÔºåAxesÂØπË±°ÊòØË°®Á§∫ÁªòÂõæÊú¨Ë∫´ÁöÑÂØπË±°„ÄÇ Êï¥‰∏™ËøáÁ®ãÁöÑÊµÅÁ®ãÂ∞±ÂÉè‰∏ãÂõæÊâÄÁ§∫Ôºö Áî®‰ª£Á†ÅÊù•Ë°®Á§∫‰∏äËø∞ÊµÅÁ®ãÔºö 12345678# plt.plot()Ëé∑ÂèñÂΩìÂâçËΩ¥ÁöÑ‰∏Ä‰∏™ÊµÅÁ®ãË°®Á§∫ÔºåÁº©ÁÆÄÁâàdef plot(*args, **kwargs): ax = plt.gca() return ax.plot(*args, **kwargs)def gca(**kwargs): """Ëé∑ÂèñÂΩìÂâçFigure‰∏≠ÁöÑAxesÂØπË±°""" return plt.gcf().gca(**kwargs) Ë∞ÉÁî®plt.plot()Âè™ÊòØËé∑ÂèñÂΩìÂâçFigureÁöÑÂΩìÂâçAxesÂØπË±°ÔºåËøô‰πüÂ∞±ÊòØÊúâÁä∂ÊÄÅÊé•Âè£ÊÄªÊòØ‚ÄúÈöêÂºèË∑üË∏™‚ÄùÂÆÉÊÉ≥Ë¶ÅÂºïÁî®ÁöÑÂõæ„ÄÇ pyplotÊòØ‰∏ÄÁ≥ªÂàóÂáΩÊï∞ÁöÑÈõÜÂêàÔºåËøô‰∫õÂáΩÊï∞ÂÆûÈôÖ‰∏äÂè™ÊòØmatplotlibÈù¢ÂêëÂØπË±°Êé•Âè£ÁöÑÂåÖË£ÖÂô®„ÄÇ‰æãÂ¶ÇÔºåplt.title()Âú®Èù¢ÂØπÂØπË±°ÊñπÊ≥ï‰∏≠ÊúâÁõ∏Â∫îÁöÑsetterÂíågetterÊñπÊ≥ïÔºöax.set_title()Âíåax.get_title()„ÄÇË∞ÉÁî®plt.title()Á≠âÂêå‰∫égca().set_title(s, *args, **kwargs)ÔºåËøôË°å‰ª£Á†ÅÂåÖÂê´‰∫Ü‰ª•‰∏ãÊìç‰ΩúÔºö gca()Ëé∑ÂèñÂπ∂ËøîÂõûÂΩìÂâçAxes set_title()ÊòØ‰∏Ä‰∏™setterÊñπÊ≥ïÔºåÁî®‰∫éËÆæÁΩÆËØ•AxesÂØπË±°ÁöÑÊ†áÈ¢ò„ÄÇËøôÈáåÊàë‰ª¨Â∞±‰∏çÈúÄË¶ÅÊòéÁ°ÆÊåáÂÆö‰ªª‰ΩïÂØπË±°ÁöÑplt.title() Á±ª‰ººÂú∞ÔºåÂÖ∂‰ªñÈ°∂Á∫ßÂáΩÊï∞ÔºåÂ¶Çplt.grid()Ôºåplt.legend()Âíåplt.ylabels()ÔºåÈÉΩÊòØË∑üplt.title()‰∏ÄÊ†∑ÁöÑÊìç‰ΩúÔºåÂÖàÊòØËé∑ÂèñÂΩìÂâçAxesÔºågca()Ë∞ÉÁî®ÂΩìÂâçAxesÁöÑ‰∏Ä‰∫õÊñπÊ≥ï„ÄÇ ÁêÜËß£plt.subplots()Êé•‰∏ãÊù•‰∏ªË¶ÅÊòØ‰æùËµñ‰∫éÊó†Áä∂ÊÄÅ/Èù¢ÂêëÂØπË±°ÊñπÊ≥ïÔºåËøôÁßçÊñπÊ≥ïÂèØÂÆöÂà∂ÊÄßÊõ¥È´òÔºåÂõæÂΩ¢ÂèòÂæóÊõ¥Âä†Â§çÊùÇÊõ¥Ê¥æÂæó‰∏äÁî®Âú∫„ÄÇÂú®Èù¢ÂêëÂØπË±°‰ΩøÁî®Âçï‰∏™AxesÂàõÂª∫ÂØπË±°ËßÑÂÆöÊòØ‰ΩøÁî®plt.subplots()„ÄÇËøôÊòØÈù¢ÂêëÂØπË±°‰ΩøÁî®pyplotÂàõÂª∫FigureÂíåAxesÁöÑÂîØ‰∏ÄÊó∂Èó¥„ÄÇ 12345# Ê≤°Êúâ‰º†ÈÄí‰ªª‰ΩïÂèÇÊï∞ÔºåÈªòËÆ§ÊòØË∞ÉÁî®subplots(nrows=1, ncols=1)ÔºåÊâÄ‰ª•ËøîÂõû‰∏Ä‰∏™FigureÂíå‰∏Ä‰∏™Axesfig, ax = plt.subplots()type(ax)# matplotlib.axes._subplots.AxesSubplot Êàë‰ª¨ÂèØ‰ª•Áî®axÁöÑÂÆû‰æãÊñπÊ≥ïÊù•Êìç‰ΩúÁªòÂõæÔºåÊé•‰∏ãÊù•Áî®‰∏â‰∏™Êó∂Èó¥Â∫èÂàóÁöÑÂ†ÜÁßØÈù¢ÁßØÂõæÊù•ËØ¥Êòé 1234567891011rng = np.arange(50)rnd = np.random.randint(0, 10, size=(3, rng.size))yrs = 1950 + rngfig, ax = plt.subplots(figsize=(5,3))ax.stackplot(yrs, rng+rnd, labels=['Eastasia', 'Eurasia', 'Oceania'])ax.set_title('Combined debt growth over time')ax.legend(loc='upper left')ax.set_ylabel('Total debt')ax.set_xlim(xmin=yrs[0], xmax=yrs[-1])fig.tight_layout() # tight_layout()‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰ΩìÂ∫îÁî®‰∫éÂõæÂΩ¢ÂØπË±°Êù•Ê∏ÖÁêÜÁ©∫ÁôΩÂ°´ÂÖÖ Â¶ÇÊûúÊòØ‰∏Ä‰∏™Figure‰∏≠ÂåÖÂê´Â§ö‰∏™Axes/Â≠êÂõæÂë¢Ôºü‰∏ãÈù¢Áî®Á¶ªÊï£ÂùáÂåÄÂàÜÂ∏ÉÁªòÂà∂‰∏§‰∏™Áõ∏ÂÖ≥Êï∞ÁªÑÔºåË∑ü‰∏ä‰∏Ä‰∏™‰æãÂ≠êÁöÑ‰∏çÂêåÁÇπÂèØ‰ª•Êü•Áúã‰ª£Á†ÅÈáåÁöÑÊ≥®Èáä 12345678910111213141516x = np.random.randint(low=1, high=11, size=50)y = x + np.random.randint(1, 5, size=x.size)data = np.column_stack((x, y)) # column_stackÂ∞ÜÂ§ö‰∏™‰∏ÄÁª¥array‰Ωú‰∏∫columnËΩ¨‰∏∫Â§öÁª¥Êï∞ÁªÑ# 1.ÂàõÂª∫‰∏Ä‰∏™FigureÂíå‰∏§‰∏™AxesÔºå‰πüÂèØ‰ª•Áî®fig, axs = plt.subplots(1, 2, figsize=(8,4))# 2.ÂàÜÂà´Â§ÑÁêÜ‰∏§‰∏™Â≠êÂõæfig, (ax1, ax2) = plt.subplots(nrows=1, ncols=2, figsize=(8, 4))ax1.scatter(x, y, marker='o', c='r', edgecolor='b') # edgecolorËÆæÁΩÆmarkerËæπÁºòÈ¢úËâ≤ax1.set_xlabel('$x$') # Âä†‰∫Ü$Á¨¶Âè∑ÔºåxÔºåy‰ºöÂèòÊàêÊñú‰Ωìax1.set_ylabel('$y$') # labelÂÆö‰πâ‰∏§ÁªÑÊï∞ÊçÆÂØπÂ∫îÁöÑÊ†áÁ≠æÔºåDataFrame‰∏ÄËà¨‰∏çÈúÄË¶ÅÔºåÂõ†‰∏∫Êúâcolumnsax2.hist(data, bins=np.arange(data.min(), data.max()), label=('x', 'y')) ax2.legend(loc=(0.7, 0.8))ax2.set_title('Frequencies of $x$ and $y$')ax2.yaxis.tick_right() # Â∞Üax2ÁöÑyËΩ¥tickËÆæÁΩÆÂú®Âè≥Ëæπ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ§ö‰∏™AxesÈÉΩÊòØÂåÖÂê´Âú®ÁªôÂÆöÁöÑFigure‰∏≠ÁöÑ„ÄÇÂ¶Ç‰∏äÈù¢ÁöÑ‰æãÂ≠êÔºåfig.axesËÉΩËé∑ÂèñÂà∞ÊâÄÊúâÁöÑAxesÂØπË±°ÂàóË°® 12(fig.axes[0] is ax1, fig.axes[1] is ax2) # ËøôÈáåÁöÑfig.axes‰∏≠ÁöÑaxesÊòØÂ∞èÂÜô# (True, True) Êàë‰ª¨ËøòÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ÂåÖÂê´2*2AxesÂØπË±°ÁöÑÁΩëÊ†ºÂõæÂΩ¢Figure 1234567891011121314fig, ax = plt.subplots(nrows=2, ncols=2, figsize=(7, 7))type(ax) # ÂèØ‰ª•ÁúãÂà∞ÔºåaxÊòØnumpyÁöÑÊï∞ÁªÑÁ±ªÂûã# numpy.ndarrayax""" array([[&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7f0b541b29b0&gt;, &lt;matplotlib.axes._subplots.AxesSubplot object at 0x7f0b547d2710&gt;], [&lt;matplotlib.axes._subplots.AxesSubplot object at 0x7f0b548efc88&gt;, &lt;matplotlib.axes._subplots.AxesSubplot object at 0x7f0b5451e240&gt;]], dtype=object)"""ax.shape# (2, 2) axÊòØÊï∞ÁªÑÁ±ªÂûãÔºåÈúÄË¶Å‰ΩøÁî®flattenÂáΩÊï∞Â∞ÜÊï∞ÁªÑÂπ≥Â±ï‰∏∫‰∏ÄÁª¥ÁöÑÊâçËÉΩ‰ΩøÁî® 123ax1, ax2, ax3, ax4 = ax.flatten()# or((ax1, ax2), (ax3, ax4)) = ax ‰∏∫‰∫ÜÂ±ïÁ§∫Êõ¥Â§öÁöÑÁî®Ê≥ïÔºåÊé•‰∏ãÊù•‰ΩøÁî®Âä†Âà©Á¶èÂ∞º‰∫öÂ∑ûÁöÑÊàø‰ª∑Êï∞ÊçÆ 12345678910111213141516171819202122232425262728293031# Ëé∑ÂèñÊï∞ÊçÆ„ÄÇÂéüÊñáÊòØÈÄöËøá‰ª£Á†Å‰∏ãËΩΩËß£ÂéãÊï∞ÊçÆÁöÑhousing = np.loadtxt('CaliforniaHousing/cal_housing.data', delimiter=',')y = housing[:, -1]pop, age = housing[:, [4, 7]].T # popÂú∞Âå∫‰∫∫Âè£ÔºåageÊòØÊàøÂ≠êÁöÑÂπ≥ÂùáÂ±ãÈæÑdef add_titlebox(ax, text): """Âú®Axes‰∏≠Ê∑ªÂä†ÊñáÊú¨""" ax.text(.55, .8, text, horizontalalignment='center', transform=ax.transAxes, bbox=dict(facecolor='white', alpha=0.6), fontsize=12.5) return ax# ÂàõÂª∫Â∏¶ÊúâÂ§ö‰∏™AxesÁöÑFigureÁΩëÊ†ºgridsize = (3, 2)fig = plt.figure(figsize=(12, 8))ax1 = plt.subplot2grid(gridsize, (0, 0), colspan=2, rowspan=2) # ax1Âç†Áî®‰∏§Ë°å‰∏§Âàóax2 = plt.subplot2grid(gridsize, (2, 0)) # ax2Âú®Á¨¨‰∏âË°åÁ¨¨‰∏ÄÂàóax3 = plt.subplot2grid(gridsize, (2, 1)) # ax3Âú®Á¨¨‰∏âË°åÁ¨¨‰∫åÂàó# ax1ÊòØÊï£ÁÇπÂõæÔºåÂπ∂Â∏¶ÊúâcolormapÔºåÂÖ∂‰ªñ‰∏§‰∏™Âõæ‰∏∫Áõ¥ÊñπÂõæÔºàÊü•ÁúãÊï∞ÊçÆÂàÜÂ∏ÉÔºâax1.set_title('Home value as a function of home age and area population', fontsize=14)# cÊòØcolorÔºåyÁöÑÂ∫èÂàóÊò†Â∞ÑÂà∞cmapÔºåËøôÊ†∑yÁöÑÂÄº‰∏écmapÁöÑÈ¢úËâ≤ÂèØ‰ª•‰∏Ä‰∏ÄÂØπÂ∫î‰∏äÔºåcmapÈÄâÊã©È¢úËâ≤ÂèòÂåñÔºåË∑üÂèÇÊï∞cÁªìÂêà‰ΩøÁî®sctr = ax1.scatter(x=age, y=pop, c=y, cmap='RdYlGn') plt.colorbar(sctr, ax=ax1, format='$%d')ax2.hist(age, bins='auto') # binsÂèØ‰ª•ÊòØÊï¥Êï∞ÔºåÂ∫èÂàóÊàñËÄÖ‚Äòauto‚Äôax3.hist(pop, bins='auto', log=True) # logÊ†áÁ≠æÊòæÁ§∫‰∏∫logÂΩ¢Âºèadd_titlebox(ax2, 'Histogram: home age')add_titlebox(ax3, 'Histogram: area population (log scl.)') Ë∑ücolor map‰∏ç‰∏ÄÊ†∑ÁöÑÊòØÔºåcolorbar()ÊòØÁî±FigureÁõ¥Êé•Ë∞ÉÁî®ÔºåËÄå‰∏çÊòØAxesÂØπË±°ÔºåÂπ∂‰∏îÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ÊòØÊï£ÁÇπÂõæÁöÑËøîÂõûÁªìÊûúÔºåÂÆÉÁöÑ‰ΩúÁî®Â∞±ÊòØÂ∞ÜyÂÄºÊò†Â∞ÑÂà∞color map„ÄÇÂú®yËΩ¥‰∏äÔºåÊàø‰ª∑Âπ∂Ê≤°ÊúâÂ§™Â§ßÁöÑÂèòÂåñ(È¢úËâ≤)ÔºåxËΩ¥‰∏äÂàôÁî±ÊòéÊòæÂèòÂåñÔºåËØ¥ÊòéÂ±ãÈæÑÊòØÊàøÂ±ã‰ª∑ÂÄºÁöÑ‰∏Ä‰∏™Êõ¥Â§ßÁöÑÂÜ≥ÂÆöÂõ†Á¥† Â±èÂπïÂêéÈù¢ÁöÑ‚ÄúFigures‚ÄùÊØèÊ¨°Ë∞ÉÁî®plt.subplots()ÊàñËÄÖplt.figure()(Âè™ÂàõÂª∫FigureÔºåÊ≤°ÊúâAxes)ÔºåÈÉΩ‰ºöÂú®ÂÜÖÂ≠òÈáåÊñ∞Âª∫‰∏Ä‰∏™FigureÂØπË±°„ÄÇÂú®ÁªàÁ´ØËøêË°åÁöÑÁªìÊûúË∑üÂéüÊñá‰∏ÄÊ†∑ÔºåÂ¶ÇÊûúÊòØÂú®jupyter notebookÂàôÊØè‰∏ÄÊ¨°ËøîÂõûidÈÉΩ‰∏çÂêå„ÄÇ 12345678910&gt;&gt;&gt; fig1, ax1 = plt.subplots()&gt;&gt;&gt; id(fig1)4525375272&gt;&gt;&gt; id(plt.gcf()) # fig1ÊòØÂΩìÂâçFigureÂØπË±°4525375272&gt;&gt;&gt; fig2, ax2 = plt.subplots()&gt;&gt;&gt; id(fig2) == id(plt.gcf()) # ÂΩìÂâçFigureÂØπË±°Â∑≤ÁªèÊõ¥Êîπ‰∏∫fig2True&gt;&gt;&gt; plt.get_fignums()[1, 2] ÂèØ‰ª•ÈÄöËøáplt.figure()Ëé∑ÂèñÂà∞Â≠òÂú®ÂÜÖÂ≠ò‰∏≠ÁöÑFigure 12345def get_all_figures(): return [plt.figure(i) for i in plt.get_fignums()]get_all_figures()# [&lt;Figure size 640x480 with 1 Axes&gt;, &lt;Figure size 640x480 with 1 Axes&gt;] ‰ΩøÁî®plt.close()ÊñπÊ≥ïÂàôÂèØ‰ª•ÂÖ≥Èó≠ÂØπÂ∫îÁöÑfigure 12plt.close(num) # ÂÖ≥Èó≠Â∫èÂè∑‰∏∫numÁöÑFigureplt.close('all') # ÂÖ≥Èó≠ÂÖ®ÈÉ® imshowÂíåmatshowÈô§‰∫Üplt.plot()ÂèØ‰ª•ÁªòÂõæ‰πãÂêéÔºåËøòÊúâÂÖ∂‰ªñÁöÑÊñπÊ≥ïÔºåÂ¶ÇÔºöimshow()Âíåmatshow()„ÄÇÂêéËÄÖÊòØÂâçËÄÖÁöÑÂ∞ÅË£Ö„ÄÇÂè™Ë¶ÅÂéüÂßãÊï∞ÂÄºÊï∞ÁªÑÂèØ‰ª•ÊòæÁ§∫‰∏∫ÂΩ©Ëâ≤ÁΩëÊ†ºÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®„ÄÇ ‰æãÂ≠êÔºö 123456789101112131415161718192021222324252627# ÂàõÂª∫‰∏§‰∏™Êï∞ÁªÑx = np.diag(np.arange(2, 12))[::-1]x[np.diag_indices_from(x[::-1])] = np.arange(2, 12)x2 = np.arange(x.size).reshape(x.shape)# ‰ΩøÁî®Â≠óÂÖ∏ÂèÇÊï∞ÔºåÂ∞ÜÊâÄÊúâÁöÑËΩ¥Ê†áÁ≠æÂíåÂàªÂ∫¶ÈÉΩ‰∏çÊòæÁ§∫sides = ('left', 'right', 'top', 'bottom')nolabels = &#123;s: False for s in sides&#125;nolabels.update(&#123;'label%s' % s: False for s in sides&#125;)from mpl_toolkits.axes_grid1.axes_divider import make_axes_locatable# ‰ΩøÁî®‰∏ä‰∏ãÊñáÁÆ°ÁêÜÂô®Êù•Á¶ÅÁî®ÁΩëÊ†ºÔºåÂπ∂Âú®ÊØè‰∏™Axes‰∏ä‰ΩøÁî®matshow()with plt.rc_context(rc=&#123;'axes.grid': False&#125;): fig, (ax1, ax2) = plt.subplots(1, 2, figsize=(8, 4)) ax1.matshow(x) img2 = ax2.matshow(x2, cmap='RdYlGn_r') # Âä†‰∏ä_rÂ∞±ÊòØÂ∞ÜÈ¢úËâ≤ÂèçËΩ¨ for ax in (ax1, ax2): ax.tick_params(axis='both', which='both', **nolabels) for i, j in zip(*x.nonzero()): ax1.text(j, i, x[i,j], color='white', ha='center', va='center') # Â∞Ücolorbar‰Ωú‰∏∫Âõæ‰∏≠ÁöÑÊñ∞ËΩ¥ divider = make_axes_locatable(ax2) cax = divider.append_axes('right', size='5%', pad=0) plt.colorbar(img2, cax=cax, ax=[ax1, ax2]) fig.suptitle('Heatmaps with `Axes.matshow`', fontsize=16) pandas‰∏≠ÁöÑÁªòÂõæpandasÁöÑDataFrameÂíåSeries‰∏äÁöÑplot()ÊòØplt.plot()ÁöÑÂ∞ÅË£ÖÔºåÊâÄ‰ª•Âú®pandasÁªòÂõæ‰πüÊòØÂæàÊñπ‰æøÁöÑ„ÄÇÂ¶ÇÊûúDataFrameÁöÑÁ¥¢ÂºïÊòØmdateÔºåpandasË∞ÉÁî®gcf().autofmt_xdate()Êù•Ëé∑ÂèñÂΩìÂâçÁöÑÂõæÂπ∂Ëá™Âä®Ê†ºÂºèÂåñxËΩ¥„ÄÇplt.plot()ÊòØÂü∫‰∫éÁä∂ÊÄÅÁöÑÊñπÊ≥ïÔºå‰πüÂ∞±ÊòØÈöêÂºèÁöÑÁü•ÈÅìÂΩìÂâçÁöÑFigureÂíåAxesÔºåpandas‰πüÊòØÈÅµÂæ™ËøôÁÇπËøõË°åÊâ©Â±ïÁöÑ„ÄÇ 12345678s = pd.Series(np.arange(5), index=list('abcde'))ax = s.plot()type(ax)# matplotlib.axes._subplots.AxesSubplotid(plt.gca()) == id(ax)# True Êé•‰∏ãÊù•Áî®‰∏Ä‰∏™Êó∂Èó¥Â∫èÂàóÁöÑ‰æãÂ≠êÊù•Áúã‰∏Ä‰∏ãpandas‰∏≠ÁöÑÁîªÂõæ 123456789101112131415161718192021222324import matplotlib.transforms as mtransformsvix = pd.read_csv('VIXCLS.csv', index_col=0, parse_dates=True, na_values='.', infer_datetime_format=True, squeeze=True).dropna()ma = vix.rolling('90d').mean()state = pd.cut(ma, bins=[-np.inf, 14, 18, 24, np.inf], labels=range(4))cmap = plt.get_cmap('RdYlGn_r')ma.plot(color='black', linewidth=1.5, marker='', figsize=(8, 4), label='VIX 90d MA')ax = plt.gca()ax.set_xlabel('')ax.set_ylabel('90d moving average: CBOE VIX')ax.set_title('Volatility Regime State')ax.grid(False)ax.set_xlim(xmin=ma.index[0], xmax=ma.index[-1])trans = mtransforms.blended_transform_factory(ax.transData, ax.transAxes)for i, color in enumerate(cmap([0.2, 0.4, 0.6, 0.8])): ax.fill_between(ma.index, 0, 1, where=state==i, facecolor=color, transform=trans)ax.axhline(vix.mean(), linestyle='dashed', color='xkcd:dark grey', alpha=0.6, label='Full-period mean', marker='')ax.legend(loc='upper center') ‰∏äÈù¢ÁöÑ‰æãÂ≠ê‰∏≠Êúâ‰∏Ä‰∫õÁÇπÈúÄË¶Å‰∫ÜËß£‰∏Ä‰∏ãÔºö maÊòØVIXÊåáÊï∞ÁöÑ90Â§©ÁßªÂä®Âπ≥ÂùáÁ∫øÔºåË°°ÈáèËøëÊúüËÇ°Â∏ÇÊ≥¢Âä®ÁöÑÂ∏ÇÂú∫È¢ÑÊúü„ÄÇstateÊòØÂ∞ÜÁßªÂä®Âπ≥ÂùáÁ∫øÂàÜÁ±ª‰∏∫‰∏çÂêåÁöÑstate„ÄÇÈ´òVIXË¢´Ë°®Á§∫Â∏ÇÂú∫‰∏≠ÊÅêÊÉßÁ®ãÂ∫¶Âä†Ââß„ÄÇ cmapÊòØcolor mapÔºåmatplotlibÂØπË±°„ÄÇÂÆÉÂÆûË¥®‰∏äÊòØÊµÆÁÇπÊï∞Âà∞RGBAÈ¢úËâ≤ÁöÑÊò†Â∞Ñ„ÄÇ‚Äô_rÊòØÈ¢úËâ≤ÂèçËΩ¨„ÄÇ pandasË∞ÉÁî®ma.plot()Ôºå‰πüÂ∞±ÊòØË∞ÉÁî®‰∫Üplt.plot()„ÄÇÂõ†Ê≠§‰∏∫‰∫ÜÁªßÊâøÈù¢ÂêëÂØπË±°ÔºåÈúÄË¶ÅÈÄöËøáax=plt.gca()Êù•ÊòæÁ§∫ÂºïÁî®ÂΩìÂâçÁöÑAxesÂØπË±°„ÄÇ ÊúÄÂêé‰∏ÄÊÆµ‰ª£Á†ÅÊòØÂàõÂª∫‰∫Ü‰∏éÊØè‰∏™Áä∂ÊÄÅÂØπÂ∫îÁöÑÈ¢úËâ≤Â°´ÂÖÖÂùó„ÄÇcmap([0.2, 0.4, 0.6, 0.8])ÊòØÊåáÊ≤øÁùÄcolor mapÁöÑÂÖâË∞±ÔºåÂú®20%Ôºå40%Ôºå60%Ôºå80%ÁöÑ‰ΩçÁΩÆËé∑ÂèñRGBAÂ∫èÂàó„ÄÇ‰ΩøÁî®enumerate()Â∞ÜÊØè‰∏™RGBAÈ¢úËâ≤Ë∑üstate‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇ ÂéüÊñáÊúÄÂêéËøòÁªôÂá∫‰∫ÜÂæàÂ§ö‰∏çÈîôÁöÑÈìæÊé•Êé®ËçêÔºåÂÄºÂæóÂ≠¶‰π†„ÄÇ]]></content>
      <categories>
        <category>matplotlib</category>
      </categories>
      <tags>
        <tag>matplotlib, ÁîªÂõæ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandasÔºöËé∑ÂèñÂâçk‰∏™Êï∞ÊçÆ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F11%2F29%2Fpandas%EF%BC%9A%E8%8E%B7%E5%8F%96%E5%89%8Dk%E4%B8%AA%E6%95%B0%E6%8D%AE%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂú®ÁúãSQLÔºå‰ªÄ‰πàÊØèÁßëÊàêÁª©Ââç‰∏âÂêçÔºåÁúãÂæóÊàëÂ•ΩÊáµ„ÄÇpandasÂÖ∂ÂÆû‰πüÊúâ‰∏™nlargestÊñπÊ≥ïÂèØ‰ª•ÁÆÄÂçïÂÆûÁé∞Ëøô‰∏ÄÈúÄÊ±Ç nlargestÊúâ‰∏â‰∏™ÂèÇÊï∞Ôºådf.nlargest(n, columns, keep=&#39;first&#39;)ÔºåËøîÂõûcolumnsÂâçnÈ°πÁöÑÊï∞ÊçÆÔºåÈªòËÆ§ÊòØÈôçÂ∫è„ÄÇ Êï∞ÊçÆÔºö 12345678910import pandas as pdraw_df = &#123; 'subject': ['chinese', 'chinese','chinese','chinese','english','english', 'english', 'english','math','math', 'math', 'math'], 'grade': ['first', 'first', 'second', 'second', 'first', 'first', 'second', 'second', 'first', 'first', 'second', 'second'], 'teacher': ['a', 'a', 'a', 'a', 'b', 'b', 'b', 'b', 'c', 'c', 'c', 'c'], 'student': [10, 12, 14, 23,10, 12, 14, 23,10, 12, 14, 23], 'avg_score': [56, 56, 45, 76, 77, 85, 68, 79, 73, 76, 70, 85]&#125;df = pd.DataFrame(raw_df)df Ëé∑ÂèñÂπ≥ÂùáÂàÜÊúÄÈ´òÁöÑÂâç‰∏âÈ°πÔºö Âõ†‰∏∫nlargestÂáΩÊï∞Ê≤°ÊúâÈÄÜÂ∫èÔºåÂ¶ÇÊûúË¶ÅÂèñÂπ≥ÂùáÂàÜÊúÄ‰ΩéÁöÑ‰∏âÈ°πÔºåÂèØ‰ª•ÂÄüÂä©ËæÖÂä©È°πÔºåaxis=1ÊòØÂú®ÂàóÊñπÂêë‰∏äÂà†Èô§Â§ö‰ΩôÁöÑÈ°π Â¶ÇÊûúÊÉ≥Ë¶ÅËé∑ÂæóÊØè‰∏™ÁßëÁõÆÁöÑÊúÄÈ´òÂàÜÔºåÁõ¥Êé•Áî®groupbyÔºåÁÑ∂ÂêéÂÜçÂèñÊúÄÂ§ßÂÄºÂç≥ÂèØ„ÄÇgroupby‰∏≠Êúâ‰∏™as_index=TrueËÆæÁΩÆ‰∏∫FalseÔºåÈÇ£‰πàÂàÜÁªÑÁöÑÂàóÂ∞±‰Ωú‰∏∫ÊôÆÈÄöÁöÑÂàóÔºåËÄå‰∏çÊòØindex„ÄÇ Â¶ÇÊûúÊÉ≥Ë¶ÅÂèñÂæóÊØè‰∏™ÁßëÁõÆÁöÑÂπ≥ÂùáÂàÜÁöÑÂâç2ÂêçÔºåÂÜçÂàÜÁªÑ‰πãÂêéÂèØ‰ª•‰ΩøÁî®applyÊñπÊ≥ïÂ∞ÜnlargestÂ∫îÁî®Âà∞ÊØè‰∏™Â∞èÁªÑ Â¶ÇÊûúËøòÊÉ≥Âú®Ê≠§Âü∫Á°Ä‰∏äËÆ°ÁÆóÂÖ∂‰ªñÁöÑÔºåÊØîÂ¶ÇÊ±ÇÂíåÂïäÔºåÊ±ÇÂπ≥ÂùáÂÄºÂïäÔºåÂè™Ë¶ÅÁªßÁª≠‰øÆÊîπ‰∏Ä‰∏ãÂ∞±ÂèØ‰ª• ÂÖ≥‰∫égroupby‰πãÂêéÁöÑÊÉÖÂÜµ groupbyÁöÑÁõ∏ÂÖ≥ÂèÇÊï∞ 1Signature: df.groupby(by=None, axis=0, level=None, as_index=True, sort=True, group_keys=True, squeeze=False, observed=False, **kwargs)]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>nlargest</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áî®pyinstallÊâìÂåÖpythonÈ°πÁõÆ‰∏∫exeÊñá‰ª∂ÂèäÂÖ∂ÈóÆÈ¢òÊÄªÁªì]]></title>
    <url>%2Famberwest.github.io%2F2018%2F11%2F12%2F%E7%94%A8pyinstall%E6%89%93%E5%8C%85python%E9%A1%B9%E7%9B%AE%E4%B8%BAexe%E6%96%87%E4%BB%B6%E5%8F%8A%E5%85%B6%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93%2F</url>
    <content type="text"><![CDATA[‰∏∫‰∫ÜÂèØ‰ª•Âú®Ê≤°ÊúâÂÆâË£ÖpythonÁöÑÁéØÂ¢É‰∏ãËøêË°åÁ®ãÂ∫èÔºåÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÁ®ãÂ∫èÊâìÂåÖ‰∏∫ÂèØÊâßË°åÊñá‰ª∂„ÄÇËøôÊ¨°Áî®ÁöÑpyinstallÊ®°ÂùóÔºåÊìç‰ΩúÊñπ‰æøÔºàËôΩÁÑ∂ÂâçÈù¢‰πüË∏©‰∫ÜÂ•ΩÂ§öÂùëÔºâÔºåÂùëÁöÑ‰∏ÄÁÇπÂ∞±ÊòØÔºåÊÉ≥Ë¶ÅÂú®‰ªÄ‰πàÂπ≥Âè∞‰∏ã‰ΩøÁî®ÔºåÂ∞±ÈúÄË¶ÅÂú®ÂØπÂ∫îÁöÑÂπ≥Âè∞‰∏äËøõË°åÊâìÂåÖ„ÄÇÊØîÂ¶ÇËØ¥ËøôÊ¨°ÂêßÔºåÂõ†‰∏∫Ë¶ÅÂú®WindowsÁ≥ªÁªü‰∏ã‰ΩøÁî®ÔºåÊàëÂè™ËÉΩ‰∏¥Êó∂Êê≠‰∏™WindowsËôöÊãüÊú∫ËøõË°åÊâìÂåÖ„ÄÇ ÂÆâË£ÖÂÆâË£ÖÂæàÁÆÄÂçïÔºåÁõ¥Êé•Áî®pipÂëΩ‰ª§ 1pip install pyinstall ÊâìÂåÖ‰∏çÁÆ°ÊòØÁÆÄÂçïËøòÊòØÂ§çÊùÇÁöÑÈ°πÁõÆÔºåÂè™ÈúÄË¶ÅÂØπÂÖ•Âè£Êñá‰ª∂ÔºàÂêØÂä®Êï¥‰∏™È°πÁõÆÁöÑpyÊñá‰ª∂ÔºâËøõË°åÊâìÂåÖÂç≥ÂèØ„ÄÇ appÁõÆÂΩï‰∏ãÂè™Êúâ‰∏Ä‰∏™Êñá‰ª∂p.pyÔºåÂÜÖÂÆπÂ¶Ç‰∏ã 1print('test pyinstaller') ËøõÂÖ•appÊ†πÁõÆÂΩïÔºåÊâìÂåÖ 1pyinstaller p.py ËøêË°åÂëΩ‰ª§‰πãÂêéÔºåÁúãÂà∞‰ª•‰∏ãËæìÂá∫Â∞±ËØ¥ÊòéÊàêÂäü‰∫Ü 123456‚Ä¶4583 INFO: Building EXE from EXE-00.toc completed successfully.4585 INFO: checking COLLECT4586 INFO: Building COLLECT because COLLECT-00.toc is non existent4586 INFO: Building COLLECT COLLECT-00.toc5412 INFO: Building COLLECT COLLECT-00.toc completed successfully. ËøôÊó∂ÂÄôappÁõÆÂΩï‰∏ãÂ§ö‰∫Ü‰∏§‰∏™Êñá‰ª∂Â§πÂíåspecÊñá‰ª∂ÔºåÂÖ∂‰∏≠specÊñá‰ª∂ÊòØÊúÄÂÖàÁîüÊàêÁöÑÔºåpyinstallerÂÜçÊ†πÊçÆËøô‰∏™Êñá‰ª∂ËøõË°åÊâìÂåÖ„ÄÇÊâÄ‰ª•ÂØπ‰∫éÊØîËæÉÂ§çÊùÇÁöÑÈ°πÁõÆÔºåÂèØ‰ª•ÂÖàÁîüÊàêspecÔºå‰øÆÊîπÈáåÈù¢ÂØπÂ∫îÁöÑÈÖçÁΩÆÔºåÊØîÂ¶ÇÊ∑ªÂä†ÂÖ∂‰ªñÈúÄË¶ÅÁöÑÂ§öÂ™í‰ΩìÊñá‰ª∂Á≠â ÂèåÂáªdist‰∏ãÁöÑpÂèØÊâßË°åÊñá‰ª∂Â∞±ÂèØ‰ª•Ê≠£Â∏∏ËøêË°åÁ®ãÂ∫è‰∫Ü Âú®ÊâìÂåÖÁ®ãÂ∫èÁöÑÊó∂ÂÄôÂèØ‰ª•ÊåáÂÆöÂèÇÊï∞onefileÔºåËøôÊ†∑ÊâìÂåÖÂá∫Êù•ÁöÑdist‰∏ãÂ∞±Âè™Êúâ‰∏Ä‰∏™ÂèØÊâßË°åÊñá‰ª∂Ôºå‰∏çËøáËøêË°åÈÄüÂ∫¶ÂèØËÉΩ‰ºöÁ®çÂæÆÊÖ¢‰∏ÄÁÇπ 1pyinstaller --onefile p.py ËøêË°åÂèØÊâßË°åÊñá‰ª∂Êó∂‰ºöÂá∫Áé∞ÁªàÁ´ØÁ™óÂè£ÔºåÂ¶ÇÊûú‰∏çÂ∏åÊúõÁúãÂà∞ÔºåÂèØ‰ª•‰ΩøÁî®wÂèÇÊï∞ 1pyinstall --onefile -w p.py ÂÖ∂‰ªñÊõ¥ËØ¶ÁªÜÁöÑ‰ΩøÁî®ÂíåÈÖçÁΩÆÔºåÊü•ÁúãÂÆòÊñπÊñáÊ°£ ÂèØËÉΩÈÅáÂà∞ÁöÑÈóÆÈ¢ò OSError: Python library not found: Python, libpython3.5m.dylib, libpython3.5.dylib, .Python ÊàëÊòØÂú®pyenvÂàõÂª∫ÁöÑÁéØÂ¢É‰∏ãÂÆâË£Ö‰ΩøÁî®pyinstallÊ®°ÂùóÁöÑÔºå‰πãÊâÄ‰ª•‰ºöÂá∫Áé∞Ëøô‰∏™ÈóÆÈ¢òÊòØÂõ†‰∏∫pythonÂú®ÂÆâË£ÖpyenvÊó∂Ê≤°ÊúâÊâßË°å--enabled-shared„ÄÇÈáçÊñ∞ÂÆâË£ÖÂç≥ÂèØ 12345678# Ê£ÄÊü•echo $&#123;PYENV_ROOT&#125;/versions/3.5.3/Python.framework# Êõ¥Êñ∞env PYTHON_CONFIGURE_OPTS="--enable-shared" pyenv install 3.5.0# ÈáçÊñ∞ÊâìÂåÖpyinstaller --onefile p.py AttributeError: ‚Äòstr‚Äô object has no attribute ‚Äòitems‚Äô ÂÖ≥‰∫ÜpycharmÁºñËæëÂô®Â∞±‰∏çÊä•Èîô‰∫Ü„ÄÇ„ÄÇ„ÄÇ windows‰∏ãË∑ØÂæÑÈóÆÈ¢ò Âõ†‰∏∫È°πÁõÆÊòØÂú®unix‰∏ãÂºÄÂèëÁöÑÔºåÊµãËØïÊó∂Âú®Windows‰∏ãËøõË°åÁöÑÔºåÂΩìÊó∂‰πüÊ≤°Êä•ÈîôÔºåÂ∞±ÊòØÊâæ‰∏çÂà∞ËøêË°å‰πãÂêé‰øùÂ≠òÁöÑÊï∞ÊçÆÊñá‰ª∂„ÄÇÂêéÈù¢ÊÉ≥‰∫ÜÊÉ≥ÔºåÂèØËÉΩËøòÊòØË∑ØÂæÑÁöÑÈóÆÈ¢ò„ÄÇÊâÄ‰ª•Â∞Ü‰ª£Á†ÅÈúÄË¶ÅÁî®Âà∞ÁöÑË∑ØÂæÑÁöÑ‰ª£Á†ÅÈÉΩÊîπ‰∫ÜÊàêÁ±ª‰ººE:/dataËøôÊ†∑ÁöÑË∑ØÂæÑ„ÄÇÊûúÁÑ∂Â∞±ÂèØ‰ª•‰∫Ü„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåWindows‰∏ãÁöÑË∑ØÂæÑ‰∏ÄËà¨ÊòØE:\dataÔºå‰ΩÜÊòØ\ÊòØËΩ¨‰πâÁ¨¶ÔºåÊâÄ‰ª•Ë¶Å‰πàÂÜôÊàê‰∏äÈù¢ÈÇ£Ê†∑ÔºåË¶Å‰πàËøõË°åÂèçËΩ¨‰πâÔºåÊØîÂ¶ÇÔºöE:\\data ÂèÇËÄÉusing spec files pyenv issue Python 3.5 - missing libpython3.5m.so (shared library)]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pyinstall</tag>
        <tag>exe</tag>
        <tag>ÊâìÂåÖ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongodb shell‰∏émongodb serverÁâàÊú¨‰∏ç‰∏ÄËá¥ÂºïËµ∑ÁöÑÈóÆÈ¢ò]]></title>
    <url>%2Famberwest.github.io%2F2018%2F11%2F06%2Fmongodb-shell%E4%B8%8Emongodb-server%E7%89%88%E6%9C%AC%E4%B8%8D%E4%B8%80%E8%87%B4%E5%BC%95%E8%B5%B7%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ÊúÄËøë‰ªéÊúçÂä°Âô®ÁöÑmongodbÂØºÂá∫Êï∞ÊçÆÊó∂ÈÅáÂà∞ÈóÆÈ¢òUnrecgonized field &#39;snapshot&#39;Ôºå‰∏ÄÂºÄÂßã‰ª•‰∏∫ÊòØÊàëÊääË¶ÅÊèêÂèñÁöÑÂ≠óÊÆµÂêçÁªôÂÜôÈîô‰∫ÜÔºåÂâçÂâçÂêéÂêéÂØπ‰∫ÜÂ•ΩÂá†Ê¨°ÔºåËøòÊòØÊúâÈîô„ÄÇÂÖ∑‰ΩìÈîôËØØÊèêÁ§∫Áúã‰∏ãÂõæÔºö ÈîôËØØÂéüÂõ†ÂÖ∂ÂÆûËøôÂ∞±ÊòØÂõ†‰∏∫Êú¨Âú∞ÁöÑmongodb shellÁâàÊú¨Ë∑üÊúçÂä°Âô®mongodb serverÁâàÊú¨‰∏ç‰∏ÄËá¥ÈÄ†ÊàêÁöÑ„ÄÇ‰∏ÄÁõ¥ÈÉΩÊ≤°ÊúâÊ≥®ÊÑèÂà∞Ëøô‰∏™ÈóÆÈ¢òÔºåÊòØÂõ†‰∏∫ÊØèÊ¨°ËøúÁ®ãËøûÊé•mongoÔºåÈÉΩËÉΩÂ§üÊ≠£Â∏∏ËøõË°åÊü•ËØ¢„ÄÅÂà†Èô§Êìç‰Ωú„ÄÇ‰ªéÂõæÁâá‰∏ä‰πüÂèØ‰ª•ÁúãÂà∞ÔºåÁâàÊú¨‰∏çÂêåÔºåËÄå‰∏î‰πüÊúâwarning„ÄÇ Ëß£ÂÜ≥ÊñπÊ≥ïÈôç‰ΩéÁâàÊú¨ÂØπ‰∫éËøô‰∏™ÊÉÖÂÜµÔºåÁΩë‰∏äÂ§ßÈÉ®ÂàÜÈÉΩÊòØÈÄöËøáÈôç‰ΩéÂÖ∂‰∏≠‰∏Ä‰∏™ÁöÑÁâàÊú¨ÔºåÂÜçÊç¢ÊàêÂØπÂ∫îÁâàÊú¨ÁöÑ„ÄÇ‰∏çËøáËøáÁ®ãÊúâÁÇπÂùéÂù∑ÔºåÊç¢‰∫ÜÊú¨Âú∞ÁöÑmongo shellÔºåËøûÂ∏¶mongo‰πüË¶ÅÊõ¥Êñ∞ÔºåÈ∫ªÁÉ¶ÔºåËÄå‰∏îÂú®Â§ÑÁêÜÁöÑËøáÁ®ã‰∏≠Ôºå‰πü‰∏çÊòØÈÇ£‰πàÈ°∫Âà©„ÄÇ„ÄÇ„ÄÇ ÊÉ≥ÈÄöËøáÈôç‰Ωémongodb serverÁöÑÁâàÊú¨ÔºåÁªìÊûúÈúÄË¶ÅÈ™åËØÅ È™åËØÅ‰πãÂêéËøòÊòØ‰∏çË°å Â∞±ÁÆóÈ™åËØÅËøá‰∫ÜÔºåËøòË¶ÅÈáçÊñ∞ÂÆâË£ÖÈÖçÁΩÆ‰∏ÄÈÅçÔºåÊÉ≥ÊÉ≥ÈÉΩÂøÉÁ¥Ø„ÄÇ pythonËÑöÊú¨ËôΩÁÑ∂Áõ¥Êé•ËøûÊé•Êãø‰∏çÂà∞Êï∞ÊçÆÔºå‰ΩÜÊòØÂèØ‰ª•Áî®pymongoÂéªËøûÊé•Êï∞ÊçÆÂ∫ìÔºåËØªÂá∫Êï∞ÊçÆ‰øùÂ≠òÂà∞excel‰∏≠„ÄÇ 123456789101112131415161718192021from pymongo import MongoClientimport pandas as pd# ÂÅáËÆæÊï∞ÊçÆÂ∫ì„ÄÅË¥¶Âè∑„ÄÅÂØÜÁ†ÅÈÉΩÊòØhouseuri = "mongodb://house:house@193.111.222.33:27017/?authSource=house"client = MongoClient(uri)db = client['house']table = db['house‚Äô]data = table.find(&#123;&#125;, &#123;'_id': 0&#125;)df = pd.DataFrame()data_list = []for i, item in enumerate(data): data_list.append(item)# for key in item.keys():# print(item)# value = str(item[key]) if isinstance(item[key], list) else item[key]# df.loc[i, key] = item[key]df = pd.DataFrame(data_list)df.to_excel('house.xlsx', header=True, startrow=0, index=False) ËøúÁ®ã‰º†ËæìÊáíÂæóÂÜô‰ª£Á†ÅÂèØ‰ª•ÁôªÂΩïÁôªÂΩïÊúçÂä°Âô®ÔºåÂú®ÊúçÂä°Âô®‰∏äÂÖàÂØºÂá∫Êï∞ÊçÆÔºåÁÑ∂ÂêéÂÜçÁî®scp‰º†ËæìÂà∞Êú¨Âú∞ 12345# ËøúÁ®ãÊúçÂä°Âô® ssh username:ipmongoexport --username house --password house --db house --collection house --type=csv --fields url,address,area,city,district,house_disposal,house_type,pay_type,pics,phone,rent,rent_type,title --out ~/house.csv# Âú®Êú¨Âú∞ËøúÁ®ãËøûÊé•Âπ∂‰∏ãËΩΩscp username@193.111.222.33:/home/amber/house.csv ~/Desktop/house.csv ÂèÇËÄÉÊñáÁ´†mongoexport downgrade]]></content>
      <tags>
        <tag>mongodb</tag>
        <tag>ÁâàÊú¨‰∏ç‰∏ÄËá¥</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®dockerÁÆ°ÁêÜjupyter]]></title>
    <url>%2Famberwest.github.io%2F2018%2F11%2F06%2F%E4%BD%BF%E7%94%A8docker%E7%AE%A1%E7%90%86jupyter%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî®dockerÊù•ÁÆ°ÁêÜjupyterÔºåÂèØ‰ª•ÊëÜËÑ±ÂêÑÁßçÁÉ¶‰∫∫ÁöÑÁéØÂ¢É‰æùËµñÔºåÊØîÂ¶ÇtabulaÈúÄË¶ÅJavaÁéØÂ¢ÉÔºåÊàëÊú¨Âú∞Â∑≤ÊúâÁöÑJavaË∑ütabulaÂèàÂØπÂ∫î‰∏ç‰∏äÔºåÊØîËæÉÈ∫ªÁÉ¶„ÄÇ ‰ΩøÁî®‰πüÊòØÈùûÂ∏∏Êñπ‰æøÔºåÂè™Êúâ‰∏§ÁÇπË¶ÅÊ±ÇÔºö ÈÄâÊã©ÂêàÈÄÇÁöÑjupyter notebook ÈÄâÊã©ÂêØÂä®dockerÈïúÂÉèÁöÑË∑ØÂæÑ/Êñá‰ª∂Â§πÔºå‰πüÊòØÁî®Êù•Â≠òÊîæjpynbÊñá‰ª∂ÁöÑ Êé•‰∏ãÊù•ÂàÜÂá†Ê≠•Ëµ∞Ôºö ÈÄâÊã©notebook pyspark-notebookÊòØÂ∏¶ÊúâJavaÁéØÂ¢ÉÁöÑÔºåÊâÄ‰ª•ËøôÊ¨°Áî®ÁöÑÊòØËøô‰∏™ ÈÖçÁΩÆÊñá‰ª∂ ÂêØÂä®docker jupyterÁöÑÂëΩ‰ª§ÊØîËæÉÈïøÔºåÈúÄË¶ÅÊåáÂÆönotebook„ÄÅÁ´ØÂè£Á≠â‰ø°ÊÅØÔºåÊâÄ‰ª•Â∞±Áõ¥Êé•ÂÜôÂÖ•ÈÖçÁΩÆÊñá‰ª∂docker-compose.ymlÔºåÊñπ‰æøÂêØÂä®„ÄÇ Â¶ÇÊûúÂêØÂä®Â§±Ë¥•ÔºåÂèØËÉΩÊòØÁ´ØÂè£Ë¢´Âç†Áî®ÔºåÂèØ‰ª•Â∞ùËØïÂÖ∂‰ªñÁ´ØÂè£ÔºåÊØîÂ¶Ç&quot;9999:8888&quot;„ÄÇÂÖ∂‰∏≠Â≠òÊîæÁöÑË∑ØÂæÑË∑üÊú¨Âú∞ÈÄâÊã©Ë∑ØÂæÑÁöÑÂπ∂Ê≤°ÊúâÂΩ±Âìç„ÄÇdockerÈ¢ÑË£ÖÁöÑÊòØLinuxÁ≥ªÁªüÔºåÁî®Êà∑jovyan‰∏ãÁöÑworkÁõÆÂΩïÂ∞±Áõ∏ÂΩì‰∫é‰Ω†ÂêØÂä®dockerÁöÑÁõÆÂΩï‰∏ã„ÄÇ 123456789101112version: '3'services: notebook: image: jupyter/pyspark-notebook volumes: - $PWD:/home/jovyan/work ports: - "8888:8888" environment: - JUPYTER_LAB_ENABLE=yes command: "start.sh jupyter lab" ÂêØÂä® 12cd Notebook # Â≠òÊîæÈÖçÁΩÆÊñá‰ª∂Âíåjpynbdocker-compose up ÂÖ≥Èó≠jupyter 1docker-compose down Âú®ÊµèËßàÂô®ÊâìÂºÄ Ê†πÊçÆÊó•Âøó‰ø°ÊÅØÔºåÂú®ÊµèËßàÂô®ÊâìÂºÄÈìæÊé•Â∞±ÂèØ‰ª•‰∫Ü Ëá≥Ê≠§ÔºåÂ∞±ÂèØ‰ª•ÂÉèÂæÄÂ∏∏‰∏ÄÊ†∑‰ΩøÁî®jupyter‰∫Ü„ÄÇÈöèÊó∂ÈöèÂú∞ÔºåÁéØÂ¢ÉÂ¥©‰∫ÜÔºåÁõ¥Êé•Âà†‰∫ÜÈáçÊñ∞Êãâ‰∏™ÈïúÂÉèÂ∞±ÂèØ‰ª•„ÄÇ ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÔºöÈÖçÁΩÆÊñá‰ª∂‰∏çËÉΩÊòØÈöêËóèÊñá‰ª∂ÔºåÂêçÂ≠ó‰πü‰∏çËÉΩÊîπÂä® ÂèÇËÄÉÊñáÁ´†Ôºö jupyter-docker-stacks JupyterLab]]></content>
  </entry>
  <entry>
    <title><![CDATA[Jupyterlab‰∏çËÉΩË∞ÉÁî®asyncio event loop]]></title>
    <url>%2Famberwest.github.io%2F2018%2F11%2F06%2FJupyterlab%E4%B8%8D%E8%83%BD%E8%B0%83%E7%94%A8asyncio-event-loop%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂú®Jupyterlab‰∏ä‰ΩøÁî®asyncioÊó∂Ôºå‰∏ÄÁõ¥Êä•ÈîôÔºåËØ¥ÊòØevent loopÂ∑≤ÁªèÂú®ËøêË°å‰∫ÜÔºå‰ΩÜÊàë‰πãÂâçÊ†πÊú¨Â∞±Ê≤°ÊúâÂêØÂä®„ÄÇ‰∏äÁΩëÁùÄ‰∫Ü‰∏ÄÈÅçÔºåÊâçÁü•ÈÅìÊòØÂõ†‰∏∫tornadoÁöÑÁâàÊú¨ËøáÈ´òÂØºËá¥ÁöÑ„ÄÇÂõ†‰∏∫‰ΩøÁî®Jupyter Docker StacksÂêØÂä®ÁöÑJupyterlabÈªòËÆ§ÊòØÊúÄÊñ∞ÁâàÊú¨ÁöÑÔºåpython‰πüÊòØ3.6ÔºåÊâÄÊúâÈúÄË¶ÅÂ∞ÜtornadoÁöÑÁâàÊú¨Á®çÂæÆÈôç‰Ωé‰∏Ä‰∏ãÂ∞±ÂèØ‰ª•‰∫Ü„ÄÇ ÂÆâË£Ö‰ΩéÁâàÊú¨ÁöÑtornado 1pip install tornado==4.5.3 ÈáçÂêØkernel ‰πüÂ∞±ÊòØÈáçÊñ∞ÂêØÂä®jupyter notebook ÂèÇËÄÉÊñáÁ´†Ôºö Can‚Äôt invoke asyncio event_loop after tornado 5.0 update]]></content>
      <tags>
        <tag>docker</tag>
        <tag>jupyter</tag>
        <tag>loop</tag>
        <tag>asyncio</tag>
        <tag>ÂºÇÊ≠•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandas.to_datetimeÁöÑformatÂèÇÊï∞‰∏çËµ∑‰ΩúÁî®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F11%2F05%2Fpandas-to-datetime%E7%9A%84format%E5%8F%82%E6%95%B0%E4%B8%8D%E8%B5%B7%E4%BD%9C%E7%94%A8%2F</url>
    <content type="text"><![CDATA[‰πãÂâçÁî®pandasÂ§ÑÁêÜÊó•Êúü‰πãÂêéÔºåÊÉ≥Ë¶Å‰øùÂ≠òÁªìÊûúÂà∞excelÔºåÂèëÁé∞‰∏çÁÆ°ÊÄé‰πàËÆæÁΩÆÔºåÊó•ÊúüËøô‰∏ÄÂàóÊï∞ÊçÆÊÄªÊòØÂ∏¶ÊúâtimeÈÉ®ÂàÜ„ÄÇ Âú®pyCharmÊàñËÄÖJupyter NotebookÊâìÂç∞Âá∫Êù•ÁöÑÁªìÊûúÈÉΩÊòØÊ≠£Â∏∏ÁöÑÔºå‰ΩÜÂÆûÈôÖ‰∏äÂπ∂‰∏çÊòØËøôÊ†∑ÁöÑÔºö ÂÖ∑‰ΩìÂéüÂõ†Êàë‰πüÊ≤°ÊâæÂà∞ÔºåÂ•ΩÂú®ÊúâÊñπÊ≥ïÂèØ‰ª•Ëß£ÂÜ≥„ÄÇ ‰ΩøÁî®SeriesÁöÑdtÊñπÊ≥ï 1234df['Êó•Êúü'] = pd.to_datetime(df['Êó•Êúü'], format='%Y-%m-%d').dt.date# ÊàñËÄÖdf['Êó•Êúü'] = df['Êó•Êúü'].dt.strftime('%Y-%m-%d') ‰ΩøÁî®Êó•ÊúüÁöÑdateÊñπÊ≥ï 123df['Êó•Êúü'] = pd.to_datetime(df['Êó•Êúü'], format='%Y-%m-%d')df['Êó•Êúü'] = [time.date() for time in df['Êó•Êúü']]# Ëé∑ÂèñÊó∂Èó¥ÈÉ®ÂàÜÂàôÊòØÁî®time()]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>Ê†ºÂºè</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[celeryÂ§öÈòüÂàó]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F25%2Fcelery%E5%A4%9A%E9%98%9F%E5%88%97%2F</url>
    <content type="text"><![CDATA[celeryCeleryÊòØÂü∫‰∫éÂàÜÂ∏ÉÂºèÊ∂àÊÅØ‰º†ÈÄíÁöÑÂºÇÊ≠•‰ªªÂä°ÈòüÂàó/‰Ωú‰∏öÈòüÂàó„ÄÇÂÆÉÊîØÊåÅÂÆûÊó∂Êìç‰ΩúÔºå‰πüÊîØÊåÅË∞ÉÂ∫¶„ÄÇ celeryÂ∑•‰ΩúÊµÅÁ®ãÔºöÁîü‰∫ßËÄÖÈÄöËøáceleryÂèëÈÄÅ‰ªªÂä°Âà∞brokerÔºàRedis/RabbitMQÔºâÔºåworker‰ªébrokerÊé•Êî∂‰ªªÂä°ÔºåÂÆåÊàê‰ªªÂä°„ÄÇ 1user --&gt; broker --&gt; worker1, worker2, worker3, ... celeryÈªòËÆ§Âè™Êúâ‰∏Ä‰∏™ÈòüÂàóÔºåÊàë‰ª¨ÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµ‰ΩøÁî®Â§ö‰∏™ÈòüÂàóÔºåÊØîÂ¶ÇÔºåÊúâ‰∫õ‰ªªÂä°‰∏çÂ§öÔºå‰ΩÜÊòØËÄóÊó∂ÈïøÔºåÂÉè‰∏ãËΩΩÂõæÁâá‰πãÁ±ªÁöÑÔºåÊàë‰ª¨ÂèØ‰ª•ÂçïÁã¨ËÆæÁΩÆ‰∏Ä‰∏™ÈòüÂàóÔºåRabbitMQËøòÂèØ‰ª•ËÆæÁΩÆ‰ªªÂä°ÁöÑ‰ºòÂÖàÁ∫ßÔºåËøôÊ¨°Áî®ÁöÑÊòØRedisÔºåÊâÄ‰ª•ÊöÇÊó∂‰∏çËÄÉËôëËøô‰∏ÄÂùó„ÄÇ ÊúÄÁªàÁªìÊûúÊñá‰ª∂ÂàóË°®Â¶Ç‰∏ãÔºö 123456/multi_queue __init__.py app.py celeryconfig.py tasks.py dispatcher.py ÂÆâË£Ö1pip install celery ÈÖçÁΩÆcelery‰∏∫‰∫ÜÊñπ‰æøÁÆ°ÁêÜÔºåÊàëÂ∞ÜceleryÊâÄÈúÄË¶ÅÁöÑÈÖçÁΩÆÈÉΩÂÜôÂú®Âêå‰∏Ä‰∏™Êñá‰ª∂‰∏≠celeryconfig.pyÔºåÁé∞Âú®Â∑≤ÁªèÂèØ‰ª•‰∏çÁî®Â§ßÂÜôÁöÑ‰∫ÜÔºåÂÖ∑‰ΩìÊØè‰∏™Â≠óÊÆµÁöÑÊÑèÊÄùÁúã‰ª£Á†Å‰∏≠ÁöÑÊ≥®Èáä„ÄÇÊõ¥Â§öÁöÑËÆæÁΩÆÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839# ËÆæÁΩÆbroker‰∏≠Èó¥ÂïÜÔºåÂ≠òÊîæÊ∂àÊÅØbroker_url = 'redis://root:password@localhost:6379/4'# Â≠òÊîæÊ∂àÊÅØÁä∂ÊÄÅÂíåÁªìÊûúresult_backend = 'redis://root:password@localhost:6379/4'# CeleryÂêØÂä®Êó∂Ôºå‰ºö‰ªéimportsÊåáÂÆöÁöÑË∑ØÂæÑÂØºÂÖ•‰ªªÂä°ÔºåÂ¶ÇÊûúÊúâÂ§ö‰∏™‰ªªÂä°ÔºåÁªßÁª≠Ê∑ªÂä†imports = ['tasks']# ÈìæÊé•‰∏¢Â§±ÊàñËÄÖÈîôËØØÁöÑÊÉÖÂÜµ‰∏ãÔºåÈáçËØïÂèëÂ∏ÉÊ∂àÊÅØÈòüÂàóÊó∂ÂÆö‰πâÈªòËÆ§Á≠ñÁï•ÔºåË∑ütask_publish_retryÁ±ª‰ººtask_publish_retry_policy = &#123; 'max_retries': 3, 'interval_start': 0, 'interval_step': 0.2, 'interval_max': 0.2&#125;# ÈòüÂàótask_queues = &#123; 'add': &#123; 'routing_key': 'add' &#125;, 'download': &#123; 'exchange': 'media', 'routing_key': 'download' &#125;&#125;# Ë∑ØÁî±ÔºåËøôÈáåËÆæÁΩÆ‰∫ÜÂêÑ‰∏™taskÂØπÂ∫îÁöÑÈòüÂàóÔºåÂÖ∂‰∏≠ÁöÑqueueÂíårouting_keyË¶ÅË∑ütask_queuesÂØπtask_routes = &#123; 'tasks.add': &#123; 'queue': 'add', 'routing_key': 'add', 'serializer': 'json', &#125;, 'tasks.download_img': &#123; 'queue': 'download', 'routing_key': 'download' &#125;&#125; ÂàõÂª∫celeryÂÆû‰æãÂú®app.pyÊñá‰ª∂‰∏≠ÂàõÂª∫celeryÂÆû‰æãÔºåÂπ∂Âä†ËΩΩÈÖçÁΩÆ„ÄÇ 123456from celery import Celery# ÂêçÂ≠óÂèØ‰ª•ÈöèÊÑèapp = Celery('multi')# ‰ªéceleryconfigÊñá‰ª∂‰∏≠ÂØºÂÖ•ÈÖçÁΩÆÔºåÂ¶ÇÊûú‰∏çÂú®Âêå‰∏ÄÁ∫ßÁõÆÂΩïÔºåÂàôËøôÊ†∑ÂÜôÔºöproj.path.to.celeryconfigapp.config_from_object('celeryconfig') ‰∏ÄËà¨ÊØîËæÉÂ∞èÁöÑ‰ªªÂä°ÔºåÂèØ‰ª•Áõ¥Êé•Âú®Âêå‰∏Ä‰∏™Êñá‰ª∂‰∏≠ËøõË°åËÆæÁΩÆÔºå‰∏äÈù¢‰∏§‰∏™Êñá‰ª∂ÂèØ‰ª•Êï¥ÂêàÊàêËøôÊ†∑üëáÔºö 12345678910111213141516from celery import Celery# ÂêçÂ≠óÂèØ‰ª•ÈöèÊÑèapp = Celery('multi', broker='redis://root:password@localhost:6379/4', backend='redis://root:password@localhost:6379/4', include=['tasks'], # Ë∑üÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑimports‰∏ÄÊ†∑ )# Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµËøõË°åÈÖçÁΩÆapp.conf.update( CELERY_TIMEZONE='Asia/Shanghai', CELERY_ENABLE_UTC=True, CELERY_ACCEPT_CONTENT=['json'], CELERY_TASK_SERIALIZER='json', CELERY_RESULT_SERIALIZER='json',) ÂàõÂª∫‰ªªÂä°tasks.pyÊñá‰ª∂‰∏≠ÔºåÂÆö‰πâ‰∫ÜaddÂíådownload_img‰∏§‰∏™‰ªªÂä°Ôºå‰ΩøÁî®app.taskÂ∞Ü‰ªªÂä°Ë£ÖÈ•∞Êàêtask„ÄÇ 1234567891011121314151617# tasks.pyimport requestsfrom app import app@app.taskdef add(a, b): print('add a and b: ', a+b) return a + b@app.taskdef download_img(url): print(url) response = requests.get(url) with open('img.jpg', 'wb') as f: for chunk in response.iter_content(1024): f.write(chunk) ÂêØÂä®celeryÂõ†‰∏∫Êñá‰ª∂‰∏≠ÊàëÈÉΩÊòØÁõ¥Êé•‰ΩøÁî®Êñá‰ª∂ÂêçÔºåÊâÄ‰ª•ÂêØÂä®ÂëΩ‰ª§Êó∂ÈúÄË¶ÅÂÖàËøõÂÖ•/multi_queueË∑ØÂæÑ‰∏ãÔºå‰∏çÁÑ∂Êúâ‰∫õÊñá‰ª∂‰ºöÊâæ‰∏çÂà∞„ÄÇÂêØÂä®‰ªªÂä°Êó∂ÈúÄË¶ÅÊåáÂÆöÂØπÂ∫îÁöÑÈòüÂàóÔºåÊØîÂ¶ÇÂêØÂä®addÈòüÂàóÔºö 12cd ~/../multi_queuecelery worker -A tasks -c=5 -l info -Q add ÂèÇÊï∞ËØ¥ÊòéÔºö workerÔºöËøêË°åworkerÊ®°Âùó -A AppÔºö--app APPÔºåÊåáÂÆö‰ΩøÁî®ÁöÑceleryÂÆû‰æãÔºåËøôÈáåÊòØtasks.pyÔºåÂ¶ÇÊûúimportsÊ≤°ÊúâËÆæÁΩÆÔºåÂèØËÉΩË¶ÅÁî®path.to.tasksËøôÊ†∑ÁöÑÊñπÂºèÊåáÂÆö -QÔºöÊåáÂÆöÈòüÂàóÔºåÂ¶ÇÊûúÊúâÂ§ö‰∏™ÈòüÂàóÔºåÁî®ÈÄóÂè∑ÈöîÂºÄÔºåhipri,lopri -cÔºö-c CONCURRENCY, --concurrency CONCURRENCYÔºåÊåáÂÆöÂπ∂ÂèëÊï∞ÔºåÂèØ‰ª•‰∏çÁî®ÔºåÈªòËÆ§ÊòØ4 -lÔºö-l LOGLEVEL, --loglevel LOGLEVELÔºåÊåáÂÆöÊó•ÂøóÁ∫ßÂà´ÔºåÈùûÂøÖÈ°ª ÂÖ≥‰∫écelery workerÊõ¥Â§öÁöÑÂèÇÊï∞ÂèØ‰ª•‰ΩøÁî®helpÊü•ÁúãÔºöcelery worker --help„ÄÇ ËøêË°å‰πãÂêéÔºåÂèØ‰ª•ÁúãÂà∞ËøôÊ†∑ÁöÑÁªìÊûú Ë∞ÉÁî®‰ªªÂä°ÂêØÂä®celery‰πãÂêéÔºåcelery‰ºö‰∏ÄÁõ¥Â§Ñ‰∫éÁõëÂê¨Áä∂ÊÄÅÔºåÁ≠âÂæÖ‰ªªÂä°„ÄÇ‰ªªÂä°ÁöÑË∞ÉÁî®ÂèØ‰ª•ÂÜôÊàê‰∏Ä‰∏™ÊôÆÈÄöÁöÑÂáΩÊï∞ÔºåÁÑ∂ÂêéËøêË°åËÑöÊú¨Ôºå‰πüÂèØ‰ª•Âú®‰∫§‰∫íÊ®°Âºè‰∏ãÂºÇÊ≠•Ë∞ÉÁî®„ÄÇ‰ΩøÁî®apply_async()Âíåsend_tasks()ËøõË°åË∞ÉÁî®„ÄÇ ËÑöÊú¨ËøêË°åÔºö ‰ªªÂä°ËÑöÊú¨ 1234567# dispatcher.pyfrom tasks import download_img, addif __name__ == '__main__': url = 'https://ss0.baidu.com/94o3dSag_xI4khGko9WTAnF6hhy/image/h%3D300/sign=cb94d0439e13b07ea2bd56083cd69113/35a85edf8db1cb1379326b71d054564e92584b7c.jpg' download_img.apply_async(args=(url, ), queue='download') add.apply_async(args=(3,4), queue='add') ÁªàÁ´ØÂêØÂä®ÔºåËøôÈáåÊ≤°ÊúâÊåáÂÆöÂÖ∑‰ΩìÂì™‰∏™ÈòüÂàóÔºåÊâÄ‰ª•‰ºöÂêØÂä®Â∑≤ÈÖçÁΩÆÁöÑÊâÄÊúâÈòüÂàó 1celery -A tasks worker -l info ËøêË°åËÑöÊú¨ 1python dispatcher.py ÂºÇÊ≠•Ë∞ÉÁî®Ôºö Âú®ÁªàÁ´ØËøõÂÖ•pythonÔºåË∞ÉÁî®‰ªªÂä°Ôºö 123456# ÂêØÂä®python$ python&gt;&gt;&gt; from tasks import add&gt;&gt;&gt; add.apply_async(args=(3,4), queue='add')&lt;AsyncResult: b914e4f8-f888-4fde-a8df-20f312213c0a&gt; ËøôÊó∂ÂÄôÂèØ‰ª•ÁúãÂà∞celeryÂ∑≤ÁªèÊé•Êî∂Âà∞‰ªªÂä°ÔºåÂπ∂ËøîÂõûÁªìÊûúÔºö Êúâ‰∏ÄÁÇπÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåËøôÈáå‰∏çËÉΩÁî®delayÊù•‰ª£Êõøapply_asyncÔºåÂú®ÈªòËÆ§ÈòüÂàóÁöÑÊó∂ÂÄôÔºå‰∏§‰∏™ÊñπÊ≥ïÈÉΩÂèØ‰ª•Áî®ÔºåÂ¶ÇÊûúÂêØÂä®celeryÊåáÂÆöÈòüÂàóÔºåÁõ¥Êé•‰ΩøÁî®add.delay(2,3)ÔºåËøô‰∏™‰ªªÂä°‰ºö‰∏ÄÁõ¥Â§Ñ‰∫éPENDINGÁä∂ÊÄÅÔºåÁõ¥Âà∞‰Ω†‰∏çÊåáÂÆöÈòüÂàóÂêØÂä®celeryÔºå‰ªªÂä°Êâç‰ºöË¢´ÊâßË°å„ÄÇ ‰πü‰∏çËÉΩ‰ΩøÁî®add.delay(args=(3,4), queue=&#39;add&#39;)Ôºå‰ºöÊä•Èîô„ÄÇ Â¶ÇÊûúË¶ÅÂêØÂä®Â§ö‰∏™workerÔºåÂè™ÈúÄË¶ÅÂú®Âè¶‰∏Ä‰∏™ÁªàÁ´ØÁ™óÂè£ÂêØÂä®ÂëΩ‰ª§Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ Êâ©Â±ïÈòÖËØªÂú®ÁΩë‰∏ä‰∫ÜËß£Âà∞ÔºåÊúâÂæàÂ§ö‰∫∫ÈÅáÂà∞‰ªªÂä°ÈáçÂ§çÊâßË°åÁöÑÈóÆÈ¢òÔºåÊàëÂè™ÊòØÁÆÄÂçïÊµãËØï‰∫Ü‰∏Ä‰∏ãÔºåËá™ÁÑ∂Ê≤°ÊúâÈÅáÂà∞Ëøô‰∏™ÈóÆÈ¢òÔºå‰∏çËøáÂë¢ÔºåCelery4.0Â∑≤ÁªèÊúâËß£ÂÜ≥ÊñπÊ≥ï‰∫ÜÔºåËØ¶ÊÉÖËØ∑Êà≥Ôºöcelery-once„ÄÇ ÈúÄË¶ÅÂú®Â§ö‰∏™ÊúçÂä°Âô®ÂêØÂä®celeryÔºå‰ΩøÁî®-nÂèÇÊï∞ÔºåÂÖ∑‰ΩìÊü•ÁúãÂëΩ‰ª§Ôºöcelery worker --help„ÄÇ]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>celery</tag>
        <tag>Â§öÈòüÂàó</tag>
        <tag>queue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞ÂÖ´„ÄëÊéíÂ∫èÔºà‰∏ãÔºâ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F18%2F%E6%8E%92%E5%BA%8F%EF%BC%88%E4%B8%8B%EF%BC%89%2F</url>
    <content type="text"><![CDATA[ÂΩíÂπ∂ÊéíÂ∫è‰ªÄ‰πàÊòØÂΩíÂπ∂ÊéíÂ∫èÂΩíÂπ∂ÊéíÂ∫èÁöÑÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØÔºöÂÖàÂ∞ÜÊï∞ÁªÑ‰ªé‰∏≠Èó¥ÂàÜ‰∏∫ÂâçÂêé‰∏§ÈÉ®ÂàÜÔºåÂàÜÂà´ÊéíÂ∫è‰πãÂêéÔºåÂÜçÂ∞Ü‰∏§ÈÉ®ÂàÜÂêàÂπ∂Âú®‰∏ÄËµ∑„ÄÇ ËøôÈáåÁî®Âà∞ÁöÑÊÄùÊÉ≥ÊòØ‚ÄúÂàÜËÄåÊ≤ª‰πã‚ÄùÔºåÂ∞Ü‰∏Ä‰∏™Â§ßÈóÆÈ¢òÂàÜËß£‰∏∫‰∏§‰∏™ÊàñÂ§ö‰∏™Áõ∏ÂêåÊàñÁõ∏‰ººÁöÑÂ≠êÈóÆÈ¢ò„ÄÇÂ∞èÁöÑÈóÆÈ¢òËß£ÂÜ≥‰∫ÜÔºåÂ§ßÈóÆÈ¢ò‰πüÂ∞±Ëß£ÂÜ≥‰∫Ü„ÄÇÂ§ßÈóÆÈ¢òÁöÑÁ≠îÊ°àÂ∞±ÊòØÂ≠êÈóÆÈ¢òÁöÑÁ≠îÊ°àÁöÑÂêàÂπ∂„ÄÇ ËøôÊï¥‰∏™ÂàÜÊ≤ªËøáÁ®ãÈùûÂ∏∏Á¨¶ÂêàÈÄíÂΩíÊÄùÊÉ≥ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•Áî®ÈÄíÂΩíÊù•ÂÆûÁé∞„ÄÇ Ê≠•È™§Ôºö ÂàÜËß£Â≠êÈóÆÈ¢ò Â∞ÜÈóÆÈ¢òÊãÜÂàÜ‰∏∫Áõ∏‰∫íÁã¨Á´ã‰ΩÜÁõ∏‰ººÁöÑÂ≠êÈóÆÈ¢òÔºåÂ¶ÇÂ∞ÜÊï∞ÁªÑ‰∏çÊñ≠ÂàÜÁªÑ Ê±ÇËß£Â≠êÈóÆÈ¢ò Â≠êÈóÆÈ¢òÂÆπÊòìËß£ÂÜ≥Â∞±Áõ¥Êé•Ëß£ÂÜ≥ÔºåÂê¶ÂàôÁªßÁª≠ÊãÜÂàÜÂ≠êÈóÆÈ¢òÔºåÂ¶ÇÂΩìÂè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂ËøîÂõûÂéüÊï∞ÁªÑÔºàÊúâÂ∫èÔºâ ÂêàÂπ∂Â≠êÈóÆÈ¢òÁöÑËß£ Â∞ÜÊúâÂ∫èÊï∞ÁªÑËøõË°åÂêàÂπ∂ÁÑ∂ÂêéËøîÂõû 12345678910111213141516171819202122232425262728293031323334353637383940# ÂΩíÂπ∂ÊéíÂ∫èÔºöÂ∞ÜÊï∞ÁªÑÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºåÂàÜÂà´ÊéíÂ∫è‰πãÂêéÂÜçÂêàÂπ∂# ÈÄíÂΩíË∞ÉÁî®ÂáΩÊï∞def merge_sort(a): """ÂàÜÊ≤ªÈÄíÂΩíÔºöaÊòØÊï∞ÁªÑ""" n = len(a) if n &lt;= 1: return a middle = int(n / 2) # Â∞ÜÊï∞ÁªÑÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜ left = merge_sort(a[:middle]) right = merge_sort(a[middle:]) # ËøîÂõûÂêàÂπ∂‰πãÂêéÁöÑÊúâÂ∫èÊï∞ÁªÑ return merge(left, right) def merge(a1, a2): """ÂêàÂπ∂‰∏§‰∏™ÊúâÂ∫èÊï∞ÁªÑ""" # tmp‰∏¥Êó∂Êï∞ÁªÑÔºåÁî®‰∫éÂ≠òÊîæÁªìÊûúÔºåËøô‰∏™ÊòØÂØºËá¥ÂΩíÂπ∂ÊéíÂ∫èÁÆóÊ≥ï‰∏çÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ïÁöÑÂéüÂõ† i, j, tmp =0, 0, [] while i &lt; len(a1) and j &lt; len(a2): if a1[i] &lt;= a2[j]: tmp.append(a1[i]) i += 1 elif a1[i] &gt;= a2[j]: tmp.append(a2[j]) j += 1 # Â∞ÜÂâ©‰ΩôÁöÑÊúâÂ∫èÊï∞ÊçÆÁõ¥Êé•ÂêàÂπ∂Âú®ÁªìÊûú‰∏≠ tmp.extend(a1[i:]) tmp.extend(a2[j:]) return tmpif __name__ == '__main__': # ÊµãËØïÂêàÂπ∂Êï∞ÁªÑ l1 = [1,3,7,9] l2 = [2,4,5,7] data = merge(l1, l2) print(data) b = [3,2,1,6,9,3,4,7] res = merge_sort(b) print(res) ÂΩíÂπ∂ÊéíÂ∫èÁöÑÊÄßËÉΩÂàÜÊûê ÂΩíÂπ∂ÊéíÂ∫èÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÂêó ÊòØ„ÄÇÂêàÂπ∂‰∏§‰∏™ÊúâÂ∫èÂ≠êÊï∞ÁªÑÁöÑËøáÁ®ãÔºåÂΩìÈÅáÂà∞ÂÄºÁõ∏Á≠âÁöÑÂÖÉÁ¥†ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂâçÂçäÈÉ®ÂàÜÊï∞ÁªÑÁöÑÂÖÉÁ¥†ÊèíÂÖ•Âà∞ÂêéÂçäÈÉ®ÂàÜÊï∞ÁªÑÁöÑÂÖÉÁ¥†ÂâçÈù¢ÔºåÊâÄ‰ª•ÂêàÂπ∂ÂâçÂêéÔºåÂÖÉÁ¥†ÁöÑÂâçÂêéÈ°∫Â∫è‰∏çÂèò„ÄÇÂΩíÂπ∂ÊéíÂ∫èÁî®Âà∞‰∏Ä‰∏™‰∏¥Êó∂Êï∞ÁªÑÊù•Â≠òÊîæÁªìÊûúÔºåÊâÄ‰ª•‰∏çÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ï„ÄÇ ÂΩíÂπ∂ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØÂ§öÂ∞ë ËøôÈáåÊ∂âÂèäÂà∞ÈÄíÂΩí‰ª£Á†ÅÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂàÜÊûê„ÄÇ Êàë‰ª¨ÂèØ‰ª•ÂÅáËÆæÊ±ÇËß£Â§ßÂ∞è‰∏∫nÁöÑÂéüÈóÆÈ¢òaÁöÑÊó∂Èó¥‰∏∫T(n)Ôºå‰∏§‰∏™Â≠êÈóÆÈ¢òÁöÑb„ÄÅcÁöÑÊ±ÇËß£Êó∂Èó¥ÂàôÊòØT(n/2)ÔºåÂêàÂπ∂Êó∂Èó¥‰∏∫n(mergeÂáΩÊï∞ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫n)„ÄÇÊØèÊ¨°ÊãÜÂàÜÈóÆÈ¢òÔºåÂ≠êÈóÆÈ¢òÊâÄÈúÄË¶ÅÊó∂Èó¥ÈÉΩÊòØ‰∏äÁ∫ßÈóÆÈ¢òÊó∂Èó¥ÁöÑ‰∏ÄÂçäÔºåÊâÄ‰ª•Êúâ‰ª•‰∏ãÂÖ≥Á≥ªÔºö 1234567T(n) = 2*T(n/2) + n = 2*(2*T(n/4) + n/2) + n = 4*T(n/4) + 2*n = 4*(2*T(n/8) + n/4) + 2*n = 8*T(n/8) + 3*n = 8*(2*T(n/16) + n/8) + 3*n = 16*T(n/16) + 4*n ...... = 2^k * T(n/2^k) + k * n ...... Ê†πÊçÆ‰∏äÈù¢ÁöÑÊé®ÁÆóÔºåÂæóÂà∞T(n)=2^k * T(n/2^k) + k * n„ÄÇÂΩìT(n/2^k)=T(1)Êó∂Ôºå‰πüÂ∞±ÊòØÂΩìÂéüÊï∞ÁªÑÊãÜÂàÜÂà∞Âè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Êó∂Ëß£ÂÜ≥Â≠êÈóÆÈ¢òÊâÄÈúÄË¶ÅÁöÑÊó∂Èó¥ÔºåËøôÈáå‰∏çÈúÄË¶ÅÂêàÂπ∂Ôºà‰πüÂ∞±ÊòØÊ≤°ÊúâknÈ°πÔºå2^kÂàôÊòØÂ≠êÈóÆÈ¢òÁöÑ‰∏™Êï∞ÔºâÔºåÊ†πÊçÆÂØπÊï∞ÂÖ¨ÂºèÂèØ‰ª•Ê±ÇÁöÑk=log2nÔºå‰ª£ÂÖ•‰∏äÈù¢ÂÖ¨ÂºèÂ∞±ÂèØ‰ª•ÂæóÂà∞T(n)=Cn+nlog2nÔºåÁî®Â§ßOÊ†áËÆ∞Ê≥ïÊù•Ë°®Á§∫ÔºåÂèØ‰ª•ÂæóÂà∞ÂΩíÂπ∂ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(nlogn)„ÄÇ Âõ†‰∏∫ÂΩíÂπ∂ÊéíÂ∫èË∑üÊï∞ÁªÑÁöÑÊúâÂ∫èÁ®ãÂ∫¶Êó†ÂÖ≥ÔºåÊâÄ‰ª•‰∏çËÆ∫ÊòØÊúÄÂ•ΩÊÉÖÂÜµ„ÄÅÊúÄÂùèÊÉÖÂÜµÔºåËøòÊòØÂπ≥ÂùáÊÉÖÂÜµÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩ‰∏∫O(nlogn)„ÄÇ ÂΩíÂπ∂ÊéíÂ∫èÁöÑÁ©∫Èó¥Â§çÊùÇÂ∫¶ÊòØÂ§öÂ∞ë ÈÄíÂΩí‰ª£Á†ÅÁöÑÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏ç‰ºöÂÉèÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÇ£Ê†∑Á¥ØÂä†ÔºåËÄåÊòØÂú®ÂÆåÊàêÊØè‰∏ÄÊ¨°ÂêàÂπ∂Êìç‰Ωú‰πãÂêéÂ∞±ÈáäÊîæÊéâÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÂú®‰ªª‰ΩïÊó∂ÂàªÔºåCPUÂè™‰ºöÊúâ‰∏Ä‰∏™ÂáΩÊï∞Âú®ÊâßË°åÔºåÈÇ£‰πàÊúÄÂ§ßÁöÑ‰∏¥Êó∂ÂÜÖÂ≠òÁ©∫Èó¥Â∞±ÊòØÊï∞ÁªÑÁöÑÂ§ßÂ∞èÔºåÊâÄ‰ª•Á©∫Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)„ÄÇ Âø´ÈÄüÊéíÂ∫è‰ªÄ‰πàÊòØÂø´ÈÄüÊéíÂ∫èÂø´ÈÄüÊéíÂ∫èÁöÑÊ†∏ÂøÉÊÄùÊÉ≥Â∞±ÊòØÔºöÂú®ÂæÖÊéíÂ∫èÊï∞ÁªÑ‰∏≠ÈöèÊú∫Âèñ‰∏Ä‰∏™Êï∞ÊçÆ‰Ωú‰∏∫Âå∫ÂàÜÁÇπÔºåÂ∞è‰∫éËØ•Âå∫ÂàÜÁÇπÁöÑÊîæÂú®Â∑¶ËæπÔºåÂ§ß‰∫éËØ•Âå∫ÂàÜÁÇπÁöÑÊîæÂú®Âè≥ËæπÔºåÂå∫ÂàÜÁÇπÊîæÂú®‰∏≠Èó¥„ÄÇÊ†πÊçÆÂàÜÊ≤ª„ÄÅÈÄíÂΩíÁöÑÊÄùÊÉ≥ÔºåÂàÜÂà´ÂØπÂ∑¶Âè≥‰∏§ËæπÁöÑÊï∞ÊçÆÈáçÂ§çÂàöÂàöÁöÑÊìç‰ΩúÔºàÊØèÊ¨°ÊéíÂ∫èÈÉΩÊúâ‰∏Ä‰∏™Âå∫ÂàÜÁÇπË¢´Á°ÆÂÆöÔºå‰∏çÂÜçÂèÇ‰∏é‰∏ãÊ¨°ÊéíÂ∫èÔºâÔºåÁõ¥Âà∞ÂæÖÊéíÂ∫èÂå∫Èó¥‰∏∫1„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849# Âø´ÈÄüÊéíÂ∫èdef quick_sort1(a): """ÊéíÂ∫è""" left, right = [], [] if len(a) &lt;= 1: return a value = a[-1] for i in range(len(a) -1): if a[i] &lt; value: left.append(a[i]) else: right.append(a[i]) return quick_sort(left) + [value] + quick_sort(right)def quick_sort(lists, left, right): '''Âø´ÈÄüÊéíÂ∫è''' # Ë∑≥Âá∫ÈÄíÂΩíÂà§Êñ≠ if left &gt;= right: return lists # ÈÄâÊã©ÂèÇËÄÉÁÇπÔºåËØ•Ë∞ÉÊï¥ËåÉÂõ¥ÁöÑÁ¨¨1‰∏™ÂÄº key = lists[left] low = left high = right # Âæ™ÁéØÂà§Êñ≠Áõ¥Âà∞ÈÅçÂéÜÂÖ®ÈÉ® while left &lt; right: # ‰ªéÂè≥ËæπÂºÄÂßãÊü•ÊâæÂ§ß‰∫éÂèÇËÄÉÁÇπÁöÑÂÄº while left &lt; right and lists[right] &gt;= key: right -= 1 lists[left] = lists[right] # Ëøô‰∏™‰ΩçÁΩÆÁöÑÂÄºÂÖàÊå™Âà∞Â∑¶Ëæπ # ‰ªéÂ∑¶ËæπÂºÄÂßãÊü•ÊâæÂ∞è‰∫éÂèÇËÄÉÁÇπÁöÑÂÄº while left &lt; right and lists[left] &lt;= key: left += 1 lists[right] = lists[left] # Ëøô‰∏™‰ΩçÁΩÆÁöÑÂÄºÊå™Âà∞Âè≥Ëæπ # ÂÜôÂõûÊîπÊàêÁöÑÂÄº lists[left] = key # ÈÄíÂΩíÔºåÂπ∂ËøîÂõûÁªìÊûú quick_sort(lists, low, left - 1) # ÈÄíÂΩíÂ∑¶ËæπÈÉ®ÂàÜ quick_sort(lists, left + 1, high) # ÈÄíÂΩíÂè≥ËæπÈÉ®ÂàÜ return listsif __name__ == '__main__': b = [3,2,1,6,9,3,4,7] res = quick_sort(b) print(res) Âø´ÈÄüÊéíÂ∫èÁöÑÊÄßËÉΩÂàÜÊûê Âø´ÈÄüÊéíÂ∫èÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÂêó Âø´ÈÄüÊéíÂ∫èÊòØ‰∏ÄÁßçÂéüÂú∞„ÄÅ‰∏çÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÔºåÁúã‰ª£Á†ÅüëÜ Âø´ÈÄüÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØÂ§öÂ∞ë Âõ†‰∏∫Âø´Êéí‰πüÊòØÁî®ÈÄíÂΩíÂÆûÁé∞ÁöÑÔºåÊâÄ‰ª•ÂèØ‰ª•‰ΩøÁî®‰∏äÈù¢ÊèêÂà∞ÁöÑÊñπÂºèÊ±ÇËß£Êó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇÂ¶ÇÊûúÊØèÊ¨°ÈÄâÊã©ÁöÑÂå∫ÂàÜÁÇπÈÉΩËÉΩÂ∞ÜÊï∞ÁªÑÂàÜ‰∏∫Â§ßÂ∞èÁõ∏ËøëÁöÑ‰∏§‰∏™Â∞èÂå∫Èó¥ÔºåÈÇ£‰πàÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±ÊòØO(nlogn)„ÄÇ Â¶ÇÊûúÂéüÊù•ÁöÑÊï∞ÁªÑÂ∑≤ÁªèÊúâÂ∫è‰∫ÜÔºåÊØèÊ¨°ÂèñÂà∞ÁöÑÂàÜÂå∫ÁÇπÈÉΩÊòØÊúÄÂ§ßÔºàÊúÄÂ∞èÔºâÔºåÈÇ£‰πàÂæóÂà∞ÁöÑ‰∏§‰∏™ÂàÜÂå∫Â∞±ÈùûÂ∏∏‰∏çÂùáÁ≠âÔºåÊúÄÁ≥üÁöÑÊÉÖÂÜµË¶ÅnÊ¨°ÂàÜÂå∫Êìç‰ΩúÊâçËÉΩÂÆåÊàêÊéíÂ∫èÔºåËøôÊó∂ÂÄôÁöÑÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±ÂèòÊàê‰∫ÜO(n^2)„ÄÇ Ëá≥‰∫éÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåÈô§‰∫ÜÂèØ‰ª•Áî®‰∏äÈù¢ÁöÑÈÄíÂΩíÂÖ¨ÂºèÔºåËøòÂèØ‰ª•‰ΩøÁî®ÈÄíÂΩíÊ†ë„ÄÇÊÄªÁöÑÊù•ËØ¥ÔºåÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÈÉΩËÉΩÂÆûÁé∞O(nlogn)ÔºåÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÊâç‰ºöÈÄÄÂåñÂà∞O(n^2)„ÄÇ Âø´ÈÄüÊéíÂ∫èÁöÑÁ©∫Èó¥Â§çÊùÇÂ∫¶ÊòØÂ§öÂ∞ë ÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ïÔºåÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)„ÄÇ Â∫îÁî®ÈóÆÈ¢òÔºöÂ¶Ç‰ΩïÂú®O(n)Êó∂Èó¥Â§çÊùÇÂ∫¶ÂÜÖÊ±ÇÊó†Â∫èÊï∞ÁªÑA‰∏≠ÁöÑÁ¨¨KÂ§ßÂÖÉÁ¥†ÔºåÂ¶Ç4Ôºå2Ôºå5Ôºå12Ôºå3ÔºåÁ¨¨‰∏âÂ§ßÂ∞±ÊòØ4„ÄÇ Ëß£ÂÜ≥ÔºöÈÄâÊã©ÊúÄÂêé‰∏Ä‰∏™ÁÇπ‰Ωú‰∏∫ÂàÜÂå∫ÁÇπÔºåÂ∞ÜÂéüÊï∞ÁªÑÂàÜ‰∏∫‰∏âÈÉ®ÂàÜA[0‚Ä¶p-1]„ÄÅA[p]„ÄÅA[p+1‚Ä¶n-1]„ÄÇÂ¶ÇÊûúp+1=kÔºåÈÇ£‰πàA[p]Â∞±ÊòØÁ≠îÊ°à„ÄÇÂ¶ÇÊûúK&gt;p+1ÔºåÈÇ£‰πàÂ∞±Âú®Âè≥ÂàÜÂå∫ÁªßÁª≠Êü•ÊâæÔºõÂ¶ÇÊûúK&lt;p+1ÔºåÊàë‰ª¨Â∞±Âú®Â∑¶ÂàÜÂå∫ÁªßÁª≠Êü•Êâæ„ÄÇÂõ†‰∏∫ÊØèÊ¨°ÂàÜÂå∫ÔºåÂàÜÂå∫ÁÇπÁöÑ‰ΩçÁΩÆÈÉΩÊòØÁ°ÆÂÆöÁöÑ‰∫ÜÔºåËÄå‰∏ãÊ†áÊòØ‰ªé0ÂºÄÂßãÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅÂä†1‰πãÂêéÂÜçÂÅöÂà§Êñ≠„ÄÇÔºàÊÄùË∑ØÂæàÂÉèÊúÄÂ∞è‰∫å‰πòÊ≥ïÔºâÊØèÊ¨°ÈÉΩÂè™ÈúÄË¶ÅÂØπÂΩìÂâçÂàÜÂå∫ÁöÑ‰∏ÄÂçäÊï∞ÊçÆËøõË°åÂàÜÂå∫Ôºå‰πüÂ∞±ÊòØn„ÄÅn/2„ÄÅn/4‚Ä¶1ÔºåÊÄªÁöÑÊó∂Èó¥Âíå‰∏∫2n-1Ôºå‰πüÂ∞±ÊòØO(n)„ÄÇ ÊÄùËÄÉÁé∞Âú®‰Ω†Êúâ 10 ‰∏™Êé•Âè£ËÆøÈóÆÊó•ÂøóÊñá‰ª∂ÔºåÊØè‰∏™Êó•ÂøóÊñá‰ª∂Â§ßÂ∞èÁ∫¶ 300MBÔºåÊØè‰∏™Êñá‰ª∂ÈáåÁöÑÊó•ÂøóÈÉΩÊòØÊåâÁÖßÊó∂Èó¥Êà≥‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫è„ÄÇ‰Ω†Â∏åÊúõÂ∞ÜËøô10‰∏™ËæÉÂ∞èÁöÑÊó•ÂøóÊñá‰ª∂ÔºåÂêàÂπ∂‰∏∫1‰∏™Êó•ÂøóÊñá‰ª∂ÔºåÂêàÂπ∂‰πãÂêéÁöÑÊó•Âøó‰ªçÁÑ∂ÊåâÁÖßÊó∂Èó¥Êà≥‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫è„ÄÇÂ¶ÇÊûúÂ§ÑÁêÜ‰∏äËø∞ÊéíÂ∫è‰ªªÂä°ÁöÑÊú∫Âô®ÂÜÖÂ≠òÂè™Êúâ1GBÔºåËØ•Â¶Ç‰ΩïÂ§ÑÁêÜ ÂèÇËÄÉÊñáÁ´†Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÊéíÂ∫è</tag>
        <tag>ÊèíÂÖ•ÊéíÂ∫è</tag>
        <tag>Âø´ÈÄüÊéíÂ∫è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[browsercookie‰ΩøÁî®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F16%2Fbrowsercookie%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[ÂÆâË£Ö‰Ω†ÂèØËÉΩÈúÄË¶ÅÊèêÂâçÂÆâË£Ö‰∏Ä‰∫õ‰æùËµñÂ∫ì 1pip install pkgconfig setuptools_scm pytest-runner google-apputils ÂÆâË£Öbrowsercokie 1pip install browsercookie ‰ΩøÁî®È¶ñÂÖàÔºåÂú®ÊµèËßàÂô®ÊâìÂºÄÁõÆÊ†áÁΩëÁ´ôÔºåËøõÂÖ•ÈúÄË¶ÅÁôªÂΩïÊâçËÉΩÁúãÂà∞ÁöÑÈ°µÈù¢ÔºåÂ¶ÇGitHub profileÈ°µÈù¢„ÄÇ 1234567891011import browsercookieimport requestsfrom lxml import etreeurl = "https://github.com/settings/profile"cj = browsercookie.chrome()res = requests.get(url, cookies=cj)response = etree.HTML(res.text)heading = response.xpath('//*[@class="menu-heading"]/text()')print(heading) Âú®ÊâßË°å‰ª£Á†ÅÁöÑÊó∂ÂÄôÂèØËÉΩ‰ºöÈúÄË¶ÅËæìÂÖ•ÂØÜÁ†Å ËøîÂõûÁªìÊûúÂ¶Ç‰∏ãÔºö 1[&apos;\n Personal settings\n &apos;] Â¶ÇÊûúÊ≤°ÊúâÁôªÂΩïÔºåÁõ¥Êé•ËØ∑Ê±ÇprofileÈ°µÈù¢ÔºåËøîÂõûÁªìÊûú‰∏∫Á©∫ 123456url = "https://github.com/settings/profile"res = requests.get(url)response = etree.HTML(res.text)heading = response.xpath('//*[@class="menu-heading"]/text()')print(heading) Âú®ÊäìÂèñ‰∏Ä‰∫õÈúÄË¶ÅÁôªÂΩïÁöÑÁΩëÁ´ô‰ø°ÊÅØÁöÑÊó∂ÂÄôÔºåÂ∞±ÂèØ‰ª•ÁúÅÂéªÊ®°ÊãüÁôªÂΩïÔºåÊàñËÄÖÂ§ÑÁêÜcookieÔºåÁúÅ‰∏ã‰∏çÂ∞ëÂäõÊ∞îÂëÄÔΩû ÂèÇËÄÉÊñáÁ´†browsercookie]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>cookie</tag>
        <tag>Ê®°Âùó</tag>
        <tag>browsercookie</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞‰∏É„ÄëÊéíÂ∫èÔºà‰∏äÔºâ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F15%2F%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[Â¶Ç‰ΩïÂàÜÊûê‰∏Ä‰∏™‚ÄúÁÆóÊ≥ï‚ÄùÊéíÂ∫èÁÆóÊ≥ïÁöÑÊâßË°åÊïàÁéá1ÔºâÊúÄÂ•ΩÊÉÖÂÜµ„ÄÅÊúÄÂùèÊÉÖÂÜµ„ÄÅÂπ≥ÂùáÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶ Âú®ÂàÜÊûêÊéíÂ∫èÁÆóÊ≥ïÁöÑÊó∂ÂÄôÔºåË¶ÅÂàÜÂà´ÁªôÂá∫ÊúÄÂ•ΩÊÉÖÂÜµ„ÄÅÊúÄÂùèÊÉÖÂÜµ„ÄÅÂπ≥ÂùáÊÉÖÂÜµ‰∏ãÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶Ôºå‰ª•ÂèäÂØπÂ∫îÊÉÖÂÜµ‰∏ãË¶ÅÊéíÂ∫èÁöÑÂéüÂßãÊï∞ÊçÆÊòØ‰ªÄ‰πàÊ†∑ÁöÑÔºàÊúâÂ∫èÊàñËÄÖÊó†Â∫èÔºâ„ÄÇ 2ÔºâÊó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÁ≥ªÊï∞„ÄÅÂ∏∏Êï∞„ÄÅ‰ΩéÈò∂ ÂÆûÈôÖÂºÄÂèë‰∏≠ÔºåÈúÄË¶ÅÊéíÂ∫èÁöÑÊï∞ÊçÆÂèØËÉΩÊòØ10‰∏™„ÄÅ100‰∏™„ÄÅ1000‰∏™ËøôÁßçÂ∞èËßÑÊ®°ÁöÑÊï∞ÊçÆÔºåÊâÄ‰ª•ÈúÄË¶ÅÂ∞ÜÊó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÁ≥ªÊï∞„ÄÅÂ∏∏Êï∞„ÄÅ‰ΩéÈò∂ÈÉΩËÄÉËôëÂà∞„ÄÇ 3ÔºâÊØîËæÉÊ¨°Êï∞Âíå‰∫§Êç¢/ÁßªÂä®Ê¨°Êï∞ Âü∫‰∫éÊØîËæÉÁöÑÊéíÂ∫èÁÆóÊ≥ïÂú®ÊâßË°åËøáÁ®ã‰∏≠Ôºå‰ºöÊ∂âÂèäÂà∞‰∏§ÁßçÊìç‰ΩúÔºå‰∏ÄÊòØÂÖÉÁ¥†ÊØîËæÉÂ§ßÂ∞èÔºå‰∫åÊòØÂÖÉÁ¥†‰∫§Êç¢/ÁßªÂä®„ÄÇÂõ†Ê≠§ÈúÄË¶ÅÂ∞ÜÊØîËæÉÊ¨°Êï∞Âíå‰∫§Êç¢/ÁßªÂä®Ê¨°Êï∞‰πüËÄÉËôëËøõÂéª„ÄÇ ÊéíÂ∫èÁÆóÊ≥ïÁöÑÂÜÖÂ≠òÊ∂àËÄóÁÆóÊ≥ïÁöÑÂÜÖÂ≠òÊ∂àËÄóÂèØ‰ª•ÈÄöËøáÁ©∫Èó¥Â§çÊùÇÂ∫¶Êù•Ë°°ÈáèÔºåÊéíÂ∫èÁÆóÊ≥ï‰πüÊòØ„ÄÇÊú¨ÊñáÊ∂âÂèäÂà∞ÁöÑ‰∏âÁßçÊéíÂ∫èÁÆóÊ≥ïÈÉΩÊòØÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)Ôºå‰πüÁß∞‰∏∫ÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ï„ÄÇÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ïÊòØÁâπÊåáÁ©∫Èó¥Â§çÊùÇÂ∫¶ÊòØO(1)ÁöÑÊéíÂ∫èÁÆóÊ≥ïÔºå‰πüÂ∞±ÊòØÂ∏∏ÈáèÈò∂ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ ÊéíÂ∫èÁÆóÊ≥ïÁöÑÁ®≥ÂÆöÊÄßÊéíÂ∫èÁÆóÊ≥ïÁöÑÁ®≥ÂÆöÊÄßÊòØÊåáÔºåÂ¶ÇÊûúÂæÖÊéíÂ∫èÁöÑÂ∫èÂàó‰∏≠Â≠òÂú®ÂÄºÁõ∏Á≠âÁöÑÂÖÉÁ¥†ÔºåÁªèËøáÊéíÂ∫è‰πãÂêéÔºåÁõ∏Á≠âÂÖÉÁ¥†‰πãÈó¥ÂéüÊúâÁöÑÂÖàÂêéÈ°∫Â∫è‰∏çÂèò„ÄÇÂ¶ÇÊûúÊéíÂ∫è‰πãÂêéÔºåÂéüÊú¨ÁöÑÂâçÂêéÈ°∫Â∫èÂèëÁîüÂèòÂåñÔºåÈÇ£‰πàÂØπÂ∫îÁöÑÊéíÂ∫èÁÆóÊ≥ïÂ∞±Âè´ÂÅö‰∏çÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇ Â∫îÁî®ÔºöÊàë‰ª¨Ë¶ÅÁªôÁîµÂïÜÂπ≥Âè∞ÁöÑËÆ¢ÂçïÊï∞ÊçÆËøõË°åÊéíÂ∫èÔºåÊåâÁÖßÈáëÈ¢ù‰ªéÂ∞èÂà∞Â§ßÂØπËÆ¢ÂçïÊï∞ÊçÆËøõË°åÊéíÂ∫è„ÄÇÂ¶ÇÊûúÈáëÈ¢ùÁõ∏ÂêåÔºåÈÇ£‰πàÂ∞±ÊåâÁÖß‰∏ãÂçïÊó∂Èó¥Êù•ÊéíÂ∫è„ÄÇËøôÊó∂ÂÄôÂ∞±ÂèØ‰ª•Áî®Âà∞Á®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÔºåÂÖàÂ∞ÜËÆ¢ÂçïÈÉΩ‰∏ãÂçïÊó∂Èó¥ÊéíÂ∫èÔºåÊéíÂÆåÂ∫è‰πãÂêéÂÜçÂØπÈáëÈ¢ùÁõ∏ÂêåÁöÑËÆ¢Âçï‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫è„ÄÇÂõ†‰∏∫‰ΩøÁî®ÁöÑÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÔºåÊâÄ‰ª•Á¨¨‰∫åÊ¨°ÊéíÂ∫è‰πãÂêéÔºåÁõ∏ÂêåÈáëÈ¢ùÁöÑËÆ¢Âçï‰ªçÁÑ∂‰øùÊåÅ‰∏ãÂçïÊó∂Èó¥‰ªéÊó©Âà∞Êôö„ÄÇ ÊúâÂ∫èÂ∫¶„ÄÅÊó†Â∫èÂ∫¶„ÄÅÊª°ÊúâÂ∫èÂ∫¶‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫nÁöÑÊï∞ÁªÑÔºåÊúânÔºÅÁßçÊéíÂ∫èÊñπÂºèÔºåÂ¶ÇÊûúË¶ÅËÆ°ÁÆóÊéíÂ∫èÁÆóÊ≥ïÁöÑÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶ÔºåÊ∂âÂèäÂà∞ÁöÑÊ¶ÇÁéáËÆ°ÁÆó‰ºöÈùûÂ∏∏Â§çÊùÇÔºåÊâÄ‰ª•‰ΩøÁî®‚ÄúÊúâÂ∫èÂ∫¶‚ÄùÂíå‚ÄúÊó†Â∫èÂ∫¶‚ÄùËøô‰∏§‰∏™Ê¶ÇÂøµÊù•ËøõË°åÂàÜÊûê„ÄÇËøô‰∏™ÊñπÊ≥ïÂπ∂‰∏ç‰∏•Ê†ºÔºå‰ΩÜÊòØÂú®ÂæàÂ§öÊó∂ÂÄôÂæàÂÆûÁî®„ÄÇ ÊúâÂ∫èÂ∫¶ÊòØÊï∞ÁªÑ‰∏≠ÂÖ∑ÊúâÊúâÂ∫èÂÖ≥Á≥ªÁöÑÂÖÉÁ¥†ÂØπÁöÑ‰∏™Êï∞ÔºåÁî®ÂÖ¨ÂºèË°®Á§∫Â¶Ç‰∏ãÔºö 1ÊúâÂ∫èÂÖÉÁ¥†ÂØπÔºöÂ¶ÇÊûúi &lt; jÔºåÊúâa[i] &lt;= a[j] Â¶ÇÊï∞ÁªÑ[2, 4, 3, 1, 5, 6]ÁöÑÊúâÂ∫èÂ∫¶‰∏∫11ÔºåÂõ†‰∏∫ÊúâÂ∫èÂÖÉÁ¥†ÂØπÊúâ‰ª•‰∏ã11‰∏™Ôºö 1(2, 4), (2, 3), (4, 5), (4, 6), (2, 5), (2, 6), (3, 5), (3, 6), (1, 5), (1, 6), (5, 6) ÂØπ‰∫é‰∏Ä‰∏™ÂÄíÂ∫èÁöÑÊï∞ÁªÑÊù•ËØ¥ÔºåÊúâÂ∫èÂ∫¶Â∞±ÊòØ0ÔºõÂ¶ÇÊûúÊòØ‰∏Ä‰∏™ÂÆåÂÖ®ÊúâÂ∫èÁöÑÊï∞ÁªÑÔºåÊúâÂ∫èÂ∫¶ÊòØn(n-1)/2Ôºå‰πüÁß∞‰∏∫Êª°ÊúâÂ∫èÂ∫¶„ÄÇÈÇ£‰πàÔºåÈÄÜÂ∫èÂ∫¶Âàô‰∏éÊúâÂ∫èÂ∫¶ÁöÑÂÆö‰πâÁõ∏ÂèçÔºàÈªòËÆ§‰ªéÂ∞èÂà∞Â§ß‰∏∫ÊúâÂ∫èÔºâ„ÄÇÂÖ¨ÂºèÂ¶Ç‰∏ãÔºö 1ÈÄÜÂ∫èÂÖÉÁ¥†ÂØπÔºöÂ¶ÇÊûúi &gt; j,Êúâa[i] &lt; a[j] Ê†πÊçÆÊúâÂ∫èÂ∫¶ÂíåÊó†Â∫èÂ∫¶ÁöÑÂÆö‰πâÔºåÂèØ‰ª•ÂæóÂà∞Ëøô‰πà‰∏Ä‰∏™ÂÖ¨ÂºèÔºöÈÄÜÂ∫èÂ∫¶=Êª°ÊúâÂ∫èÂ∫¶-ÊúâÂ∫èÂ∫¶„ÄÇ ÂØπÂÖÉÁ¥†ËøõË°åÊéíÂ∫èÔºåÂ∞±ÊòØ‰∏Ä‰∏™‰∏çÊñ≠Â¢ûÂä†ÊúâÂ∫èÂ∫¶„ÄÅÂáèÂ∞ëÈÄÜÂ∫èÂ∫¶ÁöÑËøáÁ®ãÔºåÁõ¥Âà∞ËææÂà∞Êª°ÊúâÂ∫èÂ∫¶ÔºåÊéíÂ∫èÂÆåÊàê„ÄÇ ÂÜíÊ≥°ÊéíÂ∫èÔºàBubble SortÔºâÂÜíÊ≥°ÁÆóÊ≥ïÊØèÊ¨°ÈÉΩÂè™Êìç‰ΩúÁõ∏ÈÇªÁöÑ‰∏§‰∏™Êï∞ÊçÆ„ÄÇÂ¶ÇÊûú‰∏çÊª°Ë∂≥Â§ßÂ∞èË¶ÅÊ±ÇÔºåÂ∞±Â∞ÜÂÖ∂‰∫íÊç¢„ÄÇ 12345678910111213141516171819202122# ÂÜíÊ≥°ÁÆóÊ≥ïdef bubble_sort(a): """aÊòØÊï∞ÁªÑÔºåËøîÂõû‰ªéÂ∞èÂà∞Â§ßÊéíÂ∫èÁöÑÊï∞ÁªÑ""" n = len(a) # Âè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Â∞±Áõ¥Êé•ËøîÂõû if n &lt;= 1: return a # Âæ™ÁéØÔºåÂ∞ÜÊØè‰∏™ÂÖÉÁ¥†‰∏é‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†ËøõË°åÊØîËæÉ for i in range(n): flag = False for j in range(n-i-1): # Â¶ÇÊûúÂΩìÂâçÂÖÉÁ¥†ÊØî‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†Â§ßÔºå‰∫íÊç¢‰ΩçÁΩÆ if a[j] &gt; a[j+1]: a[j], a[j+1] = a[j+1], a[j] flag = True # ‰ºòÂåñÔºöÊ≤°ÊúâÊï∞ÊçÆ‰∫§Êç¢ÔºåÊèêÂâçÈÄÄÂá∫ if not flag: break return aa=[3,5,4,1,2,6,2,55,6,7,6,4]bubble_sort(a) ÂàÜÊûêÂÜíÊ≥°ÁÆóÊ≥ï ÂÜíÊ≥°ÁÆóÊ≥ïÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ïÂêó Âõ†‰∏∫Âè™Ê∂âÂèäÂà∞Áõ∏ÈÇªÊï∞ÊçÆÁöÑ‰∫§Êç¢Êìç‰ΩúÔºåÈúÄË¶ÅÁöÑÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)ÔºåÊâÄ‰ª•ÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ï„ÄÇ ÂÜíÊ≥°ÁÆóÊ≥ïÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÂêó ÂÜíÊ≥°ÊéíÂ∫è‰∏≠Âè™Êúâ‰∫§Êç¢Êâç‰ºöÊîπÂèò‰∏§‰∏™ÂÖÉÁ¥†ÁöÑÂâçÂêéÈ°∫Â∫è„ÄÇÂΩìÁõ∏ÈÇª‰∏§‰∏™ÂÖÉÁ¥†Áõ∏Á≠âÊó∂ÔºåÊàë‰ª¨‰∏çÂÅö‰∫§Êç¢ÔºåÊâÄ‰ª•Â§ßÂ∞èÁõ∏Á≠âÁöÑÂÖÉÁ¥†Âú®ÊéíÂ∫èÂâçÂêéÈ°∫Â∫è‰∏çÊîπÂèòÔºåÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇ ÂÜíÊ≥°ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØÂ§öÂ∞ë ÊúÄÂ•ΩÊÉÖÂÜµ‰∏ãÔºåË¶ÅÊéíÂ∫èÁöÑÊï∞ÊçÆÂ∑≤ÁªèÊòØÊúâÂ∫èÁöÑ‰∫ÜÔºåÂè™ÈúÄË¶Å‰∏ÄÊ¨°ÂÜíÊ≥°Êìç‰ΩúÔºåÊâÄ‰ª•ÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºàÈÅçÂéÜÊï∞ÁªÑÔºâ„ÄÇÊúÄÂùèÊÉÖÂÜµÂàôÊòØÔºåË¶ÅÊéíÂ∫èÁöÑÊï∞ÊçÆÊòØÂÄíÂ∫èÁöÑÔºåÈúÄË¶ÅËøõË°ånÊ¨°ÂÜíÊ≥°ÔºåÊâÄ‰ª•ÊúÄÂùèÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n^2)„ÄÇÂπ≥ÂùáÊÉÖÂÜµÂ§çÊùÇÂ∫¶ÁöÑËÆ°ÁÆóÔºåÊàë‰ª¨ÂàôÂèØ‰ª•Ê†πÊçÆÊúâÂ∫èÂ∫¶Êù•ËÆ°ÁÆó„ÄÇ ÊúÄÂùèÊÉÖÂÜµ‰∏ãÔºåÂàùÂßãÁä∂ÊÄÅÁöÑÊúâÂ∫èÂ∫¶ÊòØ0ÔºåË¶ÅËøõË°ån(n-1)/2Ê¨°‰∫§Êç¢„ÄÇÊúÄÂ•ΩÊÉÖÂÜµÊÉÖÂÜµ‰∏ãÔºåÂàùÂßãÁä∂ÊÄÅÁöÑÊúâÂ∫èÂ∫¶ÊòØn(n-1)/2Ôºå‰∏çÈúÄË¶ÅËøõË°å‰∫§Êç¢„ÄÇÊàë‰ª¨ÂèØ‰ª•Âèñ‰∏§ËÄÖÁöÑ‰∏≠Èó¥ÂÄº‰Ωú‰∏∫Âπ≥ÂùáÊÉÖÂÜµ‰∏ãÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶Ôºå‰πüÂ∞±ÊòØn(n-1)/4ÔºåÊâÄ‰ª•Â§çÊùÇÂ∫¶‰∏∫O(n^2)„ÄÇ ÊèíÂÖ•ÊéíÂ∫è(Insertion Sort)ÊèíÂÖ•ÊéíÂ∫èÊòØÂú®ÊúâÂ∫èÊï∞ÁªÑ‰∏≠ÊèíÂÖ•Êñ∞Êï∞ÊçÆ‰πãÂêéÔºå‰ªçÁÑ∂‰øùÊåÅÊï∞ÊçÆÁöÑÊúâÂ∫èÊÄß„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÈÅçÂéÜÊï∞ÁªÑÔºåÊâæÂà∞Êï∞ÊçÆÂ∫îËØ•ÊèíÂÖ•ÁöÑ‰ΩçÁΩÆÂ∞ÜÂÖ∂ÊèíÂÖ•Âç≥ÂèØ„ÄÇ ÊèíÂÖ•ÊéíÂ∫è‰πüÂè™Ê∂âÂèäÂà∞‰∏§ÁßçÊìç‰ΩúÔºå‰∏ÄÁßçÊòØÂÖÉÁ¥†ÊØîËæÉÔºåÂè¶‰∏ÄÁßçÊòØÂÖÉÁ¥†ÁöÑÁßªÂä®„ÄÇ ËøáÁ®ãÔºöÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÂæÖÊéíÂ∫èÊï∞ÁªÑÂàÜ‰∏∫Â∑≤ÊéíÂ∫èÂå∫ÂíåÊú™ÊéíÂ∫èÂå∫Ôºå‰∏ÄÂºÄÂßãÔºåÂ∑≤ÊéíÂ∫èÂå∫Âè™Êúâ‰∏Ä‰∏™ÂÖÉÁ¥†Ôºå‰πüÂ∞±ÊòØÊï∞ÁªÑÁöÑÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ‰πãÂêéÂ∞±‰∏çÊñ≠Âú®Êú™ÊéíÂ∫èÂå∫‰∏≠ÂèñÂá∫ÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÂú®Â∑≤ÊéíÂ∫èÂå∫ÈÅçÂéÜÊü•ÊâæÂêàÈÄÇÁöÑ‰ΩçÁΩÆÊèíÂÖ•Êñ∞ÂÖÉÁ¥†ÔºåÂêåÊó∂Â∞ÜÊèíÂÖ•ÁÇπ‰πãÂêéÁöÑÂÖÉÁ¥†ÈÉΩÈ°∫Â∫èÂæÄÂêéÁßªÂä®‰∏Ä‰ΩçÔºåÂπ∂‰øùËØÅÂ∑≤ÊéíÂ∫èÂå∫ÁöÑÊï∞ÊçÆ‰∏ÄÁõ¥ÊúâÂ∫è„ÄÇÈáçÂ§çÊï¥‰∏™ËøáÁ®ãÔºåÁõ¥Âà∞Êú™ÊéíÂ∫èÂå∫ÁöÑÂÖÉÁ¥†‰∏∫Á©∫„ÄÇ 1234567891011121314151617# ÊèíÂÖ•ÊéíÂ∫èdef insert_sort(a): n = len(a) if n &lt;= 1: return for i in range(1, n): # ÂΩìÂâçÂÖÉÁ¥† value = a[i] for j in range(i, 0, -1): if a[j-1] &gt; value: a[j-1], a[j] = value, a[j-1] else: break return ab = [3,2,1,6,5,9,6,1]insert_sort(b) ÂàÜÊûêÊèíÂÖ•ÁÆóÊ≥ï ÊèíÂÖ•ÊéíÂ∫èÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ïÂêó ÊèíÂÖ•ÊéíÂ∫èÂπ∂‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂÇ®Â≠òÁ©∫Èó¥ÔºåÊâÄ‰ª•Á©∫Èó¥Â§çÊùÇÂ∫¶ÊòØO(1)ÔºåÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ï„ÄÇ ÊèíÂÖ•ÊéíÂ∫èÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÂêó ÂØπ‰∫éÂÄºÁõ∏ÂêåÁöÑÂÖÉÁ¥†ÔºåÊàë‰ª¨ÂèØ‰ª•Â∞ÜÂêéÈù¢Âá∫Áé∞ÁöÑÂÖÉÁ¥†ÊèíÂÖ•Âà∞ÂâçÈù¢Âá∫Áé∞ÂÖÉÁ¥†ÁöÑÂêéÈù¢ÔºåËøôÊ†∑Â∞±‰øùÊåÅ‰∫ÜÂéüÊú¨ÁöÑÂâçÂêéÈ°∫Â∫èÔºå‰ªé‰ª£Á†ÅÂÆûÁé∞‰∏≠‰πüÂèØ‰ª•ÁúãÂá∫Êù•„ÄÇÊâÄ‰ª•ÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ï„ÄÇ ÊèíÂÖ•ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØÂ§öÂ∞ë ÊúÄÂ•ΩÊÉÖÂÜµ‰∏ãÔºåÂæÖÊéíÂ∫èÊï∞ÁªÑÂ∑≤ÁªèÊòØÊúâÂ∫èÁöÑ‰∫ÜÔºåÊèíÂÖ•ÊéíÂ∫èÁÆóÊ≥ïÂè™ÊòØÂæ™ÁéØÊØîËæÉ‰∫Ü‰∏ÄÈÅçÔºåÂπ∂Ê≤°ÊúâÊèíÂÖ•Êìç‰ΩúÔºåÊâÄ‰ª•ÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºàÈÅçÂéÜÊï∞ÁªÑÔºâ„ÄÇÊúÄÂùèÊÉÖÂÜµ‰∏ãÔºåÂæÖÊéíÂ∫èÊï∞ÁªÑÊòØÂÄíÂ∫èÁöÑÔºåÈÇ£‰πàÂæ™ÁéØÊØîËæÉÊó∂ÔºåËøòÈúÄË¶ÅÁßªÂä®Êï∞ÊçÆÔºåÊâÄ‰ª•ÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n^2)„ÄÇÊèíÂÖ•ÊéíÂ∫èÁ±ª‰ºº‰∫éÂú®Êï∞ÁªÑ‰∏≠ÊèíÂÖ•‰∏Ä‰∏™Êï∞ÊçÆÔºåÂè™‰∏çËøáË¶ÅÂæ™ÁéØÊâßË°ånÊ¨°ÊèíÂÖ•Êìç‰ΩúÔºåÁ±ªÊØîÂêéËÄÖÁöÑÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(n)ÔºåÊèíÂÖ•ÊéíÂ∫èÁÆóÊ≥ïÁöÑÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n^2)„ÄÇ ÈÄâÊã©ÊéíÂ∫è(Selection Sort)ÈÄâÊã©ÊéíÂ∫èÊÄùË∑ØË∑üÊèíÂÖ•ÊéíÂ∫èÁ±ª‰ººÔºå‰πüÂàÜÊú™ÊéíÂ∫èÂå∫ÂíåÂ∑≤ÊéíÂ∫èÂå∫„ÄÇ‰∏çÂêåÁöÑÊòØÔºåÈÄâÊã©ÊéíÂ∫èÊØèÊ¨°ÈÉΩ‰ªéÊú™ÊéíÂ∫èÂå∫ÈÄâÊã©ÊúÄÂ∞èÂÄºÊèíÂÖ•Âà∞Â∑≤ÊéíÂ∫èÂå∫ÁöÑÂ∞æÈÉ®Ôºå‰πüÂ∞±ÊòØÂ∞Ü‰∏§ËÄÖ‰∫íÊç¢„ÄÇÔºàÊâìÁ†¥‰∫ÜÂéüÊúâÊï∞ÁªÑÂÖÉÁ¥†ÁöÑÂâçÂêéÈ°∫Â∫èÔºâ 12345678910111213141516171819# ÈÄâÊã©ÊéíÂ∫èdef select_sort(a): n = len(a) if n == 1: return a for i in range(n): # ÊúÄÂ∞èÂÖÉÁ¥†ÁöÑ‰∏ãÊ†á flag = i # Âú®Êú™ÊéíÂ∫èÂå∫ÈÄâÊã©ÊúÄÂ∞èÂÖÉÁ¥† for j in range(i, n): # ‰∏çÊñ≠Êõ¥Êñ∞ÊúÄÂ∞èÂÄº if a[j] &lt; a[flag]: # Â¶ÇÊûúÂÖÉÁ¥†Â∞è‰∫éÊúÄÂ∞èÂÖÉÁ¥†ÔºåÊõ¥Êñ∞‰∏ãÊ†á flag = j # Â∞ÜÊúÄÂ∞èÂÖÉÁ¥†‰∏é‰∏ãÊ†á‰∏∫i‰∫íÊç¢ a[flag], a[i] = a[i], a[flag] return aselect_sort(a) ÂàÜÊûêÈÄâÊã©ÊéíÂ∫èÁÆóÊ≥ï ÈÄâÊã©ÊéíÂ∫èÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ïÂêó ÈÄâÊã©ÊéíÂ∫èÁöÑÁ©∫Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)ÔºåÊâÄ‰ª•ÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ï„ÄÇ ÈÄâÊã©ÊéíÂ∫èÊòØÁ®≥ÂÆöÁöÑÊéíÂ∫èÁÆóÊ≥ïÂêó ÊØèÊ¨°ÈÄâÊã©ÂÖÉÁ¥†ÈÉΩÊòØÂú®Êú™ÊéíÂ∫èÂå∫ÈÄâÊã©ÊúÄÂ∞èÂÄºÁÑ∂Âêé‰∏éÂ∑≤ÊéíÂ∫èÂå∫ÁöÑÊú´Â∞æ(Êú™ÊéíÂ∫èÁöÑÁ¨¨‰∏Ä‰ΩçÂÖÉÁ¥†)ÂÖÉÁ¥†ËøõË°å‰∫§Êç¢Ôºå‰ºöÊâìÁ†¥ÂéüÊúâÂÖÉÁ¥†ÁöÑÂâçÂêéÈ°∫Â∫è„ÄÇ ÈÄâÊã©ÊéíÂ∫èÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØÂ§öÂ∞ë ‰∏çÁÆ°ÂæÖÊéíÂ∫èÊï∞ÁªÑÊòØÊúâÂ∫èËøòÊòØÂÄíÂ∫èÔºåÊØèÊ¨°ÈÄâÊã©ÊúÄÂ∞èÂÖÉÁ¥†ÁöÑÊó∂ÂÄôÈÉΩ‰ºöÂæ™ÁéØÊØîËæÉÔºåÊâßË°ånÊ¨°ËøôÊ†∑ÁöÑÊìç‰ΩúÔºåÊâÄ‰ª•‰∏çÁÆ°ÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÅÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶ÂíåÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØO(n^2)„ÄÇ ‰∏∫‰ªÄ‰πàÊèíÂÖ•ÊéíÂ∫èË¶ÅÊØîÂÜíÊ≥°ÊéíÂ∫èÊõ¥ÂèóÊ¨¢Ëøé‰ªé‰∏äÊñáÂèØ‰ª•ÂæóÁü•ÔºåËøô‰∏§‰∏™ÁÆóÊ≥ïÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØO(n^2)ÔºåÈÉΩÊòØÂéüÂú∞ÊéíÂ∫èÁÆóÊ≥ïÔºåÂîØ‰∏ÄÁöÑÂå∫Âà´Â∞±Âú®‰∫éÊï∞ÊçÆ‰∫§Êç¢ÈÉ®ÂàÜ„ÄÇÂÜíÊ≥°ÊéíÂ∫è‰∫§Êç¢Êìç‰ΩúÊúâ‰∏â‰∏™Êìç‰ΩúËØ≠Âè•ÔºåËÄåÊèíÂÖ•ÊéíÂ∫èÁöÑÂÖÉÁ¥†ÁßªÂä®Êìç‰ΩúÂè™Êúâ‰∏ÄË°å‰ª£Á†ÅÔºåÊâÄ‰ª•‰ªéÁêÜËÆ∫‰∏äÊù•ËØ¥ÔºåÊèíÂÖ•ÊéíÂ∫èÊõ¥‰ºò„ÄÇ ÂèÇËÄÉÊñáÁ´†Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÊéíÂ∫è</tag>
        <tag>ÂÜíÊ≥°ÊéíÂ∫è</tag>
        <tag>ÊèíÂÖ•ÊéíÂ∫è</tag>
        <tag>ÈÄâÊã©ÊéíÂ∫è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞ÂÖ≠„ÄëÈÄíÂΩí]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F15%2F%E9%80%92%E5%BD%92%2F</url>
    <content type="text"><![CDATA[ËøôÊ†∑ÁêÜËß£‚ÄúÈÄíÂΩí‚ÄùÁúãÁîµÂΩ±Êó∂ÔºåÂ¶ÇÊûúÂøò‰∫ÜËá™Â∑±Âú®Á¨¨Âá†ÊéíÔºåÂè™ÈúÄË¶ÅÈóÆÂâçÈù¢ÁöÑ‰∫∫ÊòØÁ¨¨Âá†ÊéíÔºå‰∏ÄÁõ¥Âà∞Á¨¨‰∏ÄÊéíÔºåÁÑ∂ÂêéÂÜçÊääÊï∞Â≠ó‰∏ÄÊéí‰∏ÄÊéí‰º†ÂõûÊù•ÔºåËøôÊ†∑Â∞±Áü•ÈÅìÁ≠îÊ°à‰∫Ü„ÄÇ ËøôÊï¥‰∏™ËøáÁ®ãÂ∞±ÊòØÊ†áÂáÜÁöÑÈÄíÂΩíÊ±ÇËß£ÈóÆÈ¢òÁöÑÂàÜËß£ËøáÁ®ãÔºåÂéªÁöÑËøáÁ®ãÂè´‚ÄúÈÄí‚ÄùÔºåÂõûÊù•ÁöÑËøáÁ®ãÂè´‚ÄúÂΩí‚Äù„ÄÇÂèØ‰ª•ËøôÊ†∑Êù•Ë°®Á§∫Ôºö 12345def f(n): if n == 1: return 1 else: return f(n-1) + 1 Êó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÂõ†‰∏∫ÈÄíÂΩíË∞ÉÁî®‰∏ÄÊ¨°‰ºöÂú®ÂÜÖÂ≠òÊ†à‰∏≠‰øùÂ≠ò‰∏ÄÊ¨°Áé∞Âú∫Êï∞ÊçÆÔºåÊâÄÊúâÈúÄË¶ÅÈ¢ùÂ§ñËÄÉËôëËøôÈÉ®ÂàÜÂºÄÈîÄ„ÄÇ ÈÄíÂΩíÈúÄË¶ÅÊª°Ë∂≥ÁöÑ‰∏â‰∏™Êù°‰ª∂ ‰∏Ä‰∏™ÈóÆÈ¢òÁöÑËß£ÂèØ‰ª•ÂàÜËß£‰∏∫Âá†‰∏™Â≠êÈóÆÈ¢òÁöÑËß£ Â¶Ç‰∏äÈù¢‰æãÂ≠êÔºåÂ∞Ü‚ÄúËá™Â∑±Âú®Âì™‰∏ÄÊéí‚ÄùÁöÑÈóÆÈ¢òÔºåÂàÜËß£‰∏∫‚ÄúÂâç‰∏ÄÊéíÁöÑ‰∫∫Âú®Âì™‰∏ÄÊéí‚ÄùËøôÊ†∑ÁöÑÂ≠êÈóÆÈ¢ò Ëøô‰∏™ÈóÆÈ¢ò‰∏éÂàÜËß£‰πãÂêéÁöÑÂ≠êÈóÆÈ¢òÔºåÈô§‰∫ÜÊï∞ÊçÆËßÑÊ®°‰∏çÂêåÔºåÊ±ÇËß£ÊÄùË∑ØÂÆåÂÖ®‰∏ÄÊ†∑ Â¶Ç‰∏äÈù¢‰æãÂ≠êÔºå‚ÄúËá™Â∑±Âú®Âì™‰∏ÄÊéí‚ÄùËøô‰∏™ÈóÆÈ¢òË∑ü‚ÄúÂâç‰∏ÄÊéíÁöÑ‰∫∫Âú®Âì™‰∏ÄÊéí‚ÄùÊòØ‰∏ÄÊ†∑ÁöÑÊ±ÇËß£ÊÄùË∑Ø Â≠òÂú®ÈÄíÂΩíÁªàÊ≠¢Êù°‰ª∂ ÂØπÈóÆÈ¢òËøõË°åÂàÜËß£ÔºåÂøÖÈ°ªÂ≠òÂú®ÁªàÊ≠¢Êù°‰ª∂Ôºå‰∏çËÉΩÊó†ÈôêÂàÜËß£‰∏ãÂéª„ÄÇÂ¶Ç‰∏äÈù¢‰æãÂ≠ê‰∏≠ÔºåÁ¨¨‰∏ÄÊéíÁöÑ‰∫∫‰∏çÈúÄË¶ÅÁªßÁª≠ËØ¢ÈóÆÂà´‰∫∫Â∞±Áü•ÈÅìËá™Â∑±Âú®Âì™‰∏ÄÊéíÔºåËøôÂ∞±ÊòØÈÄíÂΩíÁöÑÁªàÊ≠¢Êù°‰ª∂ Â¶Ç‰ΩïÁºñÂÜôÈÄíÂΩí‰ª£Á†Å ÂÜôÈÄíÂΩí‰ª£Á†ÅÁöÑÂÖ≥ÈîÆÂ∞±ÊòØÊâæÂà∞Â¶Ç‰ΩïÂ∞ÜÂ§ßÈóÆÈ¢òÂàÜËß£‰∏∫Â∞èÈóÆÈ¢òÁöÑËßÑÂæãÔºåÂπ∂‰∏îÂü∫‰∫éÊ≠§ÂÜôÂá∫ÈÄíÊé®ÂÖ¨ÂºèÔºåÁÑ∂ÂêéÂÜçÊé®Êï≤ÁªàÊ≠¢Êù°‰ª∂ÔºåÊúÄÂêéÂ∞ÜÈÄíÊé®ÂÖ¨ÂºèÂíåÁªàÊ≠¢Êù°‰ª∂ÁøªËØëÊàê‰ª£Á†Å„ÄÇ‰∏ÄÂè•ËØùÊÄªÁªìÔºöÂÜôÂá∫ÈÄíÊé®ÂÖ¨ÂºèÔºåÊâæÂà∞ÁªàÊ≠¢Êù°‰ª∂ ‰æãÂ≠êÔºöÂÅáÂ¶ÇÊúân‰∏™Âè∞Èò∂ÔºåÊØèÊ¨°ÂèØ‰ª•Ë∑®1‰∏™Âè∞Èò∂ÊàñËÄÖ2‰∏™Âè∞Èò∂ÔºåËØ∑ÈóÆËµ∞Ëøôn‰∏™Âè∞Èò∂‰∏ÄÂÖ±ÊúâÂ§öÂ∞ëÁßçËµ∞Ê≥ïÔºü ÈÄíÊé®ÂÖ¨ÂºèÔºöÂèØ‰ª•Ê†πÊçÆÁ¨¨‰∏ÄÊ≠•ÁöÑËµ∞Ê≥ïÂ∞ÜÊâÄÊúâËµ∞Ê≥ïÂàÜ‰∏∫‰∏§Á±ªÔºåÁ¨¨‰∏ÄÁ±ªÊòØÁ¨¨‰∏ÄÊ≠•Ëµ∞‰∫Ü1‰∏™Âè∞Èò∂ÔºåÁ¨¨‰∫åÁ±ªÊòØÁ¨¨‰∏ÄÊ≠•Ëµ∞‰∫Ü2‰∏™Âè∞Èò∂„ÄÇÊâÄ‰ª•n‰∏™Âè∞Èò∂ÁöÑËµ∞Ê≥ïÂ∞±ÊòØÂÖàËµ∞1‰∏™Âè∞Èò∂‰πãÂêén-1‰∏™Âè∞Èò∂ÁöÑËµ∞Ê≥ïÂä†‰∏äÂÖàËµ∞2‰∏™Âè∞Èò∂ÂêéÔºån-2‰∏™Âè∞Èò∂ÁöÑËµ∞Ê≥ïÔºåÂÖ¨ÂºèÂ¶Ç‰∏ãÔºö 1f(n) = f(n-1) + f(n-2) ÁªàÊ≠¢Êù°‰ª∂ÔºöÂΩìÂè™Êúâ1‰∏™Âè∞Èò∂Êó∂ÔºåÂè™Êúâ‰∏ÄÁßçËµ∞Ê≥ïf(1)=1ÔºåÂΩìÂè™Êúâ2‰∏™Âè∞Èò∂ÁöÑÊó∂ÂÄôÔºåÊúâ‰∏§ÁßçËµ∞Ê≥ïÔºåÊâÄ‰ª•ÁªàÊ≠¢Êù°‰ª∂Âè™Êúâf(1)=1Âπ∂‰∏çÂ§üÔºåÈúÄË¶ÅÂä†‰∏äf(2)=2„ÄÇ ÈÄíÂΩí‰ª£Á†ÅÔºö 123456def f(n): if n == 1: return 1 if n == 2: return 2 return f(n-1) + f(n-2) ÁºñÂÜôÈÄíÂΩí‰ª£Á†ÅÊó∂ÔºåÂè™Ë¶ÅÈÅáÂà∞ÈÄíÂΩíÔºåÊàë‰ª¨Â∞±ÊääÂÆÉÊäΩË±°Êàê‰∏Ä‰∏™ÈÄíÊé®ÂÖ¨ÂºèÔºå‰∏çÁî®ÊÉ≥‰∏ÄÂ±ÇÂ±ÇÁöÑË∞ÉÁî®ÂÖ≥Á≥ªÔºå‰∏çË¶ÅËØïÂõæÁî®‰∫∫ËÑëÂéªÂàÜÊûêÈÄíÂΩíÁöÑÊØè‰∏™Ê≠•È™§ÔºåÂõ†‰∏∫ËøôÊ†∑ÂæàÂÆπÊòìËøõÂÖ•‰∏Ä‰∏™ÊÄùÁª¥ËØØÂå∫„ÄÇ ÊØîÂ¶ÇÔºåÊúâ‰∏Ä‰∏™ÈóÆÈ¢òAÂèØ‰ª•ÂàÜËß£‰∏∫Ëã•Âπ≤Â≠êÈóÆÈ¢òB„ÄÅC„ÄÅDÔºåÊàë‰ª¨ÂèØ‰ª•ÂÅáËÆæÂ≠êÈóÆÈ¢òB„ÄÅC„ÄÅDÂ∑≤ÁªèËß£ÂÜ≥ÔºåÂú®Ê≠§Âü∫Á°Ä‰∏äÊÄùËÄÉÂ¶Ç‰ΩïËß£ÂÜ≥ÈóÆÈ¢òAÔºåÂπ∂ÊÄùËÄÉÈóÆÈ¢òA‰∏éÂ≠êÈóÆÈ¢òB„ÄÅC„ÄÅD‰∏§Â±Ç‰πãÈó¥ÁöÑÂÖ≥Á≥ªÂç≥ÂèØ„ÄÇ ÈÄíÂΩí‰ª£Á†ÅË¶ÅË≠¶ÊÉïÂ†ÜÊ†àÊ∫¢Âá∫1.‰∏∫‰ªÄ‰πàÈÄíÂΩí‰ª£Á†ÅÂÆπÊòìÈÄ†ÊàêÂ†ÜÊ†àÊ∫¢Âá∫ ÂáΩÊï∞Ë∞ÉÁî®‰ºö‰ΩøÁî®Ê†àÊù•‰øùÂ≠ò‰∏¥Êó∂ÂèòÈáè„ÄÇÊØèË∞ÉÁî®‰∏Ä‰∏™ÂáΩÊï∞ÔºåÈÉΩ‰ºöÂ∞Ü‰∏¥Êó∂ÂèòÈáèÂ∞ÅË£Ö‰∏∫Ê†àÂ∏ßÂéãÂÖ•ÂÜÖÂ≠òÊ†àÔºåÁ≠âÂà∞ÂáΩÊï∞ÊâßË°åÂÆåÊàêËøîÂõûÊó∂ÔºåÊâçÂá∫Ê†à„ÄÇÂΩìÂáΩÊï∞ËøîÂõûÊó∂ÔºåÊ†àÂ∞±‰ºöÂáè‰∏ÄÂ±ÇÊ†àÂ∏ß„ÄÇÁî±‰∫éÊ†àÁöÑÂ§ßÂ∞è‰∏çÊòØÊúâÈôêÁöÑÔºåÊâÄ‰ª•Ê¨°Êï∞ËøáÂ§ö‰ºöÂØºËá¥Â†ÜÊ†à‰ºöÊ∫¢Âá∫„ÄÇÊâÄ‰ª•ÂΩìÈÄíÂΩíÊ±ÇËß£ÁöÑÊï∞ÊçÆËßÑÊ®°ËøáÂ§ßÔºåË∞ÉÁî®Â±ÇÊ¨°Â§™Ê∑±ÔºåÂ∞±ÊúâÂ†ÜÊ†àÊ∫¢Âá∫ÁöÑÈ£éÈô© 2.Â¶Ç‰ΩïÈÅøÂÖçÂá∫Áé∞Â†ÜÊ†àÊ∫¢Âá∫ ÂèØ‰ª•ÈÄöËøáÂú®‰ª£Á†Å‰∏≠ËÆæÁΩÆÈÄíÂΩíË∞ÉÁî®ÁöÑÊúÄÂ§ßÊ∑±Â∫¶Êù•Ëß£ÂÜ≥ÈóÆÈ¢òÔºåÂ¶Çpython‰∏≠ÂèØ‰ª•ËøôÊ†∑ËÆæÁΩÆÔºö 12import syssys.setrecursionlimit(100000) ‰ΩÜÊòØÂ¶ÇÊûúÈúÄË¶ÅËÆ°ÁÆóÁöÑÊ∑±Â∫¶ËøáÂ§ßÔºåÈÄíÂΩíÊñπÊ≥ïÂ∞±‰∏çÊòØÈÇ£‰πàÂÆûÁî®„ÄÇ ÈÄíÂΩí‰ª£Á†ÅË¶ÅË≠¶ÊÉïÈáçÂ§çËÆ°ÁÆó‰∏∫ÈÅøÂÖçÈáçÂ§çËÆ°ÁÆóÔºåÂèØ‰ª•Áî®Êï£ÂàóË°®‰πãÁ±ªÁöÑÁöÑÊï∞ÊçÆÁªìÊûÑÊù•‰øùÂ≠òÂ∑≤ÁªèÊ±ÇËß£ËøáÁöÑf(k)ÔºåÂ¶ÇÊûúÂ∑≤ÁªèÊ±ÇËß£ËøáÁöÑÂ∞±Áõ¥Êé•‰ªéÊï£ÂàóË°®ÂèñÂÄºËøîÂõû„ÄÇ 1234567891011res = dict()def f(n): if n == 1: return 1 if n == 2: return 2 if n in res: return res[n] ret = f(n-1) + f(n-2) res.update(&#123;n : ret&#125;) return ret ÊîπÂÜôÈÄíÂΩí‰ª£Á†Å‰∏∫ÈùûÈÄíÂΩí‰ª£Á†ÅÁîµÂΩ±Èô¢‰æãÂ≠êÔºåÂèØ‰ª•‰øÆÊîπ‰∏∫ 12345def (n): ret = 1 for i in range(2, n): ret = ret + 1 return ret Ë∑®Âè∞Èò∂ÈóÆÈ¢òÔºåÂèØ‰ª•‰øÆÊîπ‰∏∫Ôºö 123456789101112131415def f(n): # ÁªàÊ≠¢Êù°‰ª∂Êúâ‰∏§‰∏™ if n == 1: return 1 if n == 2: return 2 # ÂΩì‰∏çÊª°Ë∂≥ÁªàÊ≠¢Êù°‰ª∂Êó∂ÔºåÊØèÂ¢ûÂä†‰∏Ä‰∏™Âè∞Èò∂ÈÉΩÂ∞Ü‰πãÂâçÁöÑËµ∞Ê≥ïËøõË°åÂè†Âä† ret = 0 pre = 2 prepare = 1 for i in range(3, n): ret = pre + prepre prepre = pre pre = ret return ret ÂÖ≥‰∫éÈÄíÂΩí‰ª£Á†ÅÁöÑË∞ÉËØïÊñπÂºè ÊâìÂç∞Êó•ÂøóÊü•ÁúãÈÄíÂΩíÂÄº ÁªìÂêàÊù°‰ª∂Êñ≠ÁÇπËøõË°åË∞ÉËØï ÂèÇËÄÉÊñáÁ´†Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÈÄíÂΩí</tag>
        <tag>Êï∞ÊçÆÁªìÊûÑ</tag>
        <tag>ÁÆóÊ≥ï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞‰∫î„ÄëÈòüÂàó]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F15%2F%E9%98%9F%E5%88%97%2F</url>
    <content type="text"><![CDATA[‰ªÄ‰πàÊòØÈòüÂàóË∑üÊ†à‰∏ÄÊ†∑Ôºå‰πüÊòØ‰∏ÄÁßçÊìç‰ΩúÂèóÈôêÁöÑÁ∫øÊÄßË°®Êï∞ÊçÆÁªìÊûÑÔºå‰∏çÂêåÁöÑÊòØÔºåÈòüÂàóÊòØÂÖàËøõÂÖàÂá∫„ÄÇÊúÄÂü∫Êú¨ÁöÑÊìç‰ΩúÂè™Êúâ‰∏§‰∏™ÔºöÂÖ•Èòüenqueue()Ôºå‰πüÂ∞±ÊòØÊîæ‰∏Ä‰∏™Êï∞ÊçÆÂà∞ÈòüÂàóÂ∞æÈÉ®ÔºõÂá∫Èòüdequeue()Ôºå‰ªéÈòüÂàóÂ§¥ÈÉ®ÂèñÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ ÂÖ∑ÊúâÊüê‰∫õÁâπÊÄßÁöÑÈòüÂàóÂæ™ÁéØÈòüÂàó„ÄÅÈòªÂ°ûÈòüÂàó„ÄÅÂπ∂ÂèëÈòüÂàó„ÄÅÂæ™ÁéØÂπ∂ÂèëÈòüÂàóÁ≠â„ÄÇ ÈòüÂàóÁöÑÂÆûÁé∞1ÔºâÈ°∫Â∫èÈòüÂàóÔºöÁî®Êï∞ÁªÑÊù•ÂÆûÁé∞ ÈòüÂàóÁöÑÂÆûÁé∞ÈúÄË¶Å‰∏§‰∏™ÊåáÈíàÔºö‰∏Ä‰∏™ÊòØheadÊåáÈíàÔºåÊåáÂêëÂØπÂ§¥ÔºõÂè¶‰∏Ä‰∏™ÊòØtailÊåáÈíàÔºåÊåáÂêëÈòüÂ∞æ„ÄÇ‰∏ãÈù¢ÊòØÁî®JavaÂü∫‰∫éÊï∞ÁªÑÂÆûÁé∞ÁöÑÈòüÂàóÔºå‰ª£Á†ÅÊù•Ëá™„ÄäÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé„Äã 12345678910111213141516171819202122232425262728293031323334// Áî®Êï∞ÁªÑÂÆûÁé∞ÁöÑÈòüÂàópublic class ArrayQueue &#123;// Êï∞ÁªÑÔºöitemsÔºåÊï∞ÁªÑÂ§ßÂ∞èÔºönprivate String[] items;private int n = 0;// head Ë°®Á§∫ÈòüÂ§¥‰∏ãÊ†áÔºåtail Ë°®Á§∫ÈòüÂ∞æ‰∏ãÊ†áprivate int head = 0;private int tail = 0;// Áî≥ËØ∑‰∏Ä‰∏™Â§ßÂ∞è‰∏∫ capacity ÁöÑÊï∞ÁªÑpublic ArrayQueue(int capacity) &#123;items = new String[capacity];n = capacity;&#125;// ÂÖ•Èòüpublic boolean enqueue(String item) &#123;// Â¶ÇÊûú tail == n Ë°®Á§∫ÈòüÂàóÂ∑≤ÁªèÊª°‰∫Üif (tail == n) return false;items[tail] = item;++tail;return true;&#125;// Âá∫Èòüpublic String dequeue() &#123;// Â¶ÇÊûú head == tail Ë°®Á§∫ÈòüÂàó‰∏∫Á©∫if (head == tail) return null;// ‰∏∫‰∫ÜËÆ©ÂÖ∂‰ªñËØ≠Ë®ÄÁöÑÂêåÂ≠¶ÁúãÁöÑÊõ¥Âä†ÊòéÁ°ÆÔºåÊää -- Êìç‰ΩúÊîæÂà∞ÂçïÁã¨‰∏ÄË°åÊù•ÂÜô‰∫ÜString ret = items[head];++head;return ret;&#125;&#125; ÂΩìÊúâÂá∫Èòü„ÄÅÂÖ•ÈòüÊìç‰ΩúÊó∂ÔºåheadÊåáÈíàÂíåtailÊåáÈíàÈÉΩË¶ÅÂæÄÂêéÁßªÂä®„ÄÇÂΩìtailÁßªÂä®Âà∞ÊúÄÂè≥ËæπÁöÑÊó∂ÂÄôÔºåÂ∞±‰∏çËÉΩÁªßÁª≠ÂæÄÈòüÂàóÈáåÊ∑ªÂä†Êï∞ÊçÆ‰∫ÜÔºåÂç≥‰ΩøÊï∞ÁªÑ‰∏≠ËøòÊúâÁ©∫‰ΩôÁ©∫Èó¥„ÄÇ ÂÉèÊï∞ÁªÑ‰∏ÄÊ†∑ÔºåÂèØ‰ª•‰ΩøÁî®Êï∞ÊçÆÊê¨ÁßªÁöÑÊñπÊ≥ïÔºåÊØèÊ¨°Âá∫ÈòüÊìç‰ΩúÔºåÈÉΩÂ∞ÜÂâ©‰ΩôÊï∞ÊçÆÁßªÂä®Âà∞ÈòüÂ§¥Ôºå‰ΩÜÊòØËøôÊ†∑Â∞±‰ºö‰ΩøÂæóÂá∫ÈòüÊìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰ªéÂéüÊù•ÁöÑO(1)Âèò‰∏∫O(n)„ÄÇ ÂêåÊ†∑ÁöÑÔºå‰πüÂèØ‰ª•ÂÄüÈâ¥Êï∞ÁªÑÂà†Èô§Êìç‰ΩúÁöÑ‰ºòÂåñÊñπÊ≥ï‚Äî‚ÄîÂΩìÊ≤°ÊúâÁ©∫‰ΩôÁ©∫Èó¥Êó∂ÔºåÂÜçÈõÜ‰∏≠Ëß¶Âèë‰∏ÄÊ¨°Êï∞ÊçÆÁöÑÊê¨ÁßªÊìç‰Ωú„ÄÇÁé∞Âú®‰øÆÊîπÂÖ•ÈòüÂáΩÊï∞enqueue()Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 12345678910111213141516171819// ÂÖ•ÈòüÊìç‰ΩúÔºåÂ∞Ü item ÊîæÂÖ•ÈòüÂ∞æpublic boolean enqueue(String item) &#123;// tail == n Ë°®Á§∫ÈòüÂàóÊú´Â∞æÊ≤°ÊúâÁ©∫Èó¥‰∫Üif (tail == n) &#123;// tail ==n &amp;&amp; head==0ÔºåË°®Á§∫Êï¥‰∏™ÈòüÂàóÈÉΩÂç†Êª°‰∫Üif (head == 0) return false;// Êï∞ÊçÆÊê¨Áßªfor (int i = head; i &lt; tail; ++i) &#123;items[i-head] = items[i];&#125;// Êê¨ÁßªÂÆå‰πãÂêéÈáçÊñ∞Êõ¥Êñ∞ head Âíå tailtail -= head;head = 0;&#125;items[tail] = item;++tail;return true;&#125; 2ÔºâÈìæÂºèÈòüÂàóÔºöÁî®ÈìæË°®Êù•ÂÆûÁé∞ ÂêåÊ†∑ÈúÄË¶Å‰∏§‰∏™ÊåáÈíàÔºöheadÊåáÈíàÂíåtailÊåáÈíà„ÄÇÂÖ•ÈòüÊó∂Ôºåtail-&gt;next=new_node, tail=tail-&gt;nextÔºõÂá∫ÈòüÊó∂Ôºåhead=head-&gt;next 3ÔºâÂæ™ÁéØÈòüÂàó ‰ΩøÁî®Êï∞ÁªÑÂÆûÁé∞ÁöÑÈòüÂàóÔºåÊàë‰ª¨Â∞ÜÂÖ∂È¶ñÂ∞æÁõ∏ËøûÔºåÊûÑÊàê‰∏Ä‰∏™ÁéØÔºåËøôÊ†∑Â∞±Êàê‰∫ÜÂæ™ÁéØÈòüÂàó„ÄÇÂæ™ÁéØÈòüÂàóÂæàÂ•ΩÁöÑÈÅøÂÖç‰∫ÜÂá∫ÈòüÊìç‰ΩúÊó∂ÁöÑÊï∞ÊçÆÊê¨Áßª„ÄÇ ÂÅáËÆæÂæ™ÁéØÈòüÂàóÂ§ßÂ∞è‰∏∫8ÔºåÂΩìÂâçhead=4Ôºåtail=7ÔºåÂΩìÊúâÊï∞ÊçÆÂÖ•ÈòüÊó∂ÔºåtailÊåáÈíà‰∏çÊõ¥Êñ∞‰∏∫8ÔºåËÄåÊòØÊåáÂêë‰∏ãÊ†á‰∏∫0ÁöÑ‰ΩçÁΩÆ„ÄÇÂΩìÊúâÊï∞ÊçÆÁªßÁª≠Âä†ÂÖ•Êó∂ÔºåtailÂä†1„ÄÇ Âæ™ÁéØÈòüÂàóÁöÑÈòüÁ©∫ÈòüÊª°Âà§Êñ≠Êù°‰ª∂‰πüÊúâ‰∫ÜÂèòÂåñÔºöÈòüÂàó‰∏∫Á©∫Êó∂ÁöÑÂà§Êñ≠Êù°‰ª∂‰æùÁÑ∂ÊòØhead=tail„ÄÇÈòüÊª°Êó∂Ôºå(tail+1)%n=headÔºåÊâÄ‰ª•Âæ™ÁéØÈòüÂàó‰ºöÊµ™Ë¥π‰∏Ä‰∏™Êï∞ÁªÑÁöÑÂÇ®Â≠òÁ©∫Èó¥(Âä†1)„ÄÇ 4ÔºâÈòªÂ°ûÈòüÂàó ÈòªÂ°ûÈòüÂàóÂ∞±ÊòØÂú®ÈòüÂàóÁöÑÂü∫Á°Ä‰∏äÊ∑ªÂä†ÈòªÂ°ûÊìç‰ΩúÔºåÂÖ∏ÂûãÁöÑ‚ÄúÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÊ®°Âûã‚Äù„ÄÇÈòüÂàó‰∏∫Á©∫Êó∂Ôºå‰ªéÈòüÂ§¥ÂèñÊï∞ÊçÆ‰ºöÈòªÂ°ûÁõ¥Âà∞ÈòüÂàóÊúâ‰∫ÜÊï∞ÊçÆÊâç‰ºöËøîÂõû„ÄÇÈòüÂàóÊª°‰∫ÜÔºåÊèíÂÖ•Êï∞ÊçÆ‰ºöË¢´ÈòªÂ°ûÂà∞ÈòüÂàó‰∏≠ÊúâÁ©∫Èó≤‰ΩçÁΩÆÂêéÊâçËÉΩÊèíÂÖ•Êï∞ÊçÆÔºåÁÑ∂ÂêéÂÜçËøîÂõû„ÄÇ 5ÔºâÂπ∂ÂèëÈòüÂàó Á∫øÁ®ãÂÆâÂÖ®ÁöÑÈòüÂàóÂè´ÂÅöÂπ∂ÂèëÈòüÂàó„ÄÇÊúÄÁÆÄÂçïÁõ¥Êé•ÁöÑÂÆûÁé∞ÊñπÂºèÂ∞±ÊòØÂú®enqueue() „ÄÅdequeue()ÊñπÊ≥ïÂä†‰∏äÈîÅ„ÄÇ‰ΩÜÊòØÈîÅÂäõÂ∫¶Â§ßÂπ∂ÂèëÂ∫¶‰ºöËæÉ‰ΩéÔºåÂêå‰∏ÄÊó∂Âàª‰ªÖÂÖÅËÆ∏‰∏Ä‰∏™Â≠òÊàñÂèñÊìç‰Ωú„ÄÇ ÂÆûÊàòÈóÆÈ¢òÔºöÁ∫øÁ®ãÊ±†Ê≤°ÊúâÁ©∫Èó≤Á∫øÁ®ãÊó∂ÔºåÊñ∞ÁöÑ‰ªªÂä°ËØ∑Ê±ÇÁ∫øÁ®ãËµÑÊ∫êÔºåÁ∫øÁ®ãÊ±†ËØ•Â¶Ç‰ΩïÂ§ÑÁêÜÔºüÂêÑÁßçÂ§ÑÁêÜÁ≠ñÁï•ÊòØÂ¶Ç‰ΩïÂÆûÁé∞ÁöÑÔºü Âü∫‰∫éÈìæË°®ÂèØ‰ª•ÂÆûÁé∞‰∏Ä‰∏™ÊîØÊåÅÊó†ÈôêÊéíÈòüÁöÑÊó†ÁïåÈòüÂàó(unbounded queue)Ôºå‰ΩÜÂèØËÉΩ‰ºöÈÄ†ÊàêËøáÂ§öÁöÑËØ∑Ê±ÇÈòüÂàóÊéíÈòüÔºåËØ∑Ê±ÇÂ§ÑÁêÜÁöÑÂìçÂ∫îÊó∂Èó¥ËøáÈïøÁ≠âÈóÆÈ¢ò„ÄÇÂØπ‰∫éÂìçÂ∫îÊó∂Èó¥ÊØîËæÉÊïèÊÑüÁöÑÁ≥ªÁªüÊù•ËØ¥ÔºåËøôÁßçËß£ÂÜ≥ÊñπÊ°àÂπ∂‰∏çÂêàÈÄÇ„ÄÇ Âü∫‰∫éÊï∞ÁªÑÂÆûÁé∞ÁöÑÊúâÁïåÈòüÂàó(bounded queue)ÔºåËôΩÁÑ∂ÈÄÇÂêàÂØπÂìçÂ∫îÊó∂Èó¥ÊïèÊÑüÁöÑÁ≥ªÁªüÔºå‰ΩÜÊòØÂ¶Ç‰ΩïËÆæÁΩÆ‰∏Ä‰∏™ÂêàÁêÜÁöÑÈòüÂàóÂ§ßÂ∞è‰πüÊòØ‰∏™ÈóÆÈ¢ò„ÄÇÈòüÂàóÂ§™Â§ßÂàôÁ≠âÂæÖÁöÑËØ∑Ê±ÇÂ§™Â§öÔºåÈòüÂàóÂ§™Â∞è‰ºöÂØºËá¥Êó†Ê≥ïÊó†Ê≥ïÂÖÖÂàÜÂà©Áî®Á≥ªÁªüËµÑÊ∫ê„ÄÅÂèëÊå•ÊúÄÂ§ßÊÄßËÉΩ„ÄÇ ÈòüÂàóÂèØ‰ª•Â∫îÁî®Âú®‰ªª‰ΩïÊúâÈôêËµÑÊ∫êÊ±†‰∏≠ÔºåÁî®‰∫éÊéíÈòüËØ∑Ê±ÇÔºåÊØîÂ¶ÇÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†Á≠â„ÄÇÂÆûÈôÖ‰∏äÔºåÂØπ‰∫éÂ§ßÈÉ®ÂàÜËµÑÊ∫êÊúâÈôêÁöÑÂú∫ÊôØÔºåÂΩìÊ≤°ÊúâÁ©∫Èó≤ËµÑÊ∫êÊó∂ÔºåÂü∫Êú¨‰∏äÈÉΩÂèØ‰ª•ÈÄöËøá‚ÄúÈòüÂàó‚ÄùËøôÁßçÊï∞ÊçÆÁªìÊûÑÊù•ÂÆûÁé∞ËØ∑Ê±ÇÊéíÈòü„ÄÇ ÊÄùËÄÉÈ¢òÔºö1„ÄÅÈô§‰∫ÜÁ∫øÁ®ãÊ±†ËøôÁßçÊ±†ÁªìÊûÑ‰ºöÁî®Âà∞ÈòüÂàóÊéíÈòüËØ∑Ê±ÇÔºå‰Ω†ËøòÁü•ÈÅìÊúâÂì™‰∫õÁ±ª‰ººÁöÑÊ±†ÁªìÊûÑÊàñËÄÖÂú∫ÊôØ‰∏≠‰ºöÁî®Âà∞ÈòüÂàóÁöÑÊéíÈòüËØ∑Ê±ÇÔºü 2„ÄÅÂ¶Ç‰ΩïÂÆûÁé∞Êó†ÈîÅÂπ∂ÂèëÈòüÂàóÔºü ÂèÇËÄÉÊñáÁ´†Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÈòüÂàó</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[scrapyd-clientÁöÑÂÆâË£Ö‰ΩøÁî®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F11%2Fscrapyd-client%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[scrapyd-clientÂèØ‰ª•Áî®Êù•ÈÉ®ÁΩ≤scrapyÈ°πÁõÆÔºåÂÆÉ‰ºöÂ∏ÆÊàë‰ª¨ÊääÈ°πÁõÆÊâìÂåÖÊàêeggÊñá‰ª∂ÔºåÊàë‰ª¨‰∏çÁî®ÂÜçÂä®ÊâãË∞ÉÁî®add version.jsonÊé•Âè£ÂéªÈÉ®ÁΩ≤Âà∞scrapydÔºåÊìç‰ΩúÁÆÄÂçï„ÄÇ ÂÆâË£Ö1pip install scrapyd-client ÂÆâË£ÖÊàêÂäü‰πãÂêéÔºåÂ∞±ÂèØ‰ª•‰ΩøÁî®ÂÖ∂Êèê‰æõÁöÑscrapyd-deployÂ∑•ÂÖ∑Êù•ÈÉ®ÁΩ≤‰∫Ü„ÄÇ ‰ΩøÁî®1ÔºâÂêØÂä®scrapyd 1scrapyd 2Ôºâ‰øÆÊîπscrapy.cfgÊñá‰ª∂ ËøôÈáåÈúÄË¶Å‰øÆÊîπscrapyÈ°πÁõÆ‰∏ãÁöÑscrapy.cfgÊñá‰ª∂ÔºåÂéüÊñá‰ª∂Â¶Ç‰∏ãÔºö 123456[settings]default = unfancy.settings[deploy]# url = http://localhost:6800/project = unfancy Â¶ÇÊûúÂè™ÊòØÂú®Êú¨Âú∞ËøêË°åÔºåÂ∞±Áõ¥Êé•ÂèñÊ∂àÊ≥®ÈáäÔºåÂ¶ÇÊûúÊòØË¶ÅÈÉ®ÁΩ≤Âà∞ÂÖ∂‰ªñÊúçÂä°Âô®ÔºåÂ∞±Â∞Ülocalhost‰øÆÊîπ‰∏∫ÂØπÂ∫îÁöÑipÔºåÁ§∫‰æãÂ¶Ç‰∏ãÔºö 123456[deploy]url = http://193.112.107.55:6800/project = unfancy# ËøôÈáåÁöÑË¥¶Âè∑ÂØÜÁ†ÅÊòØÁî®Êù•ÁôªÂΩïÊúçÂä°Âô®ÁöÑÔºåÂ¶ÇÊûú‰∏çÈúÄË¶ÅË¥¶Âè∑ÂØÜÁ†ÅÔºåÂ∞±‰∏çÁî®Ê∑ªÂä†username = scrapypassword = secret ÂÖ≥‰∫éÁôªÂΩïÊúçÂä°Âô®Ëøô‰∏ÄÂùóÔºåÂèØ‰ª•‰ΩøÁî®nginxÂèçÂêë‰ª£ÁêÜÊù•ÂÆûÁé∞Áî®Êà∑ÁôªÂΩï„ÄÇ 3ÔºâÈÉ®ÁΩ≤ Áé∞Âú®Â∞±ÂèØ‰ª•Âú®scrapy.cfgÊâÄÂú®ÁöÑË∑ØÂæÑ‰∏ãÁõ¥Êé•ÊâßË°åÂëΩ‰ª§ÂÆåÊàêÈÉ®ÁΩ≤ 1scrapyd-deploy 4ÔºâÂêØÂä® ‰ΩøÁî®scrapyd apiÂêØÂä®‰ªªÂä°ÔºåÂÖ∂‰ªñÁöÑAPIËØ∑ÁúãÂè¶‰∏ÄÁØáÊñáÁ´†ÔºöscrapydÁöÑÂÆâË£Ö‰ΩøÁî® 1234curl http://localhost:6800/schedule.json -d project=unfancy -d spider=fancy # spiderÂ∞±ÊòØscrapyÁà¨Ëô´‰∏≠ÁöÑname# ËøîÂõû‰ø°ÊÅØ&#123;"jobid": "cd68179acd2911e8914cf45c89a40603", "status": "ok", "node_name": "Pro"&#125; ÈÉ®ÁΩ≤ÊàêÂäü‰πãÂêéÈ°πÁõÆ‰∏≠Â§ö‰∫Ü‰∏Ä‰∫õÊñá‰ª∂ÔºåÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂ¶ÇÊûúÈ°πÁõÆÊú¨Êù•Â∞±Êúâsetup.pyÊñá‰ª∂ÔºåËØ•Êñá‰ª∂‰ºöË¢´‰ΩøÁî®ÔºåÊ≤°ÊúâÂàô‰ºöËá™Âä®ÂàõÂª∫‰∏Ä‰∏™„ÄÇ 5ÔºâÊü•Áúã ÊâìÂºÄÊµèËßàÂô®Êü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØ ËØ¶Ëß£ÂÆåÊï¥ÁöÑÈÉ®ÁΩ≤ÂëΩ‰ª§Â¶Ç‰∏ãÔºö 1scrapyd-deploy &lt;target&gt; -p &lt;project&gt; --version &lt;version&gt; targetÔºöÊúçÂä°Âô®ÁöÑÂêçÂ≠óÔºåÂú®deployÂêéÈù¢Ôºå‰∏çÂÜôÂàôÊòØdefaultÔºåÈÉ®ÁΩ≤Êó∂ÂèØ‰ª•ÁúÅÁï•ÔºåÁúã‰∏äÈù¢‰æãÂ≠êüëÜ„ÄÇÂ¶ÇÊûúÂÜô‰∫ÜÔºåÂú®ÈÉ®ÁΩ≤ÁöÑÊó∂ÂÄô‰∏ÄÂÆöË¶ÅÂä†‰∏äÔºåÂê¶Âàô‰ºöÊä•Unknown target: defaultÈîôËØØÔºåÁúã‰∏ãÈù¢‰æãÂ≠êüëá projectÔºöÈ°πÁõÆÂêçÁß∞Ôºå‰∏ÄËà¨ÂàõÂª∫scrapyÈ°πÁõÆÊó∂Â∞±Â∑≤ÁªèÁªôÂÆö‰∫ÜÔºåÈÉ®ÁΩ≤Êó∂ÂèØ‰ª•‰∏çÁî®Â∏¶‰∏ä versionÔºöËá™ÂÆö‰πâÔºå‰∏çÂÜôÈªòËÆ§ÊòØÂΩìÂâçÊó∂Èó¥Êà≥ Â¶ÇÊûúÊúâÂ§öÂè∞ÊúçÂä°Âô®ÔºåÈúÄË¶ÅÊåáÂÆötargetÔºåÂêåÊó∂‰øÆÊîπurl„ÄÇ 1234567891011[deploy:target1]url = http://193.112.107.55:6800/project = unfancyusername = scrapypassword = secret[deploy:target2]url = http://193.112.107.54:6800/project = unfancyusername = scrapypassword = secret Êü•ÁúãÂèØÁî®ÁöÑtarget 1scrapyd-deploy -l Êü•ÁúãÊüê‰∏™ÁâπÂÆöÁöÑtarget 1scrapyd-deploy -L target1 Âè™ÈÉ®ÁΩ≤ÂÖ∂‰ªñÁöÑ‰∏ÄÂè∞ÊúçÂä°Âô®ÔºåËøõÂÖ•È°πÁõÆÊ†πÁõÆÂΩï 1scrapyd-deploy target1 Â¶ÇÊûúË¶Å‰∏ÄÊ¨°ÊÄßÈÉ®ÁΩ≤È°πÁõÆÂà∞Â§öÂè∞ÊúçÂä°Âô®ÔºåÂêåÊ†∑ËøõÂÖ•È°πÁõÆÊ†πÁõÆÂΩï 1scrapyd-deploy -a -p &lt;project&gt; ÂèÇËÄÉÊñáÁ´†scrapyd-client]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>scrapyd-client</tag>
        <tag>ÂàÜÂ∏ÉÂºè</tag>
        <tag>ÈÉ®ÁΩ≤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[scrapydÁöÑÂÆâË£Ö‰ΩøÁî®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F11%2Fscrapyd%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[scrapydÂèØ‰ª•ÁÆ°ÁêÜÂ§ö‰∏™È°πÁõÆÔºåÊØè‰∏™È°πÁõÆÂèØ‰ª•‰∏ä‰º†Â§ö‰∏™ÁâàÊú¨Ôºå‰ΩÜÊòØÂè™ÊúâÊúÄÊñ∞ÁöÑÁâàÊú¨‰ºöË¢´‰ΩøÁî®„ÄÇÊâÄ‰ª•ÔºåÁî®scrapyÂÆåÊàêÁà¨Ëô´‰ªªÂä°‰πãÂêéÔºåÂèØ‰ª•Áî®scapydÊù•ÈÉ®ÁΩ≤ÁÆ°ÁêÜ„ÄÇ ÂÆâË£Ö1pip install scrapyd ÈÖçÁΩÆÊñá‰ª∂unixÁ≥ªÁªüÈªòËÆ§ÊòØÂú®/etc/scrapyd/scrapyd.confÔºåÂ∫îËØ•ÊòØÁâàÊú¨‰∏çÂêåÂêßÔºåÂÆâË£ÖÂêéÂπ∂Ê≤°ÊúâÁúãÂà∞ÔºåÈúÄË¶ÅËá™Â∑±ÈÖçÁΩÆÔºåÂÖ∑‰ΩìÂèÇÁúãÂÆòÊñπÊñáÊ°£ 12mkdir /etc/scrapydvim /etc/scrapyd/scrapyd.conf Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÂÜôÂÖ•‰ª•‰∏ãÂÜÖÂÆπÔºàÂÆòÊñπÔºâ 1234567891011121314151617181920212223242526272829[scrapyd]eggs_dir = eggslogs_dir = logsitems_dir =jobs_to_keep = 5dbs_dir = dbsmax_proc = 0max_proc_per_cpu = 4finished_to_keep = 100poll_interval = 5.0bind_address = 127.0.0.1 # ËøôÈáåÂèØ‰ª•‰øÆÊîπ‰∏∫0.0.0.0http_port = 6800debug = offrunner = scrapyd.runnerapplication = scrapyd.app.applicationlauncher = scrapyd.launcher.Launcherwebroot = scrapyd.website.Root[services]schedule.json = scrapyd.webservice.Schedulecancel.json = scrapyd.webservice.Canceladdversion.json = scrapyd.webservice.AddVersionlistprojects.json = scrapyd.webservice.ListProjectslistversions.json = scrapyd.webservice.ListVersionslistspiders.json = scrapyd.webservice.ListSpidersdelproject.json = scrapyd.webservice.DeleteProjectdelversion.json = scrapyd.webservice.DeleteVersionlistjobs.json = scrapyd.webservice.ListJobsdaemonstatus.json = scrapyd.webservice.DaemonStatus ÂêØÂä®1scrapyd ËøêË°å‰πãÂêéÔºåÂú®ÊµèËßàÂô®ÊâìÂºÄhttp://localhost:6800ÔºåÂ∞±ÂèØ‰ª•ÁúãÂà∞‰ª•‰∏ãÈ°µÈù¢Ôºö API1Ôºâdaemonstatus.json Êü•ÁúãscrapydÂΩìÂâçÁä∂ÊÄÅ 1curl http://localhost:6800/daemonstatus.json Á§∫‰æãÁªìÊûú 1&#123; &quot;status&quot;: &quot;ok&quot;, &quot;running&quot;: &quot;0&quot;, &quot;pending&quot;: &quot;0&quot;, &quot;finished&quot;: &quot;0&quot;, &quot;node_name&quot;: &quot;node-name&quot; &#125; 2Ôºâaddversion.json ÁªôÈ°πÁõÆÊ∑ªÂä†‰∏Ä‰∏™ÁâàÊú¨ÔºåÈ°πÁõÆ‰∏çÂ≠òÂú®Âàô‰ºöÂàõÂª∫„ÄÇËøô‰∏™ÊòØÁî®Êù•ÈÉ®ÁΩ≤È°πÁõÆÁöÑÔºåÂâçÊèêÊòØË¶ÅÂÖàÂàõÂª∫eggÊñá‰ª∂„ÄÇ‰∏â‰∏™ÂèÇÊï∞ÈÉΩÊòØÂøÖÈ°ªÁöÑ 1curl http://localhost:6800/addversion.json -F project=project_name -F version=v1 -F egg=project.egg Á§∫‰æãÁªìÊûú 1&#123;&quot;status&quot;: &quot;ok&quot;, &quot;spiders&quot;: 3&#125; 3Ôºâschedule.json Ë∞ÉÂ∫¶Â∑≤ÁªèÈÉ®ÁΩ≤Â•ΩÁöÑspiderËøêË°åÔºåËøîÂõûjob id„ÄÇ ÂèÇÊï∞ËØ¥Êòé projectÔºöÂøÖÈ°ªÔºåÈ°πÁõÆÂêç spiderÔºöÂøÖÈ°ªÔºåspider name settingÔºöÈÄâÂ°´ÔºåËÆæÁΩÆscrapyÈ°πÁõÆ jobidÔºöÈÄâÂ°´ÔºåÁî®Êù•È™åËØÅjobÔºå‰ºöË¶ÜÁõñÈªòËÆ§ÁîüÊàêÁöÑUUID _versionÔºöÈÄâÂ°´ÔºåÈÄâÊã©ËøêË°åÁöÑÈ°πÁõÆÁâàÊú¨ ÂÖ∂‰ªñÁöÑÂèÇÊï∞ÈÉΩ‰ºö‰Ωú‰∏∫spiderÂèÇÊï∞ 1curl http://localhost:6800/schedule.json -d project=project_name -d spider=spider_name -d setting=DOWNLOAD_DELAY=2 -d arg1=val1 Á§∫‰æãÁªìÊûúÔºåstatusÊòØÈ°πÁõÆËøêË°åÁªìÊûúÔºåÂ¶ÇÊûúÂá∫ÈîôÁöÑËØù‰ºöÊòØerrorÔºåËøòÊúâmessage 1&#123;"status": "ok", "jobid": "6487ec79947edab326d6db28a2d86511e8247444"&#125; 4Ôºâcancel.json Â¶ÇÊûújobÊòØÊ≠£Âú®ËøêË°åÁöÑÔºå‰ºöË¢´ÂÅúÊ≠¢ÔºåÂ¶ÇÊûúÊòØpendingÁä∂ÊÄÅÔºåÂàô‰ºöË¢´ÁßªÈô§„ÄÇ‰∏§‰∏™ÂèÇÊï∞ÈÉΩÊòØÂøÖÈ°ªÁöÑ 1curl http://localhost:6800/cancel.json -d project=project_name -d job=6487ec79947edab326d6db28a2d86511e8247444 Á§∫‰æãÁªìÊûú 1&#123;"status": "ok", "prevstate": "running"&#125; 5Ôºâlistprojects.json ÂàóÂá∫scrapy serverÁöÑÊâÄÊúâÈ°πÁõÆ 1curl http://localhost:6800/listprojects.json Á§∫‰æãÁªìÊûú 1&#123;"status": "ok", "projects": ["myproject", "otherproject"]&#125; 6Ôºâlistversions.json Ëé∑ÂèñÊüê‰∏™È°πÁõÆÁöÑÊâÄÊúâÂèØÁî®ÁâàÊú¨ÔºåÁâàÊú¨Âè∑ÊåâÈ°∫Â∫èËøîÂõûÔºåÊúÄÂêé‰∏Ä‰∏™ÊòØÊúÄËøë‰ΩøÁî®ÁöÑÁâàÊú¨ 1curl http://localhost:6800/listversions.json?project=project_name Á§∫‰æãÁªìÊûú 1&#123;"status": "ok", "versions": ["r99", "r156"]&#125; 7Ôºâ listspiders.json ËøîÂõûÈ°πÁõÆ‰∏≠ÊâÄÊúâÂèØÁî®ÁöÑspider 1curl http://localhost:6800/listspiders.json?project=project_name Á§∫‰æãÁªìÊûú 1&#123;"status": "ok", "spiders": ["spider1", "spider2", "spider3"]&#125; 8Ôºâlistjobs.json ËøîÂõûÈ°πÁõÆ‰∏≠ÊâÄÊúâÁä∂ÊÄÅÁöÑ‰ªªÂä°Ôºåpending„ÄÅrunning„ÄÅfinished 1curl http://localhost:6800/listjobs.json?project=project_name | python -m json.tool Á§∫‰æãÁªìÊûú 123456789101112131415161718192021222324&#123; "status": "ok", "pending": [ &#123; "project": "myproject", "spider": "spider1", "id": "78391cc0fcaf11e1b0090800272a6d06" &#125; ], "running": [ &#123; "id": "422e608f9f28cef127b3d5ef93fe9399", "project": "myproject", "spider": "spider2", "start_time": "2012-09-12 10:14:03.594664" &#125; ], "finished": [ &#123; "id": "2f16646cfcaf11e1b0090800272a6d06", "project": "myproject", "spider": "spider3", "start_time": "2012-09-12 10:14:03.594664", "end_time": "2012-09-12 10:24:03.594664" &#125; ]&#125; 8) delversion.json Âà†Èô§È°πÁõÆÁöÑÊüê‰∏™ÁâàÊú¨ÔºåÂ¶ÇÊûúÁªôÂÆöÈ°πÁõÆÊ≤°ÊúâÂÖ∂‰ªñÁâàÊú¨ÔºåÈÇ£‰πàÊï¥‰∏™È°πÁõÆÈÉΩ‰ºöË¢´ÁßªÈô§ 1curl http://localhost:6800/delversion.json -d project=project_name -d version=v1 Á§∫‰æãÁªìÊûú 1&#123;"status": "ok"&#125; 9) delproject.json Âà†Èô§È°πÁõÆ‰ª•ÂèäÈ°πÁõÆÁöÑÊâÄÊúâÁâàÊú¨ 1curl http://localhost:6800/delproject.json -d project=project_name Á§∫‰æãÁªìÊûú 1&#123;"status": "ok"&#125; ÂÖ≥‰∫éÈÉ®ÁΩ≤ÈúÄË¶ÅÁöÑeggÊñá‰ª∂ÔºåÂèØ‰ª•Áî®setuptoolsÊ®°ÂùóÔºå‰∏çËøáÊúâÁÇπÈ∫ªÁÉ¶ÂëÄÔΩûÊâÄ‰ª•Â∞±Áõ¥Êé•‰ΩøÁî®Scrapyd-ClientËøô‰∏™Áé∞ÊàêÁöÑÂ∑•ÂÖ∑Êù•ÈÉ®ÁΩ≤„ÄÇÂÖ∑‰ΩìÂèØ‰ª•ÁúãËøôÁØáÊñáÁ´†Ôºöscrapyd-clientÁöÑÂÆâË£Ö‰ΩøÁî® ÂèÇËÄÉÊñáÁ´†Scrapyd API scrapydÂíåscrapyd-client‰ΩøÁî®ÊïôÁ®ã]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>scrapyd</tag>
        <tag>ÂàÜÂ∏ÉÂºè</tag>
        <tag>ÈÉ®ÁΩ≤</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂçïÈìæË°®ÂèçËΩ¨ÁöÑpythonÂÆûÁé∞]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F10%2F%E5%8D%95%E9%93%BE%E8%A1%A8%E5%8F%8D%E8%BD%AC%2F</url>
    <content type="text"><![CDATA[ÂèÇËÄÉ‰∫ÜÁúãÂõæÁêÜËß£ÂçïÈìæË°®ÁöÑÂèçËΩ¨‰∏ÄÊñáÔºåÊ•º‰∏ªÊÄùË∑ØÊ∏ÖÊô∞ÔºåÂõæÁâáÂΩ¢Ë±°ÁîüÂä®ÔºåËÆ≤ÂæóÈÄö‰øóÊòìÊáÇ„ÄÇÂΩìÁÑ∂ÔºåÂÉèÊàëËøôÊ†∑Á¨®ÁöÑ‰∫∫ËøòÊòØÁúã‰∫ÜÂá†ÈÅçÔºåËÄå‰∏î‰∏ÄÂºÄÂßãËøòÁäØ‰∫Ü‰∏™Â∏∏ËØÜÊÄßÈîôËØØÔºöÂøò‰∫Üp.nextÊòØÂåÖÊã¨‰πãÂêéÁöÑÊâÄÊúâÊï∞ÊçÆÔºåÂìéÔΩûÁúã‰∏çÊáÇÁöÑÊó∂ÂÄôÂèØ‰ª•Â∞ùËØïÊääÊØè‰∏ÄË°å‰ª£Á†ÅËøêË°å‰πãÂêéÁöÑÁªìÊûúÁªôÁîªÂá∫Êù•ÔºåÊñπ‰æøÁêÜËß£„ÄÇ 1234567891011121314151617181920class ListNode: """ÂÆûÁé∞ÈìæË°®""" def __init__(self, x): self.val = x self.next = None # ÈÄê‰∏™ÂèçËΩ¨Ôºö‰ΩøÁî®3‰∏™ÊåáÈíàÈÅçÂéÜÂçïÈìæË°®ÔºåÈÄê‰∏™ÁÇπËøõË°åÂèçËΩ¨„ÄÇdef reverse_list(head): if head == None or head.next == None: #Â∞ë‰∫é‰∏§‰∏™ÁªìÁÇπÊ≤°ÊúâÂèçËΩ¨ÁöÑÂøÖË¶Å return head p = head q = head.next head.next = None # ÊóßÁöÑÂ§¥ÊåáÈíàÊòØÊñ∞ÁöÑÂ∞æÊåáÈíàÔºånextÈúÄË¶ÅÊåáÂêëNone while q: r = q.next # ÂÖà‰øùÁïô‰∏ã‰∏Ä‰∏™stepË¶ÅÂ§ÑÁêÜÁöÑÊåáÈíà q.next = p # ÁÑ∂Âêép q‰∫§ÊõøÂ∑•‰ΩúËøõË°åÂèçÂêë p = q q = r head = p # ÊúÄÂêéqÂøÖÁÑ∂ÊåáÂêëNoneÔºåÊâÄ‰ª•ËøîÂõû‰∫Üp‰Ωú‰∏∫Êñ∞ÁöÑÂ§¥ÊåáÈíà return head 123456789101112131415# Â∞æÊèíÂèçËΩ¨Ôºö‰ªéÁ¨¨2‰∏™ÁªìÁÇπÂà∞Á¨¨N‰∏™ÁªìÁÇπÔºå‰æùÊ¨°ÈÄêÁªìÁÇπÊèíÂÖ•Âà∞Á¨¨1‰∏™ÁªìÁÇπ(headÁªìÁÇπ)‰πãÂêéÔºåÊúÄÂêéÂ∞ÜÁ¨¨‰∏Ä‰∏™ÁªìÁÇπÊå™Âà∞Êñ∞Ë°®ÁöÑË°®Â∞æ„ÄÇdef reverse_list2(head): if head == None or head.next == None: #Â∞ë‰∫é‰∏§‰∏™ÁªìÁÇπÊ≤°ÊúâÂèçËΩ¨ÁöÑÂøÖË¶Å return head p = head.next # Á¨¨‰∫å‰∏™‰∏çÈúÄË¶ÅÂèÇ‰∏éÂæ™ÁéØ while p.next != None: q = p.next # Á¨¨‰∏ÄÊ¨°Âæ™ÁéØÔºåhead-&gt;p-&gt;q-&gt;¬∑¬∑¬∑ p.next = q.next # Á¨¨‰∏ÄÊ¨°Âæ™ÁéØÔºåpÂíåq‰πãÈó¥ÁöÑÈìæÊé•Êñ≠ÂºÄ q.next =head.next # Ëøô‰∏™‰∏çÂÖàÊâßË°å‰ºöÂØºËá¥ÊåáÈíà‰∏¢Â§±ÔºåÂÜÖÂ≠òÊ≥ÑÈú≤„ÄÇËøôÈáåÂÆûÁé∞‰∫ÜÁ¨¨‰∫åÁ¨¨‰∏â‰∏™ÂèçËΩ¨ head.next = q # Â∞ÜheadÊåáÈíàÊåáÂêëq head-&gt;q-&gt;p-&gt;¬∑¬∑¬∑ p.next = head # Âà∞ÊúÄÂêéÔºåp.nextÂ∑≤Áªè‰∏∫NoneÔºåËøôÊó∂ÂÄôÊåáÂêëheadÔºåÂΩ¢ÊàêÁéØ head = p.next.next # Êñ∞ÁöÑheadÂèòÊàêÂéüheadÁöÑnext p.next.next = None # Êñ≠ÂºÄÁéØ return head 123456789# ÈÄíÂΩíÔºöÂÆûÁé∞ÂèçËΩ¨ def reverse_list3(head): if head.next == None: # Âè™Êúâ‰∏Ä‰∏™ÁöÑÊó∂ÂÄôÔºå‰∏çÈúÄË¶ÅÂèçËΩ¨ return head new_head = func3(head.next) # ËøîÂõûÂ∑≤ÁªèÂèçËΩ¨‰πãÂêéÁöÑÁªìÊûú head.next.next = head # ÂΩ¢ÊàêÁéØ head.next = None # Êñ≠ÂºÄÁéØÔºåÂÆåÊàêÂèçËΩ¨ return new_head # ËøîÂõûÂ∑≤ÁªèÂèçËΩ¨‰πãÂêéÁöÑÁªìÊûú]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÈìæË°®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[centos7ÂÆâË£ÖscrapydÂá∫Èîô]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F09%2Fcentos7%E5%AE%89%E8%A3%85scrapyd%E5%87%BA%E9%94%99%2F</url>
    <content type="text"><![CDATA[Âú®centos7‰∏ãÂÆâË£ÖscrapydÂá∫Áé∞ÁºñËØë‰∏≠Êñ≠ÁöÑÈîôËØØ Âú®ÁΩë‰∏äÊâæ‰∫Ü‰∏ÄÂúàÔºåÂü∫Êú¨ÈÉΩÊòØËØ¥Áº∫‰πèpython‰æùËµñÂåÖÔºåÂè™ÈúÄË¶ÅÊâßË°åyum install python-devÂ∞±ÂèØ‰ª•„ÄÇÁªìÊûúÂë¢ÔºåÊàë‰ªépython-dev‰∏ÄË∑ØËØïÂà∞‰∫Üpython3.6.1-devÔºåÊääÁ≥ªÁªüÈáåÂ≠òÂú®ÁöÑÁâàÊú¨ÈÉΩËØï‰∫Ü‰∏™ÈÅçÔºåËøòÊòØ‰∏çË°å„ÄÇÂú®‰∏¥Ë¶ÅÊîæÂºÉÁöÑÊó∂ÂÄôÊâæÂà∞‰∫ÜÊ≠£Á°ÆÁöÑËß£ÂÜ≥ÊñπÊ≥ïÔºåËØ∑Êà≥ÊñáÁ´† È¶ñÂÖàÔºåÁ°ÆÂÆûÊòØ‰æùËµñÂåÖÁöÑÈóÆÈ¢òÔºå‰ΩÜÊòØË¶ÅÊâæÂà∞ÂØπÂ∫îÁöÑÁâàÊú¨ 1yum search python | grep -i devel ÊâæÂà∞ÁâàÊú¨‰πãÂêéÂ∞±ÂèØ‰ª•Áõ¥Êé•ÂÆâË£Ö‰∫Ü 1sudo yum install python36-devel.x86_64 ÊúÄÂêé‰∏ÄÊ≠• 1pip install scrapyd --user ÁúãÂà∞Ëøô‰∏™ËæìÂá∫ÔºåÁúüÁöÑÊòØÊøÄÂä®Âà∞ËÄÅÊ≥™Á∫µÊ®™ÂïäÔΩûÔΩû]]></content>
      <tags>
        <tag>centos7</tag>
        <tag>ÂÆâË£Ö</tag>
        <tag>scrapyd</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞Âõõ„ÄëÊ†à]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F08%2F%E6%A0%88%2F</url>
    <content type="text"><![CDATA[Ê†à‰ªÄ‰πàÊòØÊ†àÊ†àÊòØ‰∏ÄÁßçÂÖàËøõÂêéÂá∫ÔºåÂêéËøõÂÖàÂá∫ÁöÑÔºå‚ÄúÊìç‰ΩúÂèóÈôê‚ÄùÁöÑÁ∫øÊÄßË°®„ÄÇÊ†àÂè™ÂÖÅËÆ∏Âú®‰∏ÄÁ´ØÊèíÂÖ•ÂíåÂà†Èô§Êï∞ÊçÆÔºå‰∏çËÉΩ‰ªé‰∏≠Èó¥‰ªªÊÑèÊäΩÂá∫„ÄÇ ‰∏∫‰ªÄ‰πàÈÄâÊã©Ê†à‰ªéÂäüËÉΩ‰∏äÊù•ËØ¥ÔºåÊï∞ÁªÑÊàñËÄÖÈìæË°®Á°ÆÂÆûÂèØ‰ª•‰ª£ÊõøÊ†àÔºå‰ΩÜÊòØÊï∞ÁªÑÊàñÈìæË°®Êö¥Èú≤‰∫ÜÂ§™Â§öÁöÑÊìç‰ΩúÂÄüÂè£ÔºåÊìç‰Ωú‰∏äÁöÑÁº∫ÁÅµÊ¥ªËá™Áî±Ôºå‰ΩÜ‰ΩøÁî®Êó∂Â∞±ÊØîËæÉ‰∏çÂèØÊéßÔºåÂÆπÊòìÂá∫Èîô„ÄÇÊâÄ‰ª•Âú®Êüê‰∫õÁâπÂÆöÂú∫ÊôØÔºåÊØîÂ¶ÇÂΩìÊüê‰∏™Êï∞ÊçÆÈõÜÂêàÊ†àÁöÑÁâπÊÄßÔºåÂ∞±Â∫îËØ•ÈÄâÊã©Ê†àËøôÁßçÊï∞ÊçÆ„ÄÇ Â¶Ç‰ΩïÂÆûÁé∞‰∏Ä‰∏™‚ÄúÊ†à‚Äù1ÔºâÈ°∫Â∫èÊ†àÔºöÁî®Êï∞ÁªÑÂÆûÁé∞ÁöÑÊ†à 2ÔºâÈìæÂºèÊ†àÔºöÁî®ÈìæË°®ÂÆûÁé∞ÁöÑÊ†à ‰∏çÁÆ°ÊòØÈ°∫Â∫èÊ†àËøòÊòØÈìæÂºèÊ†àÔºåÊàë‰ª¨Â≠òÂÇ®Êï∞ÊçÆÂè™ÈúÄË¶Å‰∏Ä‰∏™Â§ßÂ∞è‰∏∫nÁöÑÊï∞ÁªÑÂç≥ÂèØ„ÄÇ‰ΩÜÊòØ‰∏ç‰ª£Ë°®ÁùÄÁ©∫Èó¥Â§çÊùÇÂ∫¶Â∞±ÊòØO(n)ÔºåÂõ†‰∏∫Á©∫Èó¥Â§çÊùÇÂ∫¶ÊòØÊåáÈô§‰∫ÜÂéüÊú¨ÁöÑÊï∞ÊçÆÂ≠òÂÇ®Á©∫Èó¥Â§ñÔºåÁÆóÊ≥ïËøêË°åËøòÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂ≠òÂÇ®Á©∫Èó¥„ÄÇ Áî®JavaÂÆûÁé∞ÁöÑÊ†àÔºå‰ª£Á†ÅÊù•Ëá™„ÄäÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé„ÄãÔºö 123456789101112131415161718192021222324252627282930313233// Âü∫‰∫éÊï∞ÁªÑÂÆûÁé∞ÁöÑÈ°∫Â∫èÊ†àpublic class ArrayStack &#123; private String[] items; // Êï∞ÁªÑ private int count; // Ê†à‰∏≠ÂÖÉÁ¥†‰∏™Êï∞ private int n; // Ê†àÁöÑÂ§ßÂ∞è // ÂàùÂßãÂåñÊï∞ÁªÑÔºåÁî≥ËØ∑‰∏Ä‰∏™Â§ßÂ∞è‰∏∫ n ÁöÑÊï∞ÁªÑÁ©∫Èó¥ public ArrayStack(int n) &#123; this.items = new String[n]; this.n = n; this.count = 0; &#125; // ÂÖ•Ê†àÊìç‰Ωú public boolean push(String item) &#123; // Êï∞ÁªÑÁ©∫Èó¥‰∏çÂ§ü‰∫ÜÔºåÁõ¥Êé•ËøîÂõû falseÔºåÂÖ•Ê†àÂ§±Ë¥•„ÄÇ if (count == n) return false; // Â∞Ü item ÊîæÂà∞‰∏ãÊ†á‰∏∫ count ÁöÑ‰ΩçÁΩÆÔºåÂπ∂‰∏î count Âä†‰∏Ä items[count] = item; ++count; return true; &#125; // Âá∫Ê†àÊìç‰Ωú public String pop() &#123; // Ê†à‰∏∫Á©∫ÔºåÂàôÁõ¥Êé•ËøîÂõû null if (count == 0) return null; // ËøîÂõû‰∏ãÊ†á‰∏∫ count-1 ÁöÑÊï∞ÁªÑÂÖÉÁ¥†ÔºåÂπ∂‰∏îÊ†à‰∏≠ÂÖÉÁ¥†‰∏™Êï∞ count Âáè‰∏Ä String tmp = items[count-1]; --count; return tmp; &#125;&#125; ÊîØÊåÅÂä®ÊÄÅÊâ©ÂÆπÁöÑÈ°∫Â∫èÊ†àÂΩìÊï∞ÁªÑÂÜÖÂ≠ò‰∏çÂ§üÊó∂ÔºåÈÄöËøáÈáçÁî≥‰∏Ä‰∏™Êõ¥Â§ßÁöÑÊï∞ÁªÑÔºåÂÜçÂ∞ÜÂéüÊú¨ÁöÑÊï∞ÊçÆÂ§çÂà∂ËøáÂéªÔºåÈ°∫Â∫èÊ†à‰πü‰∏ÄÊ†∑„ÄÇ‰∏çËøáÂÉèËøôÁßçÊîØÊåÅÂä®ÊÄÅÊâ©ÂÆπÁöÑÈ°∫Â∫èÊ†àÂú®ÂÆûÈôÖÂºÄÂèë‰∏≠Âπ∂‰∏çÂ∏∏ËßÅ„ÄÇ ÊâÄ‰ª•ÔºåÂØπ‰∫éÂÖ•Ê†àÊìç‰ΩúÊù•ËØ¥ÔºåÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(1)ÔºåÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØO(n).ÂΩìÂÜÖÂ≠òÊª°‰∫Ü‰πãÂêéÔºàÂÅáËÆæÊ†àÂ§ßÂ∞è‰∏∫kÔºâÔºåÈúÄË¶ÅÁî≥ËØ∑Êõ¥Â§ßÁöÑÂÜÖÂ≠òÔºåÂπ∂‰∏îÂÅök‰∏™Êï∞ÊçÆÁöÑÊê¨ÁßªÊìç‰ΩúÔºåÁÑ∂ÂêéÂú®ÂÖ•Ê†à„ÄÇÂõ†‰∏∫Âú®ÂÖ•Ê†àÊó∂Âπ∂‰∏çÈúÄË¶ÅÂÜçÁî≥ËØ∑ÂÜÖÂ≠òÂíåÊê¨ÁßªÊï∞ÊçÆÔºåÊâÄ‰ª•Ê†πÊçÆÂùáÊëäËøòÊ≥ïÂèØ‰ª•ÂæóÂà∞Âπ≥ÂùáÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶‰πüÊòØO(1)„ÄÇ Ê†àÁöÑÂ∫îÁî®Âú®ÂáΩÊï∞Ë∞ÉÁî®‰∏≠ÁöÑÂ∫îÁî®12345678910def main(): a = 1 ret = 2 res = 0 ret = add(3, 5) print(ret) return 0def add(a, b): return a+b Âú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÂÖàÊòØÂéãÂÖ•mainÂáΩÊï∞‰∏≠ÁöÑÂèòÈáèÔºåÂÜçÂéãÂÖ•addÂáΩÊï∞ÁöÑÂèòÈáè„ÄÇË∞ÉÁî®addÂáΩÊï∞Êó∂Ôºå‰πüÂ∞±ÊòØÂá∫Ê†àÔºåÊúÄÂêéÊâçÊòØmainÂáΩÊï∞ÁöÑÊâßË°åÁªìÊûú„ÄÇÊï¥‰∏™Ë∞ÉÁî®ÁöÑËøáÁ®ãÂÆåÂÖ®Á¨¶ÂêàÊ†àÂÖàËøõÂêéÂá∫ÁöÑÁâπÊÄß„ÄÇ Âú®Ë°®ËææÂºèÊ±ÇÂÄº‰∏≠ÁöÑÂ∫îÁî®‰ΩøÁî®‰∏§‰∏™Ê†àÊ±ÇËß£ÂºèÂ≠ê3+5*8-6Ôºå‰∏Ä‰∏™Áî®Êù•‰øùÂ≠òÊìç‰ΩúÊï∞Ôºå‰∏Ä‰∏™Áî®Êù•‰øùÂ≠òËøêÁÆóÁ¨¶„ÄÇÂÖ∑‰ΩìËøáÁ®ãÔºö‰ªéÂ∑¶ÂêëÂè≥ÈÅçÂéÜË°®ËææÂºèÔºåÈÅáÂà∞Êï∞Â≠óÂ∞±ÂéãÂÖ•Êìç‰ΩúÊï∞Ê†àÔºõÂΩìÈÅáÂà∞ËøêÁÆóÁ¨¶ÔºåÂ∞±‰∏éËøêÁÆóÁ¨¶Ê†àÁöÑÊ†àÈ°∂ÂÖÉÁ¥†ËøõË°åÊØîËæÉ„ÄÇÂ¶ÇÊûúÊØîËøêÁÆóÁ¨¶Ê†àÈ°∂ÂÖÉÁ¥†ÁöÑ‰ºòÂÖàÁ∫ßÈ´òÔºåÂ∞±Â∞ÜÂΩìÂâçËøêÁÆóÁ¨¶ÂéãÂÖ•Ê†àÔºõÂ¶ÇÊûúÊØîËøêÁÆóÁ¨¶Ê†àÈ°∂ÂÖÉÁ¥†ÁöÑ‰ºòÂÖàÁ∫ß‰ΩéÊàñËÄÖÁõ∏ÂêåÔºåÂ∞±‰ªéËøêÁÆóÁ¨¶Ê†à‰∏≠ÂèñÂá∫Ê†àÈ°∂ËøêÁÆóÁ¨¶Ôºå‰ªéÊìç‰ΩúÊï∞Ê†àÁöÑÊ†àÈ°∂ÂèñÂá∫2‰∏™Êìç‰ΩúÊï∞ÔºåËÆ°ÁÆó‰πãÂêéÂ∞ÜÁªìÊûúÂéãÂÖ•Êìç‰ΩúÊï∞Ê†àÔºåÁªßÁª≠ÊØîËæÉ„ÄÇ Âú®Êã¨Âè∑ÂåπÈÖç‰∏≠ÁöÑÂ∫îÁî®ÂÅáËÆæË°®ËææÂºè‰∏≠Âè™Êúâ‰∏âÁßçÊã¨Âè∑()[]{}ÔºåÂπ∂‰∏îÂèØ‰ª•‰ªªÊÑèÂµåÂ•ó„ÄÇÈÇ£‰πàÂú®ÁªôÂÆöÁöÑÂåÖÂê´Ëøô‰∏âÁßçÊã¨Âè∑ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÔºåÂ¶Ç‰ΩïÊ£ÄÊµãÂÆÉÊòØÂê¶ÂêàÊ≥ï„ÄÇÊ≥®Ôºö{[]}()ÊòØÂêàÊ≥ïÁöÑÔºå{[}()]ÂàôÊòØ‰∏çÂêàÊ≥ïÁöÑ„ÄÇ ÂÖ∑‰ΩìËøáÁ®ãÔºö‰ªéÂ∑¶Âà∞Âè≥ÈÅçÂéÜÂ≠óÁ¨¶‰∏≤ÔºåÂ¶ÇÊûúÊòØÂ∑¶ËæπÊã¨Âè∑Â∞±Â∞ÜÂÖ∂ÂéãÂÖ•Ê†à‰∏≠ÔºåÂ¶ÇÊûúÊòØÂè≥Êã¨Âè∑Â∞±‰ªéÊ†àÈ°∂ÂèñÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†ËøõË°åÊØîËæÉÔºåÂ¶ÇÊûúËÉΩÂ§üÈÖçÂØπÔºåÂàôÁªßÁª≠ÊØîËæÉÂâ©‰∏ãÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇÂ¶ÇÊûúËøáÁ®ã‰∏≠ÈÅáÂà∞‰∏çËÉΩÈÖçÂØπÁöÑÂè≥Êã¨Âè∑ÊàñËÄÖÊ†à‰∏≠Ê≤°ÊúâÊï∞ÊçÆÔºåÂàôÊòØÈùûÊ≥ïÊ†ºÂºè„ÄÇÊï¥‰∏™Â≠óÁ¨¶‰∏≤ÈÉΩÊØîËæÉÁªìÊùü‰πãÂêéÔºåÊ†à‰∏∫Á©∫ÂàôÊòØÂêàÊ≥ïÊ†ºÂºèÔºåÂê¶Âàô‰∏∫ÈùûÊ≥ïÊ†ºÂºè„ÄÇ ÂÆûÁé∞ÊµèËßàÂô®È°µÈù¢ÁöÑÂâçËøõÂêéÈÄÄÂêåÊ†∑‰ΩøÁî®‰∏§‰∏™Ê†àaÂíåbÔºåÈ¶ñÊ¨°ÊµèËßàÁöÑÈ°µÈù¢‰æùÊ¨°ÂéãÂÖ•aÔºåÁÇπÂáªÂêéÈÄÄÊåâÈíÆÊó∂ÔºåÂ∞±‰ªéÊ†àa‰∏≠Âá∫Ê†àÔºåÂπ∂‰æùÊ¨°ÊîæÂÖ•Ê†àb„ÄÇÂΩìÁÇπÂáªÂâçËøõÊåâÈíÆÊó∂ÔºåÂàôÊòØÁõ∏ÂèçÁöÑÊìç‰Ωú„ÄÇ‰ªéÊ†àb‰∏≠Âá∫Ê†àÔºåÂÜçÊîæÂÖ•Ê†àa„ÄÇÂΩìÊ†à‰∏∫Á©∫Êó∂ÔºåÂ∞±‰∏çËÉΩÂÜçÂâçËøõÊàñËÄÖÂêéÈÄÄ‰∫Ü„ÄÇ Â¶ÇÊûúÂú®ÊµèËßàÁöÑËøáÁ®ã‰∏≠ÔºåË∑≥ËΩ¨Âà∞Êñ∞ÁöÑÈ°µÈù¢ÔºåËøôÊó∂ÂÄôÂ∞±Ê≤°ÂäûÊ≥ïÂÜçÈÄöËøáÂâçËøõ/ÂêéÈÄÄÈáçÂ§çÊü•Áúã‰∫ÜÔºåÊâÄ‰ª•ÈúÄË¶ÅÊ∏ÖÁ©∫Âè¶‰∏Ä‰∏™Ê†àÁöÑÊï∞ÊçÆ„ÄÇ ÂèÇËÄÉÊñáÁ´†Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>Ê†à</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞‰∏â„ÄëÈìæË°®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F06%2F%E9%93%BE%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[ÈìæË°®‰ªÄ‰πàÊòØÈìæË°® ÈìæË°®Ë∑üÊï∞ÁªÑ‰∏ÄÊ†∑Ôºå‰πüÊòØ‰∏ÄÁßçÁ∫øÊÄßË°®Êï∞ÊçÆÁªìÊûÑ ‰∏çÈúÄË¶ÅËøûÁª≠ÁöÑÂÜÖÂ≠òÂùóÔºåÂØπÂÜÖÂ≠òË¶ÅÊ±ÇÂ∞èÔºå‰∏éÊï∞ÁªÑÁõ∏Âèç ÈÄöËøáÊåáÈíàÊää‰∏ÄÁªÑÈõ∂Êï£ÁöÑÂÜÖÂ≠òÂùó‰∏≤ËÅîÂú®‰∏ÄËµ∑ ÂÜÖÂ≠òÂùóÊòØÈìæË°®ÁöÑÁªìÁÇπÔºå‰øùÂ≠ò‰∏ã‰∏Ä‰∏™ÁªìÁÇπÁöÑÂú∞ÂùÄÁöÑÊåáÈíàÂè´ÂÅöÂêéÁªßÊåáÈíànext ÈìæË°®ÁâπÁÇπ ÊèíÂÖ•„ÄÅÂà†Èô§Êìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)ÔºåÂè™ÈúÄË¶ÅÊîπÂèòÊåáÈíàÂú∞ÂùÄÂç≥ÂèØ(‰∏çÂåÖÊã¨ÈÅçÂéÜÔºåÂÖ∑‰ΩìÁúãÂêéÈù¢ÂàÜÊûê) ÈöèÊú∫ËÆøÈóÆÊïàÁéá‰ΩéÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÈúÄË¶Å‰ªéÈìæÂ§¥ÈÅçÂéÜÂà∞ÈìæÂ∞æ Áõ∏ÂØπ‰∫éÊï∞ÁªÑÔºåÂõ†‰∏∫Ë¶Å‰øùÂ≠òÊØè‰∏™Êï∞ÊçÆÁªìÁÇπÁöÑÂêéÁªßÊåáÈíàÔºåÂÜÖÂ≠òÁ©∫Èó¥Ê∂àËÄóÊØîËæÉÂ§ß ÊúâÂì™‰∫õÂ∏∏ËßÅÁöÑÈìæË°®ÁªìÊûÑÂ∏∏ËßÅÁöÑÈìæË°®ÁªìÊûÑÊúâ‰∏âÁßçÔºöÂçïÈìæË°®„ÄÅÂèåÂêëÈìæË°®ÂíåÂæ™ÁéØÈìæË°®„ÄÇ 1ÔºâÂçïÈìæË°® ÊØè‰∏™ÁªìÁÇπÂè™ÂåÖÂê´‰∏Ä‰∏™ÊåáÈíàÔºåÂç≥ÂêéÁªßÊåáÈíà Á¨¨‰∏Ä‰∏™ÁªìÁÇπÂè´ÂÅöÂ§¥ÁªìÁÇπÔºåÁî®Êù•ËÆ∞ÂΩïÈìæË°®ÁöÑÂü∫Âú∞ÂùÄ ÊúÄÂêé‰∏Ä‰∏™ÁªìÁÇπÂè´ÂÅöÂ∞æÁªìÁÇπÔºåÊåáÈíàÊåáÂêë‰∏Ä‰∏™Á©∫Âú∞ÂùÄNULLÔºåË°®Á§∫ËøôÊòØÈìæË°®‰∏äÊúÄÂêé‰∏Ä‰∏™ÁªìÁÇπ 2ÔºâÂæ™ÁéØÈìæË°® Ë∑üÂçïÈìæË°®Áõ∏ÊØîÔºåÂîØ‰∏ÄÁöÑÂå∫Âà´Â∞±Âú®Â∞æÁªìÁÇπ„ÄÇÂæ™ÁéØÈìæË°®ÁöÑÂ∞æÁªìÁÇπÊåáÂêëÈìæË°®ÁöÑÂ§¥ÁªìÁÇπ„ÄÇÈÄÇÂêàÁî®Êù•Â§ÑÁêÜÂÖ∑ÊúâÁéØÂΩ¢ÁªìÊûÑÁâπÁÇπÁöÑÊï∞ÊçÆÔºåÊØîÂ¶ÇÁ∫¶ÁëüÂ§´ÈóÆÈ¢ò„ÄÇ 3ÔºâÂèåÂêëÈìæË°® ÊØè‰∏™ÁªìÁÇπÈÉΩÊúâ‰∏§‰∏™ÊåáÈíàÔºå‰∏Ä‰∏™ÊåáÂêëÂêéÈù¢ÁªìÁÇπÁöÑÂêéÁªßÊåáÈíànextÔºåÂè¶‰∏Ä‰∏™ÊåáÂêëÂâçÈù¢ÁªìÁÇπÁöÑÂâçÈ©±ÊåáÈíàprev ÈúÄË¶ÅÈ¢ùÂ§ñÁöÑ‰∏§‰∏™Á©∫Èó¥Êù•‰øùÂ≠ò‰∏§‰∏™ÁªìÁÇπ ÊîØÊåÅÂèåÂêëÈÅçÂéÜ ÊîØÊåÅO(1)Êó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÊÉÖÂÜµ‰∏ãÊâæÂà∞ÂâçÈ©±ÁªìÁÇπ 4ÔºâÂèåÂêëÂæ™ÁéØÈìæÊé• Âæ™ÁéØÈìæË°®ÂíåÂèåÂêëÈìæË°®ÁöÑÁªìÂêàÔºöÈ¶ñÁªìÁÇπÁöÑÂâçÈ©±ÊåáÈíàÊåáÂêëÂ∞æÁªìÁÇπÔºåÂ∞æÁªìÁÇπÁöÑÂêéÁªßÊåáÈíàÊåáÂêëÈ¶ñÁªìÁÇπ„ÄÇ ÈìæË°®ÁöÑÂà†Èô§Êìç‰Ωú‰ªéÈìæË°®‰∏≠Âà†Èô§‰∏Ä‰∏™Êï∞ÊçÆÊúâ‰ª•‰∏ã‰∏§ÁßçÊÉÖÂÜµÔºö 1ÔºâÂà†Èô§ÁªìÁÇπ‰∏≠‚ÄúÂÄºÁ≠â‰∫éÊüê‰∏™ÁªôÂÆöÂÄº‚ÄùÁöÑÁªìÁÇπ Âú®ÂçïÈìæË°®ÂíåÂèåÂêëÈìæË°®‰∏≠ÔºåÈÉΩÈúÄË¶Å‰ªéÂ§¥ÁªìÁÇπ‰∏Ä‰∏™‰∏™‰æùÊ¨°ÈÅçÂéÜÂØπÊØîÔºåÁõ¥Âà∞ÊâæÂà∞ÂÄºÁ≠â‰∫éÁªôÂÆöÂÄºÁöÑÁªìÁÇπÔºåÁÑ∂ÂêéÈÄöËøáÊîπÂèòÊåáÈíàÂ∞ÜÂÖ∂Âà†Èô§„ÄÇÈÅçÂéÜÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÂà†Èô§Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)ÔºåÊ†πÊçÆÂä†Ê≥ïÊ≥ïÂàôÔºåËØ•ÊÉÖÂÜµ‰∏ãÔºåÊÄªÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n) 2ÔºâÂà†Èô§ÁªôÂÆöÊåáÈíàÊåáÂêëÁöÑÁªìÁÇπ Ë¶ÅÂà†Èô§Êüê‰∏™ÁªìÁÇπqÈúÄË¶ÅÁü•ÈÅìÂÖ∂ÂâçÈ©±ÁªìÁÇπÔºå‰ΩÜÊòØÂçïÈìæË°®‰∏çÊîØÊåÅÁõ¥Êé•Ëé∑ÂèñÂâçÈ©±ÁªìÁÇπÔºåÊâÄ‰ª•ËøòÊòØË¶Å‰ªéÂ§¥ÁªìÁÇπÂºÄÂßãÈÅçÂéÜÔºåÁõ¥Âà∞p-&gt;next=q ÂèåÂêëÈìæË°®‰∏≠ÁöÑÁªìÁÇπÂ∑≤Áªè‰øùÂ≠ò‰∫ÜÂâçÈ©±ÁªìÁÇπÁöÑÊåáÈíàÔºå‰∏çÈúÄË¶ÅÂÉèÂçïÈìæË°®ÈÇ£Ê†∑ÈÅçÂéÜÔºåÊâÄ‰ª•Âà†Èô§Êìç‰ΩúÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1) ÂêåÁêÜÔºåË¶ÅÂú®ÊåáÂÆöÁªìÁÇπÂâçÈù¢ÊèíÂÖ•‰∏Ä‰∏™ÁªìÁÇπÔºåÂçïÈìæË°®ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÂèåÂêëÈìæË°®ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1) ÈìæË°®VSÊï∞ÁªÑ Êï∞ÁªÑÁÆÄÂçïÊòìÁî®ÔºåÈúÄË¶ÅËøûÁª≠ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂÄüÂä©CPUÁöÑÁºìÂ≠òÊú∫Âà∂ÔºåÈ¢ÑËØªÊï∞ÁªÑ‰∏≠ÁöÑÊï∞ÊçÆÔºåËÆøÈóÆÊïàÁéáÈ´ò Êï∞ÁªÑÂ§ßÂ∞èÂ±ÄÂÆöÔºåÈúÄË¶ÅÂç†Áî®Êï¥ÂùóËøûÁª≠ÂÜÖÂ≠òÁ©∫Èó¥„ÄÇÂ¶ÇÊûúÂ£∞ÊòéÁöÑÊï∞ÁªÑËøáÂ§ßÔºåÁ≥ªÁªüÊ≤°ÊúâË∂≥Â§üÁöÑËøûÁª≠ÂÜÖÂ≠òÁ©∫Èó¥ÂàÜÈÖçÁªôÂÆÉÔºå‰ºöÂØºËá¥‚ÄúÂÜÖÂ≠ò‰∏çË∂≥‚Äù„ÄÇÂ£∞ÊòéÁöÑÊï∞ÁªÑËøáÂ∞èÔºå‰∏çÂ§üÁî®Êó∂ÈúÄË¶ÅÂÜçÁî≥ËØ∑‰∏Ä‰∏™Êõ¥Â§ßÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÂÜçÊã∑Ë¥ùÂéüÊï∞ÊçÆËøõÂéªÔºåÈùûÂ∏∏ËÄóÊó∂ Â¶ÇÊûú‰ª£Á†ÅÂØπÂÜÖÂ≠òÁöÑ‰ΩøÁî®ÈùûÂ∏∏ËãõÂàªÔºåÊï∞ÁªÑÁõ∏ÂØπÊõ¥ÈÄÇÂêà ÈìæË°®Âú®ÂÜÖÂ≠ò‰∏≠‰∏çÊòØËøûÁª≠Â≠òÂÇ®ÔºåÂØπCPUÁºìÂ≠ò‰∏çÂèãÂ•ΩÔºåÊ≤°ÂäûÊ≥ïÊúâÊïàÈ¢ÑËØª ÈìæË°®Êú¨Ë∫´Â§ßÂ∞èÊ≤°ÊúâÈôêÂà∂ÔºåÊîØÊåÅÂä®ÊÄÅÊâ©ÂÆπ ÈìæË°®‰∏≠ÁöÑÊØè‰∏™ÁªìÁÇπÈúÄË¶ÅÈ¢ùÂ§ñÁöÑÂÜÖÂ≠òÁ©∫Èó¥Â≠òÂÇ®ÊåáÈíàÔºåÂÜÖÂ≠òÊ∂àËÄó‰ºöÁøªÂÄç ÂØπÈìæË°®ËøõË°åÈ¢ëÁπÅÁöÑÊèíÂÖ•„ÄÅÂà†Èô§Êìç‰ΩúÔºåËøò‰ºöÂØºËá¥È¢ëÁπÅÁöÑÂÜÖÂ≠òÁî≥ËØ∑ÂíåÈáäÊîæÔºåÂÆπÊòìÈÄ†ÊàêÂÜÖÂ≠òÁ¢éÁâá„ÄÇÂ¶ÇÊûúÊòØJavaËØ≠Ë®ÄÔºåÊúâÂèØËÉΩ‰ºöÂØºËá¥È¢ëÁπÅÁöÑGC(Carbage CollectionÔºå ÂûÉÂúæÂõûÊî∂) Â∫îÁî®‰ªÄ‰πàÊòØÁºìÂ≠òÁºìÂ≠òÊòØ‰∏ÄÁßçÊèêÈ´òÊï∞ÊçÆËØªÂèñÊÄßËÉΩÁöÑÊäÄÊúØÔºåÂú®Á°¨‰ª∂ËÆæËÆ°„ÄÅËΩØ‰ª∂ÂºÄÂèë‰∏≠ÈÉΩÊúâÈùûÂ∏∏ÂπøÊ≥õÁöÑ‰ΩøÁî®ÔºåÊØîÂ¶ÇÂ∏∏ËßÅÁöÑÊúâCPUÁºìÂ≠ò„ÄÅÊï∞ÊçÆÂ∫ìÁºìÂ≠ò„ÄÅÊµèËßàÂô®ÁºìÂ≠òÁ≠â„ÄÇ‰ΩÜÊòØÁºìÂ≠òÂ§ßÂ∞èÊúâÈôêÔºåÂΩìÁºìÂ≠òÊª°‰∫Ü‰πãÂêéÔºåÂ∫îËØ•Ê∏ÖÁêÜÂì™‰∫õÊï∞ÊçÆÔºüÂì™‰∫õÊï∞ÊçÆÂèàÂ∫îËØ•Ë¢´‰øùÁïôÂë¢ÔºüÂ¶Ç‰ΩïÂÜ≥ÂÆöÔºü ÁºìÂ≠òÊ∑òÊ±∞Á≠ñÁï•ÊúâÂì™‰∫õÂ∏∏ËßÅÁöÑÁºìÂ≠òÊ∑òÊ±∞Á≠ñÁï•Êúâ‰∏âÁßçÔºö ÂÖàËøõÂÖàÂá∫Á≠ñÁï•FIFO(First In First Out) ÊúÄÂ∞ë‰ΩøÁî®Á≠ñÁï•LFU(Least Frequently Used) ÊúÄËøëÊúÄÂ∞ë‰ΩøÁî®Á≠ñÁï•LRU(Least Recently Used) Â¶Ç‰ΩïÂü∫‰∫éÈìæË°®ÂÆûÁé∞LRUÁºìÂ≠òÊ∑òÊ±∞ÁÆóÊ≥ïÂΩìÊàë‰ª¨Áª¥Êä§‰∏Ä‰∏™ÊúâÂ∫èÂçïÈìæË°®ÔºåË∂äÈù†ËøëÈìæË°®Â∞æÈÉ®ÁöÑÁªìÁÇπÊòØË∂äÊó©‰πãÂâçÁöÑËÆøÈóÆ(ÊØîËæÉ‰πÖ‰πãÂâç)„ÄÇÂΩìÊúâ‰∏Ä‰∏™Êñ∞ÁöÑÊï∞ÊçÆË¢´ËÆøÈóÆÊó∂ÔºåÊàë‰ª¨‰ªéÈìæË°®Â§¥ÈÉ®ÂºÄÂßãÈ°∫Â∫èÈÅçÂéÜÈìæË°® Â¶ÇÊûúÊ≠§Êï∞ÊçÆ‰πãÂâçÂ∑≤ÁªèË¢´ÁºìÂ≠òÂú®ÈìæË°®‰∏≠ÔºåÊàë‰ª¨ÈÅçÂéÜÂæóÂà∞ÁöÑËøô‰∏™Êï∞ÊçÆÂØπÂ∫îÁöÑÁªìÁÇπÔºåÂπ∂Â∞ÜÂÖ∂‰ªéÂéüÊù•ÁöÑ‰ΩçÁΩÆÂà†Èô§ÔºåÂÜçÊèíÂÖ•Âà∞ÈìæË°®ÁöÑÂ§¥ÈÉ® Â¶ÇÊûúÊ≠§Êï∞ÊçÆÊ≤°ÊúâÂÜçÁºìÂ≠òÈìæË°®‰∏≠ÔºåÂàÜ‰∏§ÁßçÊÉÖÂÜµ Â¶ÇÊûúÊ≠§Êó∂ÁºìÂ≠òÊú™Êª°ÔºåÂ∞ÜÊ≠§ÁªìÁÇπÁõ¥Êé•ÊèíÂÖ•Âà∞ÈìæË°®ÁöÑÂ§¥ÈÉ® Â¶ÇÊûúÊ≠§Êó∂ÁºìÂ≠òÂ∑≤Êª°ÔºåÂ∞ÜÈìæË°®Â∞æÁªìÁÇπÂà†Èô§ÔºåÂ∞ÜÊñ∞ÁöÑÊï∞ÊçÆÁªìÁÇπÊèíÂÖ•ÈìæË°®ÁöÑÂ§¥ÈÉ® Âõ†‰∏∫‰∏çÁÆ°ÁºìÂ≠òÊúâÊ≤°ÊúâÊª°ÔºåÈÉΩÈúÄË¶ÅÈÅçÂéÜ‰∏ÄÈÅçÈìæË°®ÔºåÊâÄ‰ª•ËøôÊ†∑ÁöÑÂÆûÁé∞ÊÄùË∑ØÔºåÁºìÂ≠òËÆøÈóÆÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØO(n) ËÆæËÆ°ÊÄùÊÉ≥1ÔºâÁî®Á©∫Èó¥Êç¢Êó∂Èó¥ ÂΩìÂÜÖÂ≠òÁ©∫Èó¥ÂÖÖË∂≥ÁöÑÊó∂ÂÄôÔºåÂêåÊó∂‰πüÊõ¥Âä†ËøΩÊ±Ç‰ª£Á†ÅÁöÑÊâßË°åÈÄüÂ∫¶ÔºåÂ∞±ÂèØ‰ª•ÈÄâÊã©Á©∫Èó¥Â§çÊùÇÂ∫¶Áõ∏ÂØπËæÉÈ´ò„ÄÅ‰ΩÜÊó∂Èó¥Â§çÊùÇÂ∫¶Áõ∏ÂØπËæÉ‰ΩéÁöÑÁÆóÊ≥ïÊàñËÄÖÊï∞ÊçÆÁªìÊûÑÔºå‰æãÂ¶ÇÁºìÂ≠ò„ÄÇÊàë‰ª¨ÊääÊï∞ÊçÆÂ≠òÂÇ®Âú®Á°¨Áõò‰∏äÔºåËäÇÁúÅÂÜÖÂ≠òÔºå‰ΩÜÊØèÊ¨°Êü•ËØ¢ÈÉΩÈúÄË¶ÅËØ¢ÈóÆ‰∏Ä‰∏™Á°¨ÁõòÔºåÈÄüÂ∫¶ËæÉÊÖ¢„ÄÇÈÄöËøáÁºìÂ≠òÂèØ‰ª•‰∫ãÂÖàÂ∞ÜÊï∞ÊçÆÂä†ËΩΩÂà∞ÂÜÖÂ≠ò‰∏≠ÔºåËÄóË¥π‰∫ÜÂÜÖÂ≠òÁ©∫Èó¥Ôºå‰∏çËøáÂ§ßÂ§ßÊèêÈ´ò‰∫ÜÊï∞ÊçÆÊü•ËØ¢ÁöÑÈÄüÂ∫¶ 2ÔºâÁî®Êó∂Èó¥Êç¢Á©∫Èó¥ ‰∏é1ÔºâÁõ∏ÂèçÔºåÂ¶ÇÊûúÂÜÖÂ≠òÁ¥ßÁº∫ÔºåÊØîÂ¶Ç‰ª£Á†ÅÂú®ÊâãÊú∫ÊàñËÄÖÂçïÁâáÊú∫‰∏äËøêË°åÔºåÂ∞±ÈúÄË¶ÅÈÄâÊã©Á©∫Èó¥Â§çÊùÇÂ∫¶Áõ∏ÂØπËæÉ‰Ωé„ÄÅ‰ΩÜÊó∂Èó¥Â§çÊùÇÂ∫¶Áõ∏ÂØπÈ´òÁöÑÁÆóÊ≥ï Â¶Ç‰ΩïËΩªÊùæÂÜôÂá∫Ê≠£Á°ÆÁöÑÈìæË°®‰ª£Á†ÅÁêÜËß£ÊåáÈíàÊàñÂºïÁî®ÁöÑÂê´‰πâÂ∞ÜÊüê‰∏™ÂèòÈáèËµãÂÄºÁªôÊåáÈíàÔºåÂÆûÈôÖ‰∏äÂ∞±ÊòØÂ∞ÜËøô‰∏™ÂèòÈáèÁöÑÂú∞ÂùÄËµãÂÄºÁªôÊåáÈíàÔºåÊàñËÄÖÂèçËøáÊù•ËØ¥ÔºåÊåáÈíà‰∏≠Â≠òÂÇ®‰∫ÜËøô‰∏™ÂèòÈáèÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºåÊåáÂêë‰∫ÜËøô‰∏™ÂèòÈáèÔºåÈÄöËøáÊåáÈíàÂ∞±ËÉΩÊâæÂà∞Ëøô‰∏™ÂèòÈáè„ÄÇ‰πüÂ∞±ÊòØpython‰∏≠ÁöÑ‚ÄúÂºïÁî®‚Äù 12p-&gt;next=q # pÁªìÁÇπ‰∏≠ÁöÑnextÊåáÈíàÂ≠òÂÇ®‰∫ÜqÁªìÁÇπÁöÑÂÜÖÂ≠òÂú∞ÂùÄp-&gt;next=p-&gt;next-&gt;next # pÁªìÁÇπÁöÑnextÊåáÈíàÂ≠òÂÇ®‰∫ÜpÁªìÁÇπÁöÑ‰∏ã‰∏ã‰∏Ä‰∏™ÁªìÁÇπÁöÑÂÜÖÂ≠òÂú∞ÂùÄ Ë≠¶ÊÉïÊåáÈíà‰∏¢Â§±ÂíåÂÜÖÂ≠òÊ≥ÑÊºèÂÅáÂ¶ÇÊàë‰ª¨ÊÉ≥Âú®ÁªìÁÇπpÂíåÁõ∏ÈÇªÁªìÁÇπq‰πãÈó¥ÊèíÂÖ•‰∏Ä‰∏™ÁªìÁÇπxÔºå‰ª•‰∏ã‰ª£Á†ÅÂ∞Ü‰ºöÂèëÁîüÊåáÈíà‰∏¢Â§±ÂíåÂÜÖÂ≠òÊ≥ÑÊºè 123// ÈîôËØØÔºÅÔºÅÈúÄË¶ÅÈ¢†ÂÄí‰∏Ä‰∏ãÈ°∫Â∫èp-&gt;next = x; // Â∞Ü p ÁöÑ next ÊåáÈíàÊåáÂêë x ÁªìÁÇπÔºõx-&gt;next = p-&gt;next; // Â∞Ü x ÁöÑÁªìÁÇπÁöÑ next ÊåáÈíàÊåáÂêë b ÁªìÁÇπÔºõ Á¨¨‰∏ÄË°å‰ª£Á†ÅÊâßË°å‰πãÂêéÔºåÁªìÁÇπp‰∏çÂÜçÊåáÂêëÁªìÁÇπq‰∫ÜÔºåËøôÊó∂ÂÄôÂÜçÊâßË°åÁ¨¨‰∫åË°å‰ª£Á†ÅÔºåÂ∞±Áõ∏ÂΩì‰∫éÊääxËµãÂÄºÁªôx-&gt;nextÔºåÁªìÊûúxÊåáÂêëxËá™Â∑±„ÄÇÂõ†Ê≠§ÔºåÊï¥‰∏™ÈìæË°®‰πüÂ∞±Êñ≠ÂºÄ‰∫Ü„ÄÇ Âà©Áî®Âì®ÂÖµÁÆÄÂåñÂÆûÁé∞ÈöæÂ∫¶ÈíàÂØπÈìæË°®ÁöÑÊèíÂÖ•„ÄÅÂà†Èô§Êìç‰ΩúÔºåÈúÄË¶ÅÂØπÊèíÂÖ•Á¨¨‰∏Ä‰∏™ÁªìÁÇπÂíåÂà†Èô§ÊúÄÂêé‰∏Ä‰∏™ÁªìÁÇπÁöÑÊÉÖÂÜµËøõË°åÁâπÊÆäÂ§ÑÁêÜ„ÄÇÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö 1234567891011121314// ÊèíÂÖ•ÔºöÂêëÁ©∫ÈìæË°®ÊèíÂÖ•Á¨¨‰∏Ä‰∏™ÁªìÁÇπif (head == null) &#123; head = new_node;&#125;// Âú®ÈìæË°®ÁöÑÁªìÁÇπpÂêéÊèíÂÖ•ÁªìÁÇπnew_nodenew_node-&gt;next = p-&gt;next;p-&gt;next = new_node;//Âà†Èô§ÔºöÂà†Èô§Â∞æÁªìÁÇπif (head-&gt;next == null) &#123; head = null;&#125;// Âà†Èô§ÈìæË°®ÂÖ∂‰ªñÁªìÁÇπp-&gt;next = p-&gt;next-&gt;next; ÂØπ‰∫éËøôÁßçÊÉÖÂÜµÔºåÊàë‰ª¨ÂèØ‰ª•ÂºïÂÖ•Âì®ÂÖµÁªìÁÇπ(Ëß£ÂÜ≥ËæπÁïåÈóÆÈ¢òÔºå‰∏çÂèÇ‰∏é‰∏öÂä°ÈÄªËæë)ÔºåÂú®‰ªª‰ΩïÊó∂ÂÄôÔºå‰∏çÁÆ°ÈìæË°®ÊòØ‰∏çÊòØÁ©∫ÔºåheadÊåáÈíàÈÉΩ‰ºö‰∏ÄÁõ¥ÊåáÂêëËøô‰∏™Âì®ÂÖµÁªìÁÇπ„ÄÇÂ∏¶ÊúâÂì®ÂÖµÁªìÁÇπÁöÑÈìæË°®Âè´Â∏¶Â§¥ÈìæË°®ÔºåÁõ∏ÂèçÔºåÂàôÂè´ÂÅö‰∏çÂ∏¶Â§¥ÈìæË°®„ÄÇÁúãÂõæ(ÂõæÁâáÊù•Ëá™„ÄäÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé„Äã) Âà©Áî®Âì®ÂÖµÁÆÄÂåñÁºñÁ®ãÈöæÂ∫¶ÁöÑ‰æãÂ≠êÊúâÂæàÂ§öÔºåÊØîÂ¶ÇÊèíÂÖ•ÊéíÂ∫è„ÄÅÂΩíÂπ∂ÊéíÂ∫è„ÄÅÂä®ÊÄÅËßÑÂàíÁ≠â„ÄÇÁúã‰∏ãÈù¢ÁöÑ‰æãÂ≠ê 1234567891011121314151617181920212223242526int find(char* a, int n, char key) &#123; int i = 0; while (i &lt; n) &#123; if (a[i] == key) &#123; return i; &#125; ++i; &#125; return -1;&#125;//‰ΩøÁî®Âì®ÂÖµËæπÁïåÔºå‰ªÖ‰ΩúÁ§∫‰æãÔºå‰∏ÄËà¨Âπ∂‰∏çÈúÄË¶ÅËøΩÊ±ÇËøô‰πàÊûÅËá¥ÁöÑÊÄßËÉΩinf find2(char* a, int n, int key) &#123; if (a[n-1] == key) &#123; return n-1; &#125; char tmp = a[n-1]; a[n-1] = key; int i = 0; while (a[i] != key) &#123; ++i; &#125; a[n-1] = tmp; if (i == n-1) return -1; return i;&#125; ÂΩìÂ≠óÁ¨¶‰∏≤aÂæàÈïøÁöÑÊó∂ÂÄôÔºåÁ¨¨‰∫åÊÆµ‰ª£Á†ÅËøêË°åÊõ¥Âø´‰∫õ„ÄÇÈÄöËøá‰∏Ä‰∏™Âì®ÂÖµa[n-1] == keyÔºåÁúÅÊéâ‰∫Ü‰∏Ä‰∏™ÊØîËæÉËØ≠Âè•i&lt;n„ÄÇ ÈáçÁÇπÁïôÊÑèËæπÁïåÊù°‰ª∂Â§ÑÁêÜÂ∏∏Áî®Êù•Ê£ÄÊü•ÈìæË°®‰ª£Á†ÅÊòØÂê¶Ê≠£Á°ÆÁöÑËæπÁïåÊù°‰ª∂ÊúâÔºö Â¶ÇÊûúÈìæË°®‰∏∫Á©∫Êó∂Ôºå‰ª£Á†ÅÊòØÂê¶ËÉΩÊ≠£Â∏∏Â∑•‰Ωú Â¶ÇÊûúÈìæË°®Âè™ÂåÖÂê´‰∏Ä‰∏™ÁªìÁÇπÊó∂Ôºå‰ª£Á†ÅÊòØÂê¶ËÉΩÊ≠£Â∏∏Â∑•‰Ωú Â¶ÇÊûúÈìæË°®Âè™ÂåÖÂê´‰∏§‰∏™ÁªìÁÇπÊó∂Ôºå‰ª£Á†ÅÊòØÂê¶ËÉΩÊ≠£Â∏∏Â∑•‰Ωú ‰ª£Á†ÅÈÄªËæëÂú®Â§ÑÁêÜÂ§¥ÁªìÁÇπÂíåÂ∞æÁªìÁÇπÁöÑÊó∂ÂÄôÔºåÊòØÂê¶ËÉΩÊ≠£Â∏∏Â∑•‰Ωú Â¶ÇÊûúÈìæË°®‰ª£Á†ÅÂú®Ê≠£Â∏∏ÊÉÖÂÜµ‰∏ãËÉΩÂ∑•‰ΩúÔºå‰πüË¶ÅÂØπÊØîÁùÄ‰ª•‰∏äÂá†‰∏™ËæπÁïåÊù°‰ª∂„ÄÇÂ¶ÇÊûúÈÉΩÊ≤°ÊúâÈóÆÈ¢òÔºåÈÇ£‰πàÂü∫Êú¨‰∏äÂèØ‰ª•ËÆ§‰∏∫‰ª£Á†ÅÊòØÊ≤°ÊúâÈóÆÈ¢òÁöÑ„ÄÇÂΩìÁÑ∂ÔºåÂÖ∑‰ΩìÁöÑËøòÊòØË¶ÅÁªìÂêàÂÆûÈôÖÊÉÖÂÜµÊù•ÊÄùËÄÉÔºåÊØîÂ¶ÇÂèØËÉΩ‰ºöÈÅáÂà∞Âì™‰∫õËæπÁïåÊù°‰ª∂ÊàñËÄÖÂºÇÂ∏∏ÊÉÖÂÜµ„ÄÇ ‰∏æ‰æãÁîªÂõæÔºåËæÖÂä©ÊÄùËÄÉÂØπ‰∫éÊØîËæÉÂ§çÊùÇÁöÑÈìæË°®Êìç‰ΩúÔºåÂèØ‰ª•‰ΩøÁî®‰∏æ‰æãÊ≥ïÂíåÁîªÂõæÊ≥ï„ÄÇÊâæ‰∏Ä‰∏™ÂÖ∑‰ΩìÁöÑ‰æãÂ≠êÔºåÁîªÂá∫ÊåáÈíàÂèòÂåñÂâçÂêéÁöÑÈìæË°® Â§öÂÜôÂ§öÁªÉÊúÄÂêé‰∏Ä‰∏™ÊäÄÂ∑ßÂ∞±ÊòØÊ≤°ÊúâÊäÄÂ∑ßÔºåÂ§öÁªÉÂ§öÁªÉÂ§öÁªÉ„ÄÇ„ÄÇ„ÄÇ ÁªÉ‰π†Â∏∏ËßÅÁöÑÈìæË°®Êìç‰ΩúÔºö ÂçïÈìæË°®ÂèçËΩ¨ ÈìæË°®‰∏≠ÁéØÁöÑÊ£ÄÊµã ‰∏§‰∏™ÊúâÂ∫èÁöÑÈìæË°®ÂêàÂπ∂ Âà†Èô§ÈìæË°®ÂÄíÊï∞Á¨¨n‰∏™ÁªìÁÇπ Ê±ÇÈìæË°®ÁöÑ‰∏≠Èó¥ÁªìÁÇπ ËøòÊúâ‰∏ä‰∏ÄÂ∞èËäÇÈÅóÁïôÁöÑÈóÆÈ¢òÔºåÂ¶Ç‰ΩïÂà§Êñ≠‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤ÊòØÂê¶ÊòØÂõûÊñáÂ≠óÁ¨¶‰∏≤ÔºüÔºü ÂèÇËÄÉÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï‰πãÁæé]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>ÈìæË°®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞‰∫å„ÄëÊï∞ÁªÑ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F05%2F%E6%95%B0%E7%BB%84%2F</url>
    <content type="text"><![CDATA[Êï∞ÁªÑ‰ªÄ‰πàÊòØÊï∞ÁªÑÊï∞ÁªÑÊòØ‰∏ÄÁßçÁ∫øÊÄßË°®Êï∞ÊçÆÁªìÊûÑÔºåÂÆÉÁî®‰∏ÄÁªÑËøûÁª≠ÁöÑÂÜÖÂ≠òÁ©∫Èó¥ÔºåÊù•Â≠òÂÇ®‰∏ÄÁªÑÂÖ∑ÊúâÁõ∏ÂêåÁ±ªÂûãÁöÑÊï∞ÊçÆ„ÄÇ Â¶Ç‰ΩïÂÆûÁé∞ÈöèÊú∫ËÆøÈóÆÊòìÈîôÁÇπÔºöÊï∞ÁªÑÊîØÊåÅÈöèÊú∫ËÆøÈóÆÔºåÊ†πÊçÆ‰∏ãÊ†áÈöèÊú∫ËÆøÈóÆÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)ÔºåÂÖ∂‰ªñÁöÑÊü•ÊâæÔºåÂç≥‰ΩøÊòØÊéíÂ•ΩÂ∫èÁöÑÊï∞ÁªÑÔºåÁî®‰∫åÂàÜÊü•ÊâæÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶‰πüÊòØO(logn)ÔºåÂπ∂‰∏çÊòØO(1)„ÄÇ ËÆ°ÁÆóÊú∫‰ºöÁªôÊØè‰∏™ÂÜÖÂ≠òÂçï‰ΩçÂàÜÈÖç‰∏Ä‰∏™Âú∞ÂùÄÔºåËÆ°ÁÆóÊú∫ÈÄöËøáÂú∞ÂùÄÊù•ËÆøÈóÆÂÜÖÂ≠ò‰∏≠ÁöÑÊï∞ÊçÆ„ÄÇÂΩìËÆ°ÁÆóÊú∫ÈúÄË¶ÅÈöèÊú∫ËÆøÈóÆÊï∞ÁªÑ‰∏≠ÁöÑÊüê‰∏™ÂÖÉÁ¥†Êó∂ÔºåÂÆÉÈ¶ñÂÖà‰ºöÈÄöËøá‰∏ãÈù¢ÁöÑÂØªÂùÄÂÖ¨ÂºèÔºåËÆ°ÁÆóÂá∫ËØ•ÂÖÉÁ¥†Â≠òÂÇ®ÁöÑÂÜÖÂ≠òÂú∞ÂùÄÔºö 12int[] a = new int[10]a[i]_address = base_address + i * data_type_size ËÆ°ÁÆóÊú∫ÁªôÊï∞ÁªÑa[10]ÂàÜÈÖç‰∫Ü‰∏ÄÂùóËøûÁª≠Á©∫Èó¥1000ÔΩû1039 data_type_sizeÔºöÊï∞ÁªÑ‰∏≠ÊØè‰∏™ÂÖÉÁ¥†ÁöÑÂ§ßÂ∞èÔºà‰æãÂ≠ê‰∏≠ÊòØintÔºåÂ§ßÂ∞è‰∏∫4‰∏™Â≠óËäÇÔºâ base_addressÔºöÂÜÖÂ≠òÂùóÁöÑÈ¶ñÂú∞ÂùÄ ‰∫åÁª¥Êï∞ÁªÑm*nÔºåa[i]][j](i&lt;m, j&lt;n)ÁöÑÂØªÂùÄÂÖ¨ÂºèÔºö 1a[i]_address = base_address + (i*n+j) * data_type_size ‰ΩéÊïàÁöÑÊèíÂÖ•Êìç‰ΩúÂèäÂÖ∂ÊîπËøõ1ÔºâÊìç‰ΩúÔºöÂ∞Ü‰∏Ä‰∏™Êï∞ÊçÆÊèíÂÖ•Âà∞ÈïøÂ∫¶‰∏∫nÁöÑÊï∞ÊçÆ‰∏≠ÁöÑÁ¨¨k‰∏™‰ΩçÁΩÆÔºå‰∏∫‰∫Ü‰øùÊåÅÂÜÖÂ≠òÊï∞ÊçÆÁöÑËøûÁª≠ÊÄßÔºåÈÇ£‰πàÊàë‰ª¨ÈúÄË¶ÅÂ∞ÜÁ¨¨kÔΩûnËøôÈÉ®ÂàÜÁöÑÂÖÉÁ¥†ÈÉΩÈ°∫Â∫èÂæÄÂêéÁßª‰∏Ä‰ΩçÔºåËøôÊ†∑ÁöÑÊèíÂÖ•Êìç‰ΩúÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n) 2ÔºâÊîπËøõÔºöÂ¶ÇÊûúÊï∞ÁªÑÊòØÊúâÂ∫èÁöÑÔºåÂàôÊåâ1ÔºâÊù•Êìç‰Ωú„ÄÇÂ¶ÇÊûúÊï∞ÁªÑÊòØÊó†Â∫èÁöÑÔºåÈÇ£‰πàÂèØ‰ª•Áõ¥Êé•Â∞ÜÁ¨¨k‰∏™ÂÖÉÁ¥†ÊîæÂà∞Êï∞ÁªÑÊúÄÂêéÔºåÂ∞ÜÈúÄË¶ÅÊèíÂÖ•ÁöÑÊï∞ÊçÆÁõ¥Êé•ÊîæÂÖ•‰ΩçÁΩÆkÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1) ‰ΩéÊïàÁöÑÂà†Èô§Êìç‰ΩúÂèäÂÖ∂ÊîπËøõ1ÔºâË∑üÊèíÂÖ•Êìç‰ΩúÁ±ª‰ººÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰πüÊòØO(n) 2ÔºâÊîπËøõÔºöÂú®Êüê‰∫õÂú∫ÊôØ‰∏ãÔºåÊàë‰ª¨‰∏ç‰∏ÄÂÆöÈùûÂæóËøΩÊ±ÇÊï∞ÁªÑ‰∏≠Êï∞ÊçÆÁöÑËøûÁª≠ÊÄß„ÄÇËøôÊ†∑Âú®ÊâßË°åÂà†Èô§Êìç‰ΩúÊó∂ÔºåÂèØ‰ª•ÂÖàËÆ∞ÂΩïÂ∑≤ÁªèÂà†Èô§ÁöÑÊï∞ÊçÆÔºåÁ≠âÂà∞Êï∞ÁªÑÊ≤°ÊúâÂ§ö‰ΩôÁ©∫Èó¥Â≠òÂÇ®Êï∞ÊçÆÊó∂ÔºåÂÜçËß¶ÂèëÊâßË°å‰∏ÄÊ¨°ÁúüÊ≠£ÁöÑÂà†Èô§Êìç‰Ωú Ë≠¶ÊÉïÊï∞ÊçÆÁöÑËÆøÈóÆË∂äÁïåÈóÆÈ¢òÂÉèpython„ÄÅJavaËøô‰∫õËØ≠Ë®Ä‰ºöÂÅöË∂äÁïåÊ£ÄÊü•ÔºåÊâÄ‰ª•‰∏çÁî®ËÄÉËôëËøô‰∏™ÈóÆÈ¢ò„ÄÇ 123456789int main(int argc, char* argv[])&#123; int i = 0; int arr[3] = &#123;0&#125;; for(; i&lt;=3; i++)&#123; arr[i] = 0; printf("hello world\n"); &#125; return 0;&#125; Âú®CËØ≠Ë®Ä‰∏≠ÔºåÊï∞ÁªÑË∂äÁïåÊòØ‰∏ÄÁßçÊú™ÂÜ≥Ë°å‰∏∫„ÄÇËÄåÊñá‰∏≠Ëøô‰∏™‰æãÂ≠ê‰ºöÊó†ÈôêÂæ™ÁéØÊâìÂç∞‚Äúhello world‚Äù„ÄÇÂõ†‰∏∫ÂáΩÊï∞‰ΩìÂÜÖÁöÑÂ±ÄÈÉ®ÂèòÈáèÂ≠òÂú®Ê†à‰∏äÔºå‰∏îÊòØËøûÁª≠ÂéãÊ†à„ÄÇÂÜçLinuxËøõÁ®ãÁöÑÂÜÖÂ≠òÂ∏ÉÂ±Ä‰∏≠ÔºåÊ†àÂå∫ÁöÑÈ´òÂú∞ÂùÄÁ©∫Èó¥Ôºå‰ªéÈ´òÂêë‰ΩéÂ¢ûÈïø„ÄÇÂèòÈáèiÂíåarrÂú®Áõ∏ÈÇªÂú∞ÂùÄÔºå‰∏îiÊØîarrÁöÑÂú∞ÂùÄÂ§ßÔºåÊâÄ‰ª•arrË∂äÁïåÂàöÂ•ΩËÆøÈóÆÂà∞i„ÄÇÂâçÊèêÊòØiÂíåarrÂÖÉÁ¥†ÊòØÂêåÁ±ªÂûãÔºåÂê¶ÂàôËøôÊÆµ‰ª£Á†Å‰ªçÊòØÊú™ÂÜ≥Ë°å‰∏∫„ÄÇ Á∫øÊÄßË°®vsÈùûÁ∫øÊÄßË°®1ÔºâÊØè‰∏™Á∫øÊÄßË°®‰∏äÁöÑÊï∞ÊçÆÊúÄÂ§öÂè™ÊúâÂâçÂíåÂêé‰∏§‰∏™ÊñπÂêëÔºåÂ¶ÇÔºöÊï∞ÁªÑ„ÄÅÈìæË°®„ÄÅÈòüÂàó„ÄÅÊ†àÁ≠â 2ÔºâÈùûÁ∫øÊÄßË°®‰∏≠ÔºåÊï∞ÊçÆ‰πãÈó¥Âπ∂‰∏çÊòØÁÆÄÂçïÁöÑÂâçÂêéÂÖ≥Á≥ªÔºåÂ¶ÇÔºö‰∫åÂèâÊ†ë„ÄÅÂ†Ü„ÄÅÂõæÁ≠â ‰∏∫‰ªÄ‰πàÂ§ßÂ§öÊï∞ÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÔºåÊï∞ÁªÑÈÉΩÊòØ‰ªé0ÂºÄÂßãÁºñÂè∑1ÔºâÊïàÁéá‰ºòÂåñ ‰∏ãÊ†áÊúÄÁ°ÆÂàáÁöÑÂÆö‰πâÂ∫îËØ•ÊòØ‚ÄúÂÅèÁßª(offset)‚Äù„ÄÇÂú®ÂâçÈù¢‰æãÂ≠ê‰∏≠ÔºåaÁî®Êù•Ë°®Á§∫Êï∞ÁªÑÁöÑÈ¶ñÂú∞ÂùÄÔºåa[0]Â∞±ÊòØÂÅèÁßª‰∏∫0ÁöÑ‰ΩçÁΩÆÔºå‰πüÂ∞±ÊòØÈ¶ñÂú∞ÂùÄ„ÄÇÊâÄ‰ª•ËÆ°ÁÆóa[k]ÁöÑÂÜÖÂ≠òÂú∞ÂùÄÂè™ÈúÄË¶ÅÁî®Ëøô‰∏™ÂÖ¨ÂºèÔºö 1a[k]_address = base_address + k * type_size Â¶ÇÊûú‰∏ãÊ†áÊòØ‰ªé1ÂºÄÂßãÔºåÈÇ£‰πàËÆ°ÁÆóa[k]ÁöÑÂÜÖÂ≠òÂú∞ÂùÄÁöÑÂÖ¨ÂºèÂàôÂèòÊàêÔºö 1a[k]_address = base_address + (k-1) * type_size ÊØèÊ¨°ÈöèÊú∫ËÆøÈóÆÊï∞ÁªÑÔºåCPUÈÉΩ‰ºöÂ§ö‰∫Ü‰∏ÄÊ¨°ÂáèÊ≥ïÊåá‰ª§„ÄÇ 2ÔºâÂéÜÂè≤ÂéüÂõ† CËØ≠Ë®ÄËÆæËÆ°ËÄÖÁî®0ÂÅö‰∏ãÊ†áÔºå‰πãÂêéÁöÑ‰∏Ä‰∫õÈ´òÁ∫ßËØ≠Ë®ÄÈÉΩÊïà‰ªø‰∫ÜÂÆÉÔºåÊ≤øÁî®‰∫Ü‰ªé0ÂºÄÂßãÊäÄÊúØÁöÑ‰π†ÊÉØ„ÄÇ Âõ†‰∏∫pythonÁöÑÊï∞ÁªÑÁâπÊÄßË∑üCËØ≠Ë®ÄÂ∑ÆÂà´ËøòÊòØËõÆÂ§ßÁöÑÔºåÂæàÂ§öÁâπÂæÅÈÉΩË¶ÅËá™Â∑±ÂÆö‰πâÔºåÂØπ‰∫éËøô‰∏™ÂèØ‰ª•Êü•ÁúãÂéü‰ΩúËÄÖÁöÑ‰ª£Á†ÅÁ§∫‰æãÔºåÂÖ∂‰ªñËØ≠Ë®ÄÊàë‰πü‰∏çÊáÇÔºåÊâÄ‰ª•ËøôÁØáÁ¨îËÆ∞ËøòÊúâ‰∏Ä‰∫õÊ≤°ÊúâÊï¥ÁêÜÂá∫Êù•ÔºåÂêéÁª≠ÂÜçÊõ¥Êñ∞ ÂèÇÁúãÊñáÁ´†Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>Êï∞ÁªÑ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Âú®ËôöÊãüÁéØÂ¢É‰∏≠ÂÆâË£Öjupyter notebook]]></title>
    <url>%2Famberwest.github.io%2F2018%2F10%2F02%2F%E5%9C%A8%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E5%AE%89%E8%A3%85jupyter-notebook%2F</url>
    <content type="text"><![CDATA[jupyter notebookÊòØ‰∏Ä‰∏™ÂºÄÊ∫êWebÂ∫îÁî®Á®ãÂ∫èÔºåÂèØ‰ª•ÂàõÂª∫ÂíåÂÖ±‰∫´ÂåÖÂê´ÂÆûÊó∂‰ª£Á†ÅÔºåÊñπÁ®ãÂºèÔºåÂèØËßÜÂåñÂíåÂèôËø∞ÊñáÊú¨ÁöÑÊñáÊ°£„ÄÇÁî®ÈÄîÂåÖÊã¨ÔºöÊï∞ÊçÆÊ∏ÖÁêÜÂíåËΩ¨Êç¢ÔºåÊï∞ÂÄºÊ®°ÊãüÔºåÁªüËÆ°Âª∫Ê®°ÔºåÊï∞ÊçÆÂèØËßÜÂåñÔºåÊú∫Âô®Â≠¶‰π†Á≠âÁ≠â„ÄÇÊâÄ‰ª•Âú®Âπ≥Êó∂ÁöÑÂ∑•‰Ωú‰∏≠‰πü‰ºöÁªèÂ∏∏Áî®Âà∞„ÄÇ ÊúÄËøëÂú®‰∏Ä‰∏™ËôöÊãüÁéØÂ¢É‰∏≠‰ΩøÁî®notebookÊó∂ÔºåÂèëÁé∞ÁâàÊú¨Ë∑üËôöÊãüÁéØÂ¢ÉÁöÑpythonÁâàÊú¨Âè∑ÂØπ‰∏ç‰∏äÔºåÂ∞±ÊâìÁÆóÁõ¥Êé•upgradeÔºå‰∫ãÂÆûËØÅÊòéËøôÁßçÊÉ≥Ê≥ïÈîôÁöÑÈùûÂ∏∏Á¶ªË∞±ÔºåÂõ†‰∏∫Áõ¥Êé•upgradeÁöÑÊòØÁ≥ªÁªüjupyter notebook„ÄÇÊé•‰∏ãÊù•ÊâçÊòØÂú®ËôöÊãüÁéØÂ¢É‰∏≠ÂÆâË£ÖÂØπÂ∫îÁâàÊú¨jupyterÁöÑÊ≠£Á°ÆÊâìÂºÄÊñπÂºè„ÄÇ Âú®ËôöÊãüÁéØÂ¢É‰∏ã ÂàõÂª∫ËôöÊãüÁéØÂ¢É ‰ΩøÁî®pyenv-virtualenvÂàõÂª∫Êñ∞ÁöÑËôöÊãüÁéØÂ¢ÉÔºåÂÖ∑‰Ωì‰ΩøÁî®Êü•ÁúãÔºöpyenvÂú®centos7Âíåmac‰∏ãÁöÑÂÆâË£Ö‰ΩøÁî® 1234# Âú®sampleÊñá‰ª∂Â§π‰∏ãÂàõÂª∫‰∏Ä‰∏™ÂêåÂêçÁöÑÂü∫‰∫épython3.6ÁöÑËôöÊãüÁéØÂ¢Émkdir samplecd samplepyenv virtualenv 3.6.5 sample ÊøÄÊ¥ªËôöÊãüÁéØÂ¢É 1pyenv activate sample ÂÆâË£Öjupyter 1pip install jupyter ÂêØÂä®jupyter 1jupyter notebook Ëá≥Ê≠§ÔºåÂ∞±Â§ßÂäüÂëäÊàêÂï¶ÔºÅÔºÅÔºÅ Ê∑ªÂä†python3Âà∞jupyter‰πãÂâç‰∏çÁü•ÈÅìÊÄé‰πàÊìç‰ΩúÔºåÂ±ÖÁÑ∂Êääpython3‰ªéjupyter notebookÁªôÂà†Èô§‰∫ÜÔºåÈúÄË¶ÅÈáçÊñ∞ÂÆâË£Ö‰∏Ä‰∏ã 12python3 -m pip install ipykernelpython3 -m ipykernel install --user Âèà‰∏Ä‰∏™Âùë„ÄÇ„ÄÇ„ÄÇ Ëá™‰ªé‰ΩøÁî®pyenvÁÆ°ÁêÜpython‰πãÂêéÔºåÂ∞±ËßâÂæó‰ª•ÂâçÁîµËÑëÈáåË£ÖÁöÑpython3.5Â•ΩÂ§ö‰ΩôÔºåÂøç‰∏ç‰ΩèÂà†Âà†Âà†ÔºåÁªìÊûúÂØºËá¥jupyterËÉΩÊâìÂºÄÔºå‰ΩÜÊòØÊòæÁ§∫500ÈîôËØØÔºåÊèêÁ§∫Êâæ‰∏çÂà∞pythonÁöÑbinË∑ØÂæÑ„ÄÇÂÆâË£ÖÂâçÈù¢ÁöÑÊñπÂºèÂª∫Á´ãËôöÊãüÁéØÂ¢ÉÂÜçÈáçÊñ∞ÂÆâË£ÖÔºåËøòÊòØ‰∏çË°å„ÄÇ 1234567891011# ÈîôËØØUncaught exception POST /api/sessions (::1) HTTPServerRequest(protocol=&apos;http&apos;, host=&apos;localhost:8889&apos;, method=&apos;POST&apos;, uri=&apos;/api/sessions&apos;, version=&apos;HTTP/1.1&apos;, remote_ip=&apos;::1&apos;) Traceback (most recent call last): File &quot;/Users/amber/.pyenv/versions/3.5.3/envs/amber/lib/python3.5/site-packages/tornado/web.py&quot;, line 1592, in _execute ... File &quot;/Users/amber/.pyenv/versions/3.5.3/lib/python3.5/subprocess.py&quot;, line 676, in __init__ restore_signals, start_new_session) File &quot;/Users/amber/.pyenv/versions/3.5.3/lib/python3.5/subprocess.py&quot;, line 1282, in _execute_child raise child_exception_type(errno_num, err_msg) FileNotFoundError: [Errno 2] No such file or directory: &apos;/Library/Frameworks/Python.framework/Versions/3.5/bin/python3&apos; ÊúÄÂêéÊòØÁî®‰∫Ü‰∏ãÈù¢ÁöÑÊñπÂºèÂÆâË£ÖÊàêÂäüÁöÑÔºåÂÖ∂‰ªñÊ≠•È™§Ë∑ü‰∏äÈù¢‰∏ÄÊ†∑ 1ipython kernel install --user --name=virtual_env_name ÂèÇËÄÉÊñáÁ´†Ôºöinstall jupyter notebook in a virtual environment Installing the IPython kernel]]></content>
      <tags>
        <tag>jupyter</tag>
        <tag>ÂÆâË£Ö</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâlogging]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F30%2F%E8%87%AA%E5%AE%9A%E4%B9%89logging%2F</url>
    <content type="text"><![CDATA[ÁªÑ‰ª∂ÂÖ≥Á≥ªloggingÊ®°ÂùóÊúâÂõõÂ§ßÁªÑ‰ª∂ÔºåÂàÜÂà´ÊòØformatter„ÄÅ filter„ÄÅ handlerÂíålogger„ÄÇËøô‰∫õÁªÑ‰ª∂ÂêÑËá™ÁöÑÂäüËÉΩÂèäÂÖ≥Á≥ªÂ¶Ç‰∏ãÔºö ÁªÑ‰ª∂ÂêçÁß∞ ÂØπÂ∫îÁ±ªÂêç ÂäüËÉΩÊèèËø∞ Êó•ÂøóÂô® Looger Êèê‰æõ‰∫ÜÂ∫îÁî®Á®ãÂ∫èÂèØÊäëÂà∂‰ΩøÁî®ÁöÑÊé•Âè£ Â§ÑÁêÜÂô® Handler Â∞ÜloggerÂàõÂª∫ÁöÑÊó•ÂøóËÆ∞ÂΩïÂèëÈÄÅÂà∞ÂêàÈÄÇÁöÑÁõÆÁöÑËæìÂá∫ ËøáÊª§Âô® Filter Êèê‰æõ‰∫ÜÊõ¥ÁªÜÁ≤íÂ∫¶ÁöÑÊéßÂà∂Â∑•ÂÖ∑Êù•ÂÜ≥ÂÆöËæìÂá∫Âì™Êù°Êó•ÂøóËÆ∞ÂΩïÔºå‰∏¢ÂºÉÂì™Êù°Êó•ÂøóËÆ∞ÂΩï Ê†ºÂºèÂô® Formatter ÂÜ≥ÂÆöÊó•ÂøóËÆ∞ÂΩïÁöÑÊúÄÁªàËæìÂá∫Ê†∑Âºè ÂÖ≥Á≥ªÊèèËø∞Ôºö loggerÈúÄË¶ÅÈÄöËøáhandlerÂ∞ÜÊó•ÂøóËÆ∞ÂΩïËæìÂá∫Âà∞ÁõÆÊ†á‰ΩçÁΩÆÔºåÊØîÂ¶ÇÔºöÊñá‰ª∂„ÄÅsys.stdout„ÄÅÁΩëÁªúÁ≠â ‰∏çÂêåÁöÑhandlerÂèØ‰ª•ËÆ≤Êó•ÂøóËæìÂá∫Âà∞‰∏çÂêåÁöÑ‰ΩçÁΩÆ loggerÂèØ‰ª•ËÆæÁΩÆÂ§ö‰∏™handlerËÆ≤Âêå‰∏ÄÊù°Êó•ÂøóËÆ∞ÂΩïËæìÂá∫Âà∞‰∏çÂêåÁöÑ‰ΩçÁΩÆ ÊØè‰∏™handlerÈÉΩÂèØ‰ª•ËÆæÁΩÆËá™Â∑±ÁöÑfilterÊù•ÂÆûÁé∞Êó•ÂøóËøáÊª§Ôºå‰ªéËÄåÂè™‰øùÁïôÊÑüÂÖ¥Ë∂£ÁöÑÊó•Âøó ÊØè‰∏™handlerÈÉΩÂèØ‰ª•ËÆæÁΩÆËá™Â∑±ÁöÑformatterÂÆûÁé∞Âêå‰∏ÄÊù°Êó•Âøó‰ª•‰∏çÂêåÁöÑÊ†ºÂºèËæìÂá∫Âà∞‰∏çÂêåÁöÑÂú∞Êñπ ÈÖçÁΩÆÊó•ÂøóÂ∏∏Áî®ÁöÑÊó•ÂøóÈÖçÁΩÆÊúâÂá†ÁßçÊñπÂºèÔºåËøôÈáå‰ΩøÁî®ÁöÑÊòØyamlÈÖçÁΩÆÊñá‰ª∂ÔºåÈÖçÁΩÆÁÆÄÂçïÊòé‰∫ÜÔºå‰∏çËøáÁÅµÊ¥ªÂ∫¶‰∏çÂ§ü„ÄÇ(Ê≥®ÔºöyamlÊñá‰ª∂Âá∫Áé∞‰∏≠ÊñáÂèØËÉΩ‰ºöÊä•Èîô) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748version: 1disable_existing_loggers: False# set the log formatformatters: simple: format: '%(asctime)s - %(name)s - %(levelname)s - %(filename)s - %(lineno)s - %(message)s' datefmt: '%Y-%m-%d %H:%M:%S'handlers: # log to screen console: class: logging.StreamHandler level: DEBUG formatter: simple error_handler: class: logging.handlers.RotatingFileHandler level: ERROR filters: [video] formatter: simple filename: logs/error.log maxBytes: 10485760 # 10MB backupCount: 5 encoding: "utf8" mode: a info_handler: class: logging.handlers.RotatingFileHandler level: DEBUG formatter: simple filename: logs/info.log maxBytes: 10485760 # 10MB backupCount: 5 encoding: "utf8" mode: aloggers: video: level: DEBUG handler: [console, error_handler] propagate: trueroot: level: DEBUG handlers: [console, info_handler, error_handler] propagate: true formattersÂÆö‰πâ‰∫ÜÊó•ÂøóËæìÂá∫ÁöÑÊ†∑ÂºèÔºåsimpleÊòØformatterÁöÑidÔºåhandlerÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî® handlersÂÆö‰πâÊó•ÂøóÁöÑËæìÂá∫‰ΩçÁΩÆ„ÄÇËøôÈáåÂÆö‰πâ‰∫Ü‰∏âÁßçÊÉÖÂÜµÔºåidÂàÜÂà´ÊòØconsole„ÄÅerror_handlerÂíå info_handler„ÄÇconsoleÊòØÁõ¥Êé•ËæìÂá∫Âà∞Â±èÂπïÔºåÂÖ∂‰ªñ‰∏§ÁßçÂú®‰∏çÂêåÁöÑÊó•ÂøóÁ∫ßÂà´‰∏ãÂàÜÂà´ÂÜôÂÖ•Êñá‰ª∂„ÄÇ loggersÂÆö‰πâ‰∫ÜËÆ∞ÂΩïÂô®ÔºàloggerÔºâÁöÑIDÂíåÂØπÂ∫îÁöÑhandler„ÄÇÂú®‰ª£Á†Å‰∏≠ÂèØ‰ª•‰ΩøÁî®logging.getLogger(&#39;video&#39;)Êù•Ëé∑ÂæóIDÂØπÂ∫îÁöÑlogger„ÄÇ rootÂàôÊòØÈªòËÆ§ÁöÑËæìÂá∫ÈÖçÁΩÆ„ÄÇÂ¶ÇÊûúÂú®Ëé∑ÂèñloggerËÆ∞ÂΩïÂô®Êó∂Ê≤°ÊúâÊèê‰æõ‰ªª‰Ωï‰ø°ÊÅØÁªôlogging.getLogger(type)ÔºåÊØîÂ¶ÇÔºöÂΩìtype‰∏∫rootÔºåÊàñËÄÖ‰∏∫Á©∫ÔºåÊàñËÄÖÊòØ‰ΩøÁî®__name__Êó∂ÔºåÂ∞±‰ºö‰ΩøÁî®ËØ•ÈÖçÁΩÆ„ÄÇ Ë∞ÉÁî®ÁöÑÊó∂ÂÄô‰πüÂæàÁÆÄÂçïÔºö 1234567891011121314151617181920import loggingimport logging.configimport yamldef setup_logging(default_path='logging.yaml', default_level=logging.DEBUG): """ÈÖçÁΩÆÊó•Âøó""" path = os.path.join(BASE_DIR, default_path) if os.path.exists(path): with open(path, 'rt') as f: config = yaml.safe_load(f.read()) logging.config.dictConfig(config) else: logging.basicConfig(level=default_level) print(f'the log setting path &#123;default_path&#125; does not exist')if __name__ == '__main__': setup_logging() logger = logging.getLogger('video') # ËøôÈáå‰∏çÊåáÂÆöÔºåÈªòËÆ§‰ºöË∞ÉÁî®root logger.info('test') ËøêË°å‰πãÂêé‰ºöÁîüÊàê‰∏§‰∏™Êó•ÂøóÊñá‰ª∂info.logÂíåerror.logÔºåinfo.logÊñá‰ª∂‰∏≠Â§ö‰∫ÜËøô‰πà‰∏ÄË°åËÆ∞ÂΩïÔºö 2018-10-01 00:16:51 - video - INFO - utils.py - 154 - test ÂèÇËÄÉÊñáÁåÆlogging.config Good logging practice in Python Python‰πãÊó•ÂøóÂ§ÑÁêÜÔºàloggingÊ®°ÂùóÔºâ]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>logging</tag>
        <tag>Êó•Âøó</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêÊï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ïÁ¨îËÆ∞‰∏Ä„ÄëÂ§çÊùÇÂ∫¶ÂàÜÊûê]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F27%2F%E5%A4%8D%E6%9D%82%E5%BA%A6%E5%88%86%E6%9E%90%2F</url>
    <content type="text"><![CDATA[Â§ßOÂ§çÊùÇÂ∫¶Ë°®Á§∫Ê≥ï‰ªéCPUËßíÂ∫¶Êù•ËØ¥ÔºåÊØè‰∏ÄË°å‰ª£Á†ÅÈÉΩÊúâÁ±ª‰ººÁöÑÊìç‰ΩúÔºöËØªÊï∞ÊçÆ-ËøêÁÆó-ÂÜôÊï∞ÊçÆ„ÄÇËÄåÁÆóÊ≥ïÁöÑÊâßË°åÊïàÁéáÂèØ‰ª•Â§ßÊ¶ÇÁêÜËß£‰∏∫ÁÆóÊ≥ï‰ª£Á†ÅÊâßË°åÁöÑÊó∂Èó¥ÔºåÁî®Â§ßOÊù•Ë°®Á§∫ÔºåÂΩ¢ÂºèÂ¶ÇÔºöT(n)=O(f(n))„ÄÇÂ§ßOÊó∂Èó¥Â§çÊùÇÂ∫¶ÂÆûÈôÖ‰∏äÂπ∂‰∏çÂÖ∑‰ΩìË°®Á§∫‰ª£Á†ÅÁúüÊ≠£ÁöÑÊâßË°åÊó∂Èó¥ÔºåËÄåÊòØË°®Á§∫‰ª£Á†ÅÊâßË°åÊó∂Èó¥ÈöèÊï∞ÊçÆËßÑÊ®°Â¢ûÈïøÁöÑÂèòÂåñË∂ãÂäøÔºåÊâÄ‰ª•‰πüÁß∞‰∏∫Ê∏êËøõÊó∂Èó¥Â§çÊùÇÂ∫¶Ôºàasymptotic time complexityÔºâÔºåÁÆÄÁß∞Êó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇÂú®ËÆ°ÁÆóÂ§çÊùÇÂ∫¶ÁöÑËøáÁ®ã‰∏≠ÔºåÊàë‰ª¨Â∏∏Â∏∏Áî®ÂøΩÁï•ÂÖ±ËØÜ‰∏≠ÁöÑÂ∏∏Èáè„ÄÅ‰ΩéÈò∂„ÄÅÁ≥ªÊï∞ÔºåÊúÄÈúÄË¶ÅÂÖ≥Ê≥®ÊúÄÂ§ßÈò∂ÁöÑÈáèÁ∫ßÂ∞±ÂèØ‰ª•„ÄÇÂÖ≥‰∫éËøô‰∏ÄÁÇπÔºåÂèØ‰ª•‰ªéÊûÅÈôêÁöÑËßíÂ∫¶Êù•ÁêÜËß£ÔºåÂΩìnË∂ãÂêë‚àûÊó∂ÔºåÂ∏∏ÈáèÂèä‰ΩéÈò∂ÈáèÁ∫ßÈÉΩÂèØ‰ª•Ë¢´ÂøΩÁï•„ÄÇ Êó∂Èó¥Â§çÊùÇÂ∫¶ÂàÜÊûêÂÖ≥‰∫éÊó∂Èó¥Â§çÊùÇÂ∫¶ÂàÜÊûêÊúâ‰∏â‰∏™ÊØîËæÉÂÆûÁî®ÁöÑÊñπÊ≥ïÔºö Âè™ÂÖ≥Ê≥®Âæ™ÁéØÊâßË°åÊ¨°Êï∞ÊúÄÂ§öÁöÑ‰∏ÄÊÆµ‰ª£Á†Å 12345def cal(n): sum = 0 for i in range(n): sum += i return sum Âú®ËøôÊÆµ‰ª£Á†Å‰∏≠Ôºåsum=0ÊòØÂ∏∏ÈáèÁ∫ßÁöÑÊâßË°åÊó∂Èó¥Ôºå‰∏énÊó†ÂÖ≥„ÄÇÂú®forÂæ™ÁéØ‰∏≠Ôºå‰∏§Ë°å‰ª£Á†ÅÈÉΩÊâßË°å‰∫ÜnÊ¨°ÔºåÊâÄ‰ª•ËøôÊÆµ‰ª£Á†ÅÊÄªÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØT(n)=O(1+2n)Ôºå‰πüÂ∞±ÊòØO(n)„ÄÇ Âä†Ê≥ïÊ≥ïÂàôÔºöÊÄªÂ§çÊùÇÂ∫¶Á≠â‰∫éÈáèÁ∫ßÊúÄÂ§ßÁöÑÈÇ£ÊÆµ‰ª£Á†ÅÁöÑÂ§çÊùÇÂ∫¶ 12345678910111213def cal(n): sum_1 = sum_2 = sum_3 = 0 for i in range(100): sum_1 += i for j in range(n): sum_2 += j for k in range(n): for l in range(n): sum_3 += k * l return sum_1 + sum_2 + sum_3 Ëøô‰∏âÊÆµ‰ª£Á†ÅÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂàÜÂà´ÊòØO(1)ÔºåO(n)ÂíåO(n^2)Ôºåsum_1ËÆ°ÁÆó‰∫Ü100Ê¨°Ôºå‰πüÊòØÂ∏∏ÈáèÁ∫ßÔºåÊâÄ‰ª•Â§çÊùÇÂ∫¶‰∏∫O(1)„ÄÇÁªºÂêàÊù•ÁúãÔºåËøô‰∏™ÂáΩÊï∞ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±ÊòØO(n^2)Ôºå‰πüÂ∞±ÊòØËØ¥ÔºåÊÄªÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±Á≠â‰∫éÈáèÁ∫ßÊúÄÂ§ßÁöÑÈÇ£ÊÆµ‰ª£Á†ÅÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ Êàë‰ª¨ÂèØ‰ª•Â∞Ü‰∏äËø∞ËÆ°ÁÆóËøáÁ®ãÊäΩË±°‰∏∫‰ª•‰∏ãÂÖ¨ÂºèÔºö 123T1(n) = O(f(n))T2(n) = O(g(n))T(n) = T1(n) + T2(n) = max(O(f(n)), O(g(n))) = O(max(f(n), g(n))) ‰πòÊ≥ïÊ≥ïÂàôÔºöÂµåÂ•ó‰ª£Á†ÅÁöÑÂ§çÊùÇÂ∫¶Â∞±Á≠â‰∫éÂµåÂ•óÂÜÖÂ§ñ‰ª£Á†ÅÂ§çÊùÇÂ∫¶ÁöÑ‰πòÁßØ 1234567891011def cal(n): sum = 0 for k in range(n): sum += k return sumdef cal2(n): sum = 0 for i in range(n): sum += cal(n) return sum ‰πç‰∏ÄÁúãÔºåÂèØËÉΩ‰ºöËßâÂæóËøô‰∏§‰∏™ÂáΩÊï∞ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØO(n)ÔºåÂÖ∂ÂÆûÂë¢Ôºåcal2Ë∞ÉÁî®‰∫ÜcalÂáΩÊï∞ÔºåÊâÄ‰ª•cal2ÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶Â∫îËØ•ÊòØT(n)=O(n*n)=O(n^2)„ÄÇ Á±ª‰ººÂú∞ÔºåÂèØ‰ª•ÊäΩË±°Âá∫Â¶Ç‰∏ãÂÖ¨ÂºèÔºö 123T1(n) = O(f(n))T2(n) = O(g(n))T = T1(n) * T2(n) = O(f(n)) * O(g(n)) = O(f(n) * g(n)) Â§ö‰∏™ËßÑÊ®°Ê±ÇÂä†Ê≥ïÔºöO(m+n) 123456789def cal(n, m):sum_1 = sum_2 = 0for i in range(n):sum_1 += ifor j in range(m):sum_2 += jreturn sum_1 + sum_2 Âú®‰ª£Á†Å‰∏≠ÔºåÂõ†‰∏∫Ê≤°ÂäûÊ≥ïÁ°ÆÂÆömÂíånÂì™‰∏™Â§ßÔºåÊâÄ‰ª•Â§çÊùÇÂ∫¶‰∏∫O(m+n)„ÄÇÂØπÂ∫îÁöÑÂä†Ê≥ïÊ≥ïÂàôÂ∞±ÈúÄË¶Å‰øÆÊîπ‰∏∫Ôºö 123T1(n) = O(f(n))T2(m) = O(g(m))T(n) = T1(n) + T2(m) = O(f(n) + g(m)) ‰πòÊ≥ïÊ≥ïÂàô‰ªçÁÑ∂ÊúâÊïàÔºå‰∏çÈúÄË¶Å‰øÆÊîπ„ÄÇ Âá†ÁßçÂ∏∏ËßÅÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÂÆû‰æãÂàÜÊûê Â§öÈ°πÂºèÈáèÁ∫ß Â∏∏ÈáèÈò∂ÔºöO(1) 12# ÊâßË°å‰ª£Á†Å‰∏çÈöènÂ¢ûÂ§ßËÄåÂ¢ûÂ§ßÔºåÂè™Ë¶Å‰∏çÂ≠òÂú®Âæ™ÁéØËØ≠Âè•„ÄÅÈÄíÂΩíËØ≠Âè•ÔºåÂç≥‰ΩøÊúâÊàêÂçÉ‰∏ä‰∏áË°å‰ª£Á†ÅÔºåÂêåÊ†∑‰πüÂè™ÊúâO(1)sum = 1 ÂØπÊï∞Èò∂ÔºöO(logn) 123456# iÂÖ∂ÂÆûÊòØ‰∏™ÂÖ¨ÊØî‰∏∫2ÁöÑÁ≠âÊØîÂ∫èÂàó„ÄÇiÁöÑÂ¢ûÈïøÊØîËæÉÔºåÁî®ÂØπÊï∞ÂáΩÊï∞ÂèØ‰ª•Ê±ÇÂá∫log(n, 2)=nÂ∞±ÂèØ‰ª•ÂæóËøêË°åÊïàÁéái = 1n = 100while i &lt; n: # i=i*3Ôºå‰πüÊòØÂêåÊ†∑ÁöÑËøêÁÆóËøáÁ®ãÔºåÊ†πÊçÆÊç¢Â∫ïÂÖ¨ÂºèÔºölog(n, 3)=log(2, 3)*log(n ,2)ÔºåÂ∏∏Êï∞ÂèØ‰ª•ÂøΩÁï• i = i * 2 Á∫øÊÄßÈò∂ÔºöO(n) 12345def cal(n): sum = 1 for i in range(n): sum += i * 2 return sum Á∫øÊÄßÂØπÊï∞Èò∂ÔºöO(nlogn) 12345def cal(n): sum = 1 for i in range(n): while i &lt; n: sum += i * 2 Ë∑üÂØπÊï∞Èò∂Á±ª‰ººÔºå‰∏çËøá‰ΩøÁî®ÁöÑ‰πòÊ≥ïÊ≥ïÂàô Âπ≥ÊñπÈò∂ÔºöO(n^2) Á´ãÊñπÈò∂ÔºöO(n^3) kÊñπÈò∂ÔºöO(n^k) ÈùûÂ§öÈ°πÂºèÈáèÁ∫ßÔºå‰πüÂ∞±ÊòØNPÈóÆÈ¢òÔºàNon-Deterministic ProlynomialÔºâ„ÄÇ ÈöèÁùÄÊï∞ÊçÆËßÑÊ®°ÁöÑÂ¢ûÈïøÔºåÁÆóÊ≥ïÁöÑÊâßË°åÊó∂Èó¥ÂíåÁ©∫Èó¥Âç†Áî®Êö¥Â¢ûÔºåËøôÁ±ªÁÆóÊ≥ïÊÄßËÉΩÊûÅÂ∑ÆÔºåÂ∫îÈÅøÂÖçËøôÊ†∑ÁöÑ‰ª£Á†Å„ÄÇ ÊåáÊï∞Èò∂ÔºöO(2^n) Èò∂‰πòÈò∂ÔºöO(n!) Á©∫Èó¥Â§çÊùÇÂ∫¶ÂàÜÊûêÁ©∫Èó¥Â§çÊùÇÂ∫¶ÂÖ®Áß∞‰∏∫Ê∏êËøõÁ©∫Èó¥Â§çÊùÇÂ∫¶(asymptotic space complexity)ÔºåË°®Á§∫ÁÆóÊ≥ïÁöÑÂ≠òÂÇ®Á©∫Èó¥ÂíåÊï∞ÁªÑËßÑÊ®°‰πãÈó¥ÁöÑÂ¢ûÈïøÂÖ≥Á≥ª„ÄÇ ‰æãÂ¶ÇÔºöÂ≠òÂÇ®‰∏Ä‰∏™‰∫åËøõÂà∂Êï∞ÔºåÁ©∫Èó¥Â§çÊùÇÂ∫¶ÊòØO(logn)bit„ÄÇ8Áî®‰∫åËøõÂà∂Ë°®Á§∫Â∞±ÊòØ3‰∏™bitÔºå16Áî®‰∫åËøõÂà∂Ë°®Á§∫ÊòØ4‰∏™bitÔºå‰ª•Ê≠§Á±ªÊé®ÔºånÁî®‰∫åËøõÂà∂Ë°®Á§∫Â∞±ÊòØlogn‰∏™bit„ÄÇ Â§çÊùÇÂ∫¶ÂàÜÊûêÁöÑÂõõ‰∏™Áü•ËØÜÁÇπÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶(best case time complexity)„ÄÅÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶(worst case time complexity)„ÄÅÂπ≥ÂùáÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶(average case time complexity)„ÄÅÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶(amortized time complexity) ÊúÄÂ•Ω„ÄÅÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶12345678910111213141516def find1(li, n, x): """Âú®Êó†Â∫èÂàóË°®‰∏≠Êü•ÊâæÂèòÈáèxÂá∫Áé∞ÁöÑ‰ΩçÁΩÆÔºåÊâæ‰∏çÂà∞ËøîÂõû-1""" # liÊòØÂàóË°®Ôºån‰∏∫ÂàóË°®ÈïøÂ∫¶ pos = -1 for i in range(n): if li[i] == x: pos = i return posdef find2(li, n, x): pos = -1 for i in range(n): if li[i] == x: pos = i break return pos Âú®find1ÂáΩÊï∞‰∏≠ÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÂú®Á¨¨‰∫å‰∏™ÂáΩÊï∞‰∏≠Êó∂Èó¥Â§çÊùÇÂ∫¶Â∞±‰∏çÂ•ΩÁ°ÆÂÆö‰∫Ü„ÄÇÊúÄÂ•ΩÁöÑÊÉÖÂÜµÂ∞±ÊòØÁ¨¨‰∏Ä‰∏™ÂÖÉÁ¥†Â∞±ÊòØË¶ÅÊâæÁöÑÂèòÈáèxÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)Ôºå‰πüÂ∞±ÊòØÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇÊúÄÂùèÁöÑÊÉÖÂÜµÊòØx‰∏çÂú®ÂàóË°®‰∏≠ÔºåÊï¥‰∏™ÂàóË°®ÈÉΩ‰ºöË¢´Âæ™ÁéØ‰∏ÄÈÅçÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)Ôºå‰πüÂ∞±ÊòØÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ Âπ≥ÂùáÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶ËøòÊòØÂàöÊâçÁöÑ‰æãÂ≠êÔºåË¶ÅÊü•ÊâæÁöÑÂèòÈáèxÂú®Êï∞ÁªÑ‰∏≠ÁöÑ‰ΩçÁΩÆÔºåÊúân+1ÁßçÊÉÖÂÜµÔºöÂú®Êï∞ÁªÑÁöÑ0ÔΩûn-1‰ΩçÁΩÆ‰∏≠Âíå‰∏çÂú®Êï∞ÁªÑ‰∏≠„ÄÇÊàë‰ª¨ÂÅáËÆæxÂú®Êï∞ÁªÑ‰∏≠Âíå‰∏çÂú®Êï∞ÁªÑ‰∏≠ÁöÑÊ¶ÇÁéáÂàÜÂà´‰∏∫1/2Ôºà‰∏∫‰∫ÜÊñπ‰æøÁêÜËß£ÂíåËÆ°ÁÆóÔºâ„ÄÇÈÇ£‰πàxÂú®Êï∞ÁªÑ‰∏≠ÊúânÁßçÊÉÖÂÜµÔºåÊØè‰∏™‰ΩçÁΩÆÂá∫Áé∞xÁöÑÊ¶ÇÁéáÈÉΩ‰∏∫1/(2n)ÔºåÈúÄË¶ÅÊü•ÊâæÁöÑÂÖÉÁ¥†‰∏™Êï∞ÂàÜÂà´ÂØπÂ∫îÁùÄ1ÔΩûnÔºõx‰∏çÂú®Êï∞ÁªÑÔºåÈÇ£‰πàÈúÄË¶ÅÈÅçÂéÜÊï¥‰∏™Êï∞ÁªÑÔºåÂç≥n‰∏™ÂÖÉÁ¥†„ÄÇÊâÄ‰ª•Âπ≥ÂùáÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑËÆ°ÁÆóËøáÁ®ãÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö Ëøô‰∏™ÂÄºÊòØÊ¶ÇÁéáËÆ∫‰∏≠ÁöÑÂä†ÊùÉÂπ≥ÂùáÂÄº/ÊúüÊúõÂÄºÔºåÊâÄ‰ª•Âπ≥ÂùáÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶ÂÖ®Áß∞Â∫îËØ•Âè´Âä†ÊùÉÂπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶ÊàñËÄÖÊúüÊúõÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ‰∏çËøáÂΩìnË∂ãÂêëÊó†Á©∑Â§ßÊó∂ÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ËøòÊòØO(n)„ÄÇÊâÄ‰ª•Âè™ÊúâÂΩìÂêå‰∏ÄÊÆµ‰ª£Á†ÅÂú®‰∏çÂêåÊÉÖÂÜµ‰∏ãÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÊúâÈáèÁ∫ßÁöÑÂ∑ÆË∑ùÔºåÊàë‰ª¨Êâç‰ºö‰ΩøÁî®Ëøô‰∏âÁßçÂ§çÊùÇÂ∫¶Ë°®Á§∫Ê≥ïÊù•Âå∫ÂàÜ„ÄÇ ËøôÁ±ª‰ª£Á†Å‰πüÊúâ‰∏Ä‰∏™ÁâπÁÇπÔºöÂè™ÊúâÂú®ÊûÅÁ´ØÊÉÖÂÜµ‰∏ãÔºåÂ§çÊùÇÂ∫¶Êâç‰∏∫O(1)ÔºåÂ§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÈÉΩÊòØO(n)„ÄÇËøô‰∏ÄÁÇπË∑üÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶ÊòØ‰∏çÂêåÁöÑ„ÄÇ ÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶ÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶ÂØπÂ∫îÁöÑÂàÜÊûêÊñπÊ≥ïÊòØÊëäËøòÂàÜÊûê/Âπ≥ÊëäÂàÜÊûêÔºå‰ΩøÁî®Âú∫ÊôØÈùûÂ∏∏ÊúâÈôêÔºå‰πüÂæàÁâπÊÆä„ÄÇ 123456789101112131415# liÊòØ‰∏Ä‰∏™ÈïøÂ∫¶‰∏∫nÁöÑÂàóË°®li = [0] * ncount = 0def insert(val): """ÂæÄÊï∞ÁªÑÊèíÂÖ•Êï∞ÊçÆ""" if (count == len(li)): # ÂΩìcountÁ≠â‰∫éÂàóË°®ÈïøÂ∫¶Êó∂ÔºåÂ∞ÜÂàóË°®‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆÁõ∏Âä†Âπ∂ËµãÁªôÂàóË°®Á¨¨‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåvalÊèíÂÖ•li[1] sum = 0 for i in range(len(li)): sum += sum + li[i] li[0] = sum count = 1 # Â¶ÇÊûúcountÊú™Âà∞nÔºåÈÇ£‰πàÁõ¥Êé•ÊèíÂÖ•Âà∞li[count] li[count] = val; count += 1 insert()ÊñπÊ≥ïË∑üÂπ≥ÂùáÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏≠ÁöÑfind()ÊúâÁùÄ‰∏§Â§Ñ‰∏çÂêåÁöÑÂú∞ÊñπÔºö 1„ÄÅÂú®Â§ßÈÉ®ÂàÜÊÉÖÂÜµ‰∏ãÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩ‰∏∫O(1)ÔºåÂè™Êúâ‰∏™Âà´ÊÉÖÂÜµ‰∏ãÂ§çÊùÇÂ∫¶ÊâçÊØîËæÉÈ´òÔºå‰∏∫O(n)„ÄÇ 2„ÄÅO(1)Êó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÊèíÂÖ•ÂíåO(n)Êó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÊèíÂÖ•ÔºåÂá∫Áé∞ÁöÑÈ¢ëÁéáÊòØÈùûÂ∏∏ÊúâËßÑÂæãÁöÑÔºåËÄå‰∏îÊúâ‰∏ÄÂÆöÁöÑÂâçÂêéÊó∂ËÆ∏ÂÖ≥Á≥ªÔºå‰∏ÄËà¨ÈÉΩÊòØ‰∏Ä‰∏™O(n)ÊèíÂÖ•‰πãÂêéÔºåÁ¥ßË∑üÁùÄn-1‰∏™O(1)ÁöÑÊèíÂÖ•Êìç‰ΩúÔºåÂæ™ÁéØÂæÄÂ§ç„ÄÇ ÂÖ∑‰ΩìÂàÜÊûêÂ¶Ç‰∏ãÔºöÊúÄÁêÜÊÉ≥Áä∂ÊÄÅ‰∏ãÔºåÂ∞±ÊòØcount&lt;nÔºåËøôÊó∂valÁõ¥Êé•ÊèíÂÖ•ÔºåÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(1)ÔºõÊúÄÂùèÁöÑÊÉÖÂÜµÔºåÊòØcount=nÔºåÈúÄË¶ÅÂÖàÂÅö‰∏ÄÊ¨°Êï∞ÁªÑÁöÑÈÅçÂéÜÊ±ÇÂíåÔºåÁÑ∂ÂêéÂÜçÂ∞ÜÊï∞ÊçÆÊèíÂÖ•ÔºåÊâÄ‰ª•ÊúÄÂùèÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)„ÄÇÂπ≥ÂùáÊÉÖÂÜµÂ§çÊùÇÂ∫¶ÂàôÊòØO(1)„ÄÇÂõ†‰∏∫Âú®count&lt;nÔºåÂÖ±nÁßçÊÉÖÂÜµÔºåÊØèÁßçÊÉÖÂÜµÁöÑÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØO(1)ÔºõÊúÄÂùèÊÉÖÂÜµÂè™Êúâ‰∏ÄÁßçÔºåÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÊâÄ‰ª•Âπ≥ÂùáÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±ÊòØÔºö ÈíàÂØπÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶ÁöÑÁâπÊÆäÊÄßÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÊëäËøòÂàÜÊûêÊ≥ïÊù•ÂàÜÊûê„ÄÇÂ∞±ÊãøÂàöÂàöÁöÑ‰æãÂ≠êÊù•ËØ¥ÔºåÊØè‰∏ÄÊ¨°O(n)ÁöÑÊèíÂÖ•Êìç‰ΩúÔºåÈÉΩ‰ºöË∑üÁùÄn-1Ê¨°O(1)ÁöÑÊèíÂÖ•Êìç‰ΩúÔºåÊâÄ‰ª•ÊääËÄóÊó∂Â§öÁöÑÈÇ£Ê¨°Êìç‰ΩúÂùáÊëäÂà∞Êé•‰∏ãÊù•ÁöÑn-1Ê¨°ËÄóÊó∂Â∞ëÁöÑÊìç‰Ωú‰∏äÔºåÈÇ£‰πàËøô‰∏ÄÁªÑËøûÁª≠ÁöÑÊìç‰ΩúÁöÑÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶Â∞±ÊòØO(1)„ÄÇ ÊÄªËÄåË®Ä‰πãÔºåÂØπ‰∏Ä‰∏™Êï∞ÊçÆÁªìÊûÑËøõË°å‰∏ÄÁªÑËøûÁª≠Êìç‰Ωú‰∏≠ÔºåÂ§ßÈÉ®ÂàÜÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÂæà‰ΩéÔºåÂè™Êúâ‰∏™Âà´ÊÉÖÂÜµ‰∏ãÊó∂Èó¥Â§çÊùÇÂ∫¶ÊØîËæÉÈ´òÔºåËÄå‰∏îËøô‰∫õÊìç‰Ωú‰πãÈó¥Â≠òÂú®ÂâçÂêéËøûË¥ØÁöÑÊó∂Â∫èÂÖ≥Á≥ªÔºåËøô‰∏™Êó∂ÂÄôÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•Â∞ÜËøô‰∏ÄÁªÑÊìç‰ΩúÊîæÂú®‰∏ÄÂùóÂÑøÂàÜÊûêÔºåÁúãÊòØÂê¶ËÉΩÂ∞ÜËæÉÈ´òÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÇ£‰∫õÊìç‰ΩúÁöÑËÄóÊó∂ÔºåÂπ≥ÊëäÂà∞ÂÖ∂‰ªñÈÇ£‰∫õÊó∂Èó¥Â§çÊùÇÂ∫¶ÊØîËæÉ‰ΩéÁöÑÊìç‰Ωú‰∏ä„ÄÇËÄå‰∏îÔºåÂú®ËÉΩÂ§üÂ∫îÁî®ÂùáÊëäÊó∂Èó¥Â§çÊùÇÂ∫¶ÂàÜÊûêÁöÑÂú∫ÂêàÔºå‰∏ÄËà¨ÂùáÊëäÊó∂Èó¥Â∞±Á≠â‰∫éÊúÄÂ•ΩÊÉÖÂÜµÊó∂Èó¥Â§çÊùÇÂ∫¶„ÄÇ]]></content>
      <categories>
        <category>Êï∞ÊçÆÁªìÊûÑ‰∏éÁÆóÊ≥ï</category>
      </categories>
      <tags>
        <tag>Êó∂Èó¥Â§çÊùÇÂ∫¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CentOS7‰∏ãmysqlÂÆâË£ÖÂíåÈìæÊé•]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F25%2Fcentos7%E4%B8%8Bmysql%E5%AE%89%E8%A3%85%E5%92%8C%E9%93%BE%E6%8E%A5%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂºÑ‰∫Ü‰∏™ËôöÊãüÊú∫Áé©‰∏ÄÁé©ÔºåË∑üÁùÄËßÜÈ¢ëÊïôÁ®ãÂÆâË£ÖmysqlÔºåÁªìÊûúÈÅáÂà∞‰∫ÜËõÆÂ§öÈóÆÈ¢òÁöÑ„ÄÇ ÂÆâË£ÖcentOS7ÔºàÁï•ËøáÔºâÁî®ÁöÑÊòØVirtualBoxÔºåÂÖ∑‰ΩìËøáÁ®ã‰ª•ÂêéÂÜçÊï¥ÁêÜ Âà†Èô§ÂéüÊúâÊï∞ÊçÆÂ∫ìÂõ†‰∏∫CentOS7ÈªòËÆ§ÊòØÂÆâË£Ö‰∫ÜmariadbÊï∞ÊçÆÂ∫ìÔºåÊâÄ‰ª•ÈúÄË¶ÅÂÖàÂà†Èô§ÂÜçÂÆâË£Ömysql„ÄÇ ÂêØÂä®ËôöÊãüÊú∫ÔºåÁôªÂΩï 1ssh test@192.168.0.108 # testÊòØÁî®Êà∑Âêç Âà†Èô§mariadb 12yum search mariadb # ÊêúÁ¥¢mariadbÔºåÂæóÂà∞ÂÖ∑‰ΩìÊï∞ÊçÆÂ∫ìÁâàÊú¨ÔºåÂ¶Çmariadb-libs.x86_64sudo yum remove mariadb-libs.x86_64 Ê∏ÖÈô§ÂéüÊúâmysqlÁâàÊú¨ 12rpm -qa|grep mysqlsudo yum remove xxxx # xxxxÊòØÊêúÁ¥¢ÁªìÊûú‰∏≠ÁöÑÊï∞ÊçÆÂ∫ìÁâàÊú¨Ôºå‰æùÊ¨°Âà†Èô§ Âà†Èô§mysqlÈÖçÁΩÆÊñá‰ª∂ 12find / -name mysql sudo rm -rf xxxx # xxxxÊòØÂØπÂ∫îÁöÑÈÖçÁΩÆÊñá‰ª∂ ÂÆâË£Ömysql ‰∏ãËΩΩmysqlÊ∫ê ÊâæÂà∞mysql‰∏ãËΩΩÈìæÊé•ÔºåÈÄâÊã©ÂØπÂ∫îÁöÑmysqlÁâàÊú¨ÂêéÁÇπÂáª‚Äòdownload‚ÄôÔºåËøõÂÖ•Êñ∞ÁöÑÈ°µÈù¢ÔºåÂè≥ÈîÆÂ§çÂà∂‰∏ãËΩΩÈìæÊé• 12cd /tmpwget https://dev.mysql.com/get/mysql80-community-release-fc28-1.noarch.rpm ÂÆâË£ÖÊ∫ê 1sudo yum localinstall mysql80-community-release-fc28-1.noarch.rpm ÊêúÁ¥¢„ÄÅÂÆâË£Ömysql 12yum search mysql sudo yum install mysql-community-server # Ê†πÊçÆÊêúÁ¥¢ÁªìÊûúËøõË°åÂÆâË£Ö ÂÆâË£ÖÂÆåÊàê‰πãÂêéÔºåÊü•ÁúãÊúçÂä°ÊòØÂê¶ÂêØÂä® 123ps -ef | grep mysql# mysqlÊúçÂä°Êìç‰ΩúÁõ∏ÂÖ≥ÂëΩ‰ª§sudo service mysqld restart/start/stop ËøêË°å‰ª•‰∏ãÂëΩ‰ª§Êù•ÁîüÊàê‰∏¥Êó∂ÂØÜÁ†Å ‰∏¥Êó∂ÂØÜÁ†ÅÊòØ..for root@localhost:ÂêéÈù¢ÈÉ®ÂàÜ 1cat /var/log/mysqld.log | grep password ÁôªÂΩïmysql 1mysql -uroot -pabc # abcÊòØÂàöÂàöÁîüÊàêÁöÑ‰∏¥Êó∂ÂØÜÁ†Å ‰øÆÊîπÂØÜÁ†Å MySQL8.0ÁöÑÂØÜÁ†ÅËßÑËåÉÂæà‰∏•Ê†ºÔºåÈúÄË¶ÅÁî±Êï∞Â≠ó„ÄÅÂ§ßÂ∞èÂÜôÂ≠óÊØçÂíåÁâπÊÆäÁ¨¶Âè∑ÁªÑÊàêÁöÑÂÖ´‰ΩçÈïøÂ∫¶ÔºåÊâÄ‰ª•Ê≤°ÂäûÊ≥ïËÆæÁΩÆÁ±ª‰ºº123456ËøôÊ†∑ÁÆÄÂçïÁöÑÂØÜÁ†Å„ÄÇÂèØ‰ª•ÈÄöËøáË∞ÉÊï¥ÂØÜÁ†ÅÈ™åËØÅËßÑÂàôÔºå‰øÆÊîπpolicyÂíålengthÁöÑÂÄº„ÄÇ‰∏çËøáÈúÄË¶ÅÂÖàËÆæÁΩÆ‰∏Ä‰∏™Á¨¶ÂêàÊù°‰ª∂ÁöÑÂØÜÁ†ÅÂÜç‰øÆÊîπÂØÜÁ†ÅÈ™åËØÅËßÑÂàô„ÄÇ 1234mysql&gt; set global validate_password.policy=0;mysql&gt; set global validate_password.length=1;mysql&gt; flush privileges; # Êõ¥Êñ∞ÔºåÈúÄË¶ÅÂÖàËÆæÁΩÆ‰∏Ä‰∏™Á¨¶ÂêàÊù°‰ª∂ÁöÑÂØÜÁ†ÅÊâçËÉΩÊâßË°åËØ•ËØ≠Âè•mysql&gt; alter user 'root'@'localhost' identified by '123456'; ‰øÆÊîπÂØÜÁ†Å‰πãÂêéÔºåË¶ÅÈáçÊñ∞ÁôªÂΩïÈ™åËØÅ ÊéàÊùÉmysqlËøúÁ®ãÈìæÊé• ËÆæÁΩÆÊï∞ÊçÆÂ∫ìhost‰∏∫% ÁîµËÑë‰∏äÁî®ÁöÑmysqlÂÆ¢Êà∑Á´ØÊòØnavicatÔºåÂ¶Ç‰∏ãÂõæÂ°´ÂÜôÈìæÊé•‰ø°ÊÅØ„ÄÇ ÈìæÊé•ÂæàÂèØËÉΩ‰ºöÂ§±Ë¥•‰∫ÜÔºåÂõ†‰∏∫ÂΩìÂâçÁî®Êà∑ÁöÑhostÊòØlocalhostÔºå‰πüÂ∞±ÊòØÂè™ËÉΩÊú¨Êú∫ÈìæÊé•ÔºåÈúÄË¶Å‰øÆÊîπ‰∏∫‚Äô%‚Äô 1234567# Êü•ÁúãÁî®Êà∑ÔºåmysqlÂ∫ì‰∏≠ÁöÑuserË°®mysql&gt; use mysql;mysql&gt; select Host, User from user \G;# ‰øÆÊîπÁî®Êà∑hostmysql&gt; update user set host = '%' where Host = 'localhost' and User = 'root';# Âà∑Êñ∞ÊùÉÈôêmysql&gt; flush privileges; ‰øÆÊîπmysqlÁöÑplugin 12345# Êü•Áúãmysql&gt; select host, user, plugin, authentication_string from mysql.user \G;# ‰øÆÊîπmysql&gt; alter user 'root'@'%' identified with mysql_native_password by '123' # 123ÊòØÈáçÊñ∞ËÆæÁΩÆ‰πãÂêéÁöÑÂØÜÁ†Åmysql&gt; flush privileges; ËÆæÁΩÆ‰πãÂêéÂÜçËøõË°åÈìæÊé•ÊµãËØï Êü•ÁúãÈò≤ÁÅ´Â¢ô‰πãÁ±ªÁöÑÁöÑËÆæÁΩÆ Â¶ÇÊûú‰∏äÈù¢ËÆæÁΩÆ‰πãÂêéËøòÊòØÈìæÊé•‰∏çÂà∞Êú¨Âú∞Êï∞ÊçÆÂ∫ìÔºåÂæàÂèØËÉΩÊòØÂõ†‰∏∫ËÆæÁΩÆ‰∫ÜÈò≤ÁÅ´Â¢ô„ÄÇ 12# ÂÖ≥Èó≠Èò≤ÁÅ´Â¢ôsudo service firewalld stop ÂºÄÂêØgenelogËøõÂÖ•msyqlÔºåËÆæÁΩÆÂºÄÂêØÊó•ÂøóÔºåÊñπ‰æøË∞ÉËØï 123mysql&gt; set global general_log_file = '/tmp/general.log'mysql&gt; set global general_log=on;mysql&gt; set global generall_log=off; # ÂÖ≥Èó≠Êó•Âøó ÂÆûÊó∂Êü•ÁúãÊó•Âøó 1tail -f /tmp/generall.log # generalallÁöÑË∑ØÂæÑ Êñ∞Âª∫Áî®Êà∑ÁªôÊñ∞Áî®Êà∑ËÆæÁΩÆÊùÉÈôêÁöÑËØ≠Ê≥ï‰πüË∑ümysql5.7ÊúâÊâÄ‰∏çÂêå‰∫Ü 12mysql&gt; create user 'username'@'%' identified by 'password'mysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'username'@'%' WITH GRANT OPTION; ÂøòËÆ∞ÂØÜÁ†ÅÊÄé‰πàÂäûÂ¶ÇÊûúÁúüÁöÑÂøòËÆ∞ÂØÜÁ†ÅÔºåÂèØ‰ª•‰øÆÊîπmysqlÁöÑÈÖçÁΩÆÊñá‰ª∂Ôºå‰ΩøÂæómysql‰∏çÈúÄË¶ÅÈ™åËØÅÁôªÂΩï„ÄÇËøôÊ†∑Êìç‰ΩúÂÖ∂ÂÆûÊòØÂæàÂç±Èô©ÁöÑÔºåÊâÄ‰ª•‰øÆÊîπÂÆåÂØÜÁ†Å‰πãÂêéÂ∫îËØ•Â∞ΩÂø´Â∞ÜÈÖçÁΩÆÊñá‰ª∂ÊÅ¢Â§ç 123sudo vim /etc/my.conf# Êñá‰ª∂ÊúÄÂêéÂä†‰∏äËøôÊ†∑ÁöÑ‰∏ÄÂè•ËØùskip-grant-tables ÈáçÊñ∞ÂêØÂä®ÊúçÂä°Â∞±ÂèØ‰ª•ÂÖçÂØÜÁôªÂΩïmsyql 12sudo service mysqld startmysql -uroot -p ‰øÆÊîπÂØÜÁ†Å 123mysql&gt; select mysql;mysql&gt; update user set authentication_string=password('1234567') where user='root';mysql&gt; flush privileges; ÂèñÊ∂àÂØπmy.confÊñá‰ª∂ÁöÑ‰øÆÊîπ ÂèÇËÄÉÊñáÁ´†cnetos7ÂÆâË£Ö how to grant all privileges to root user in MySQL8.0 Ëß£ÂÜ≥MySQL8.0Êä•ÈîôÔºöUnknown system variable ‚Äòvalidate_password_policy‚Äô]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>centos</tag>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[„ÄêËΩ¨„ÄëSQLAlchemy ORM Tutorial for Python Developers]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F19%2F%E8%BD%AC-SQLAlchemy-ORM-Tutorial-for-Python-Developers%2F</url>
    <content type="text"><![CDATA[ÂéüÊñáÈìæÊé• ÂàöÂºÄÂßãÊé•Ëß¶sqlalchemyÔºå‰ª•‰∏∫ÂæàÊñπ‰æøÂæàÂ•ΩÁî®ÔºåÁªìÊûúÂú®ÂêÑÁßçÂÖ≥Á≥ª‰∏≠Ë¢´ÊâìÂáªÂà∞‰∏çË°å„ÄÇÊó†ÊÑèÈó¥Âú®ÁΩë‰∏äÁúãÂà∞ËøôÁØáÊñáÁ´†ÔºåÂÜôÂæóÊå∫ÈÄö‰øóÊòìÊáÇÁöÑÔºåËøòÊúâ‰∏™Â∞è‰æãÂ≠êÔºåËâØÂøÉÊïôÁ®ãÂïäÔºÅÂøç‰∏ç‰ΩèËΩ¨ËΩΩÂà∞Ëá™Â∑±ÁöÑÁ¨îËÆ∞‰∏≠ÔºåÊúâÊó∂Èó¥ÂÜçÁî®Ëá™Â∑±Ê∏£Ê∏£ÁöÑËã±ËØ≠ÁÆÄÂçïÁøªËØë‰∏Ä‰∏ãÔºåÊñπ‰æøÊü•ÈòÖ„ÄÇ In this article, we will learn how to use SQLAlchemy as the ORM (Object Relational Database) library to communicate with relational database engines. First, we will learn about some core concepts of SQLAlchemy (like engines and connection pools), then we will learn how to map Python classes and its relationships to database tables, and finally we will learn how to retrieve (query) data from these tables. The code snippets used in this article can be found in this GitHub repository. SQLAlchemy IntroductionSQLAlchemy is a library that facilitates the communication between Python programs and databases. Most of the times, this library is used as an Object Relational Mapper (ORM) tool that translates Python classes to tables on relational databases and automatically converts function calls to SQL statements. SQLAlchemy provides a standard interface that allows developers to create database-agnostic code to communicate with a wide variety of database engines. As we will see in this article, SQLAlchemy relies on common design patterns (like Object Pools) to allow developers to create and ship enterprise-grade, production-ready applications easily. Besides that, with SQLAlchemy, boilerplate code to handle tasks like database connections is abstracted away to let developers focus on business logic. Before diving into the ORM features provided by SQLAlchemy, we need to learn how the core works. The following sections will introduce important concepts that every Python developer needs to understand before dealing with SQLAlchemy applications. Python DBAPIThe Python DBAPI (an acronym for DataBase API) was created to specify how Python modules that integrate with databases should expose their interfaces. Although we won‚Äôt interact with this API directly‚Äîwe will use SQLAlchemy as a facade to it‚Äîit‚Äôs good to know that it defines how common functions like connect, close, commit, and rollback must behave. Consequently, whenever we use a Python module that adheres to the specification, we can rest assured that we will find these functions and that they will behave as expected. In this article, we are going to install and use the most popular PostgreSQL DBAPI implementation available: psycopg. Other Python drivers communicate with PostgreSQL as well, but psycopg is the best candidate since it fully implements the DBAPI specification and has great support from the community. To better understand the DBAPI specification, what functions it requires, and how these functions behave, take a look into the Python Enhancement Proposal that introduced it. Also, to learn about what other database engines we can use (like MySQL or Oracle), take a look at the official list of database interfaces available. SQLAlchemy EnginesWhenever we want to use SQLAlchemy to interact with a database, we need to create an Engine. Engines, on SQLAlchemy, are used to manage two crucial factors: Pools and Dialects. The following two sections will explain what these two concepts are, but for now it suffices to say that SQLAlchemy uses them to interact with DBAPI functions. ‰ªª‰ΩïÊó∂ÂÄôÔºåÂè™Ë¶ÅÊàë‰ª¨ÊÉ≥Áî®SQLAlchemyÂéªËøûÊé•Êï∞ÊçÆÂ∫ìÔºåÈÉΩÂøÖÈ°ªÂÖàÂàõÂª∫engine„ÄÇÂú®SQLAlchemy‰∏≠ÔºåengineÊòØÁî®Êù•ÁÆ°ÁêÜ‰∏§Â§ßÈáçË¶ÅÈÉ®ÂàÜÔºöPoolsÂíåDialects„ÄÇÊé•‰∏ãÊù•‰∏§Â∞èËäÇÂ∞Ü‰ºöËß£ÈáäËøô‰∏§‰∏™Ê¶ÇÂøµÔºåÁé∞Âú®Âè™Ë¶ÅÊòéÁôΩSQLAlchemyÊòØÁî®‰ªñ‰ª¨Ë∑üDBAPI‰∫§‰∫íÁöÑÂáΩÊï∞Â∞±Â§ü‰∫Ü„ÄÇ To create an engine and start interacting with databases, we have to import the create_engine function from the sqlalchemy library and issue a call to it: ‰∏∫‰∫ÜÂàõÂª∫engineÂπ∂‰∏éÊï∞ÊçÆÂ∫ì‰∫§‰∫íÔºåÊàë‰ª¨ÂøÖÈ°ª‰ªésqlalchemyÂ∫ì‰∏≠ÂØºÂÖ•create_engineÂπ∂‰∏îË∞ÉÁî®ËØ•ÊñπÊ≥ï„ÄÇ 12from sqlalchemy import create_engineengine = create_engine('postgresql://usr:pass@localhost:5432/sqlalchemy') This example creates a PostgreSQL engine to communicate with an instance running locally on port 5432 (the default one). It also defines that it will use usr and pass as the credentials to interact with the sqlalchemy database. Note that, creating an engine does not connect to the database instantly. This process is postponed to when it‚Äôs needed (like when we submit a query, or when create/update a row in a table). Ëøô‰∏™‰æãÂ≠êÂú®Êú¨Âú∞5432ÔºàÈªòËÆ§Á´ØÂè£ÔºâÁ´ØÂè£ÂàõÂª∫‰∫Ü‰∏Ä‰∏™PostgreSQL engine„ÄÇÂêåÊó∂‰πüÂÆö‰πâ‰∫ÜËØ•engie‰ºö‰ΩøÁî®usrÂíåpass‰Ωú‰∏∫‰∏ésqlalchemyÊï∞ÊçÆÂ∫ìÈìæÊé•ÁöÑÂá≠ËØÅ„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂàõÂª∫‰∫ÜengineÂπ∂‰∏ç‰ºöÈ©¨‰∏äËøûÊé•Âà∞Êï∞ÊçÆÂ∫ìÔºåËÄåÊòØÁõ¥Âà∞Êàë‰ª¨ÈúÄË¶ÅÁöÑÊó∂ÂÄôÊâçËøûÊé•„ÄÇÔºàÊØîÂ¶ÇÔºåÂΩìÊàë‰ª¨ÊâßË°åÊü•ËØ¢Êìç‰ΩúÔºåÊàñËÄÖÊèíÂÖ•/Êõ¥Êñ∞Ë°®ËÆ∞ÂΩïÔºâ„ÄÇ Since SQLAlchemy relies on the DBAPI specification to interact with databases, the most common database management systems available are supported. PostgreSQL, MySQL, Oracle, Microsoft SQL Server, and SQLite are all examples of engines that we can use alongside with SQLAlchemy. To learn more about the options available to create SQLAlchemy engines, take a look at the official documentation. sqlalchemyÊâÄÊîØÊåÅÁöÑ‰∏Ä‰∫õÂ∏∏ËßÅÊï∞ÊçÆÂ∫ìÁÆ°ÁêÜÁ≥ªÁªü„ÄÇ SQLAlchemy Connection PoolsConnection pooling is one of the most traditional implementations of the object pool pattern. Object pools are used as caches of pre-initialized objects ready to use. That is, instead of spending time to create objects that are frequently needed (like connections to databases) the program fetches an existing object from the pool, uses it as desired, and puts back when done. ÈìæÊé•Ê±†ÊòØobject pool patternÊúÄ‰º†ÁªüÁöÑÂÆûË∑µ„ÄÇÂØπË±°Ê±†Ë¢´Áî®‰ΩúÈ¢ÑÂàùÂßãÂåñÂØπË±°ÂáÜÂ§á‰ΩøÁî®Êó∂ÁöÑÁºìÂ≠ò„ÄÇ‰πüÂ∞±ÊòØËØ¥ÔºåÁ®ãÂ∫èÂú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÁõ¥Êé•‰ªéÊ±†‰∏≠Ëé∑Âèñ‰∏Ä‰∏™Â∑≤Â≠òÂú®ÁöÑÂØπË±°ÔºåÁî®ÂÆåÂÜçÊîæÂõûÂéªÔºåËÄå‰∏çÊòØÈúÄË¶ÅÈìæÊé•Êó∂ÂÜçËä±Êó∂Èó¥ÂéªÂàõÂª∫ÂØπË±°ÔºàÊØîÂ¶ÇÈìæÊé•Âà∞Êï∞ÊçÆÂ∫ìÔºâ„ÄÇ The main reason why programs take advantage of this design pattern is to improve performance. In the case of database connections, opening and maintaining new ones is expensive, time-consuming, and wastes resources. Besides that, this pattern allows easier management of the number of connections that an application might use simultaneously. Á®ãÂ∫èËøô‰πàËÆæËÆ°‰∏ªË¶ÅÊòØ‰∏∫‰∫ÜÊèêÈ´òÊÄßËÉΩ„ÄÇÂú®Êï∞ÊçÆÂ∫ìÈìæÊé•ÁöÑ‰æãÂ≠ê‰∏≠ÔºåÂàõÂª∫Âπ∂Áª¥ÊåÅÊñ∞ÁöÑÂØπË±°ÊàêÊú¨ÂæàÈ´òÔºåËÄóÊó∂‰πüÊµ™Ë¥πËµÑÊ∫ê„ÄÇÈô§Ê≠§‰πãÂ§ñÔºåËøô‰∏™ËÆæËÆ°Ê®°ÂºèËÉΩÂ§üÊõ¥Â•ΩÂú∞ÊéßÂà∂Â∫îÁî®Âú®Âêå‰∏ÄÊó∂Èó¥ËÉΩÂ§ü‰ΩøÁî®ÁöÑÈìæÊé•Êï∞„ÄÇ There are various implementations of the connection pool pattern available on SQLAlchemy . For example, creating an Engine through the create_engine()function usually generates a QueuePool. This kind of pool comes configured with some reasonable defaults, like a maximum pool size of 5 connections. sqlalchemyÁöÑÈìæÊé•Ê±†Ê®°ÂºèËøòÊúâÂæàÂ§öÂèØÁî®ÁöÑÂÆûË∑µ„ÄÇÊØîÂ¶ÇÔºåÈÄöËøácreate_engine()ÊñπÊ≥ïÂàõÂª∫ÁöÑengineÈÄöÂ∏∏‰ºöÁîüÊàê‰∏Ä‰∏™QueuePool„ÄÇËøôÁ±ªÊ±†‰ºöÊúâÈªòËÆ§ÁöÑËÆæÁΩÆÔºåÊØîÂ¶ÇÊúÄÂ§ßÈìæÊé•Ê±†Êï∞‰∏∫5. As usual production-ready programs need to override these defaults (to fine-tune pools to their needs), most of the different implementations of connection pools provide a similar set of configuration options. The following list shows the most common options with their descriptions: ‰∏ÄËà¨Êù•ËØ¥Ôºå‰∏äÁ∫øÁ®ãÂ∫èÈúÄË¶ÅÈáçÂÜôÈªòËÆ§ÈÖçÁΩÆÔºàÂæÆË∞ÉÂ∑≤Ëá≥Á¨¶ÂêàÈúÄÊ±ÇÔºâÔºåÂ§ßÈÉ®ÂàÜÈìæÊé•Ê±†ÁöÑ‰∏çÂêåÂÆûÁé∞ÈÉΩÊèê‰æõ‰∫Ü‰∏ÄÁ≥ªÂàóÁ±ª‰ººÁöÑËÆæÁΩÆÈÄâÈ°π(???)„ÄÇ‰ª•‰∏ãÊòØ‰∏Ä‰∫õÂ∏∏ËßÅÈÄâÈ°πÂèäÂÖ∂ÊèèËø∞Ôºö pool_size: Sets the number of connections that the pool will handle.ËÆæÁΩÆÊúÄÂ§ßÈìæÊé•Ê±†Êï∞ max_overflow: Specifies how many exceeding connections (relative to pool_size) the pool supports.ÊåáÂÆöÈìæÊé•Ê±†ÊîØÊåÅÁöÑË∂ÖÂá∫ËøûÊé•Êï∞ÔºàÁõ∏ÂØπ‰∫épool_sizeÔºâ pool_recycle: Configures the maximum age (in seconds) of connections in the pool.ËÆæÁΩÆÈìæÊé•Ê±†‰∏≠ÊúÄÈïøÈìæÊé•Êó∂Èó¥ÔºàÁßíÔºâ pool_timeout: Identifies how many seconds the program will wait before giving up on getting a connection from the pool.Ê†áÊ≥®Á®ãÂ∫èÂú®ÊîæÂºÉ‰ªéÊ±†‰∏≠Ëé∑ÂèñÈìæÊé•ÊâÄÁ≠âÂæÖÁöÑÁßíÊï∞ To learn more about connection pools on SQLAlchemy, check out the official documentation. SQLAlchemy DialectsAs SQLAlchemy is a facade that enables Python developers to create applications that communicate to different database engines through the same API, we need to make use of Dialects. Most of the popular relational databases available out there adhere to the SQL (Structured Query Language) standard, but they also introduce proprietary variations. These variations are the solely responsible for the existence of dialects. Âõ†‰∏∫SQLAlchemyËÉΩÂ§üËÆ©pythonÂºÄÂèëËÄÖÂºÄÂèëÂá∫ÈÄöËøáÂêåÊ†∑ÁöÑAPIËøûÊé•Âà∞‰∏çÂêåÁöÑÊï∞ÊçÆÂ∫ìÂºïÊìéÁöÑÂ∫îÁî®ÔºåÊàë‰ª¨ÈúÄË¶Å‰ΩøÁî®Dialects„ÄÇÁõÆÂâç‰∏ªÊµÅÁöÑÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÈÉΩÈÅµÂæ™SQLÔºàÁªìÊûÑÂåñÊü•ËØ¢ËØ≠Ë®ÄÔºâÊ†áÂáÜÔºå‰ΩÜ‰πüÊúâÂêÑËá™ÁöÑÂèòÂåñ„ÄÇËøô‰∫õÂèòÂåñÊòØdialectsÂ≠òÂú®ÁöÑÂéüÂõ†ÔºàdialectsÔºüÔºüÔºâ For example, let‚Äôs say that we want to fetch the first ten rows of a table called people. If our data was being held by a Microsoft SQL Server database engine, SQLAlchemy would need to issue the following query: ‰æãÂ¶ÇÔºåÊàë‰ª¨ÊÉ≥Ë¶ÅËé∑ÂèñpeopleË°®ÁöÑÂâçÂçÅË°å„ÄÇÂ¶ÇÊûúÊàë‰ª¨ÁöÑÊï∞ÊçÆÊòØ‰øùÂ≠òÂú®Microsoft SQL ServerÊï∞ÊçÆÂ∫ìÂºïÊìéÔºåsqlalchemyÈúÄË¶Å‰ΩúÂá∫‰ª•‰∏ãÊü•ËØ¢Ôºö 1SELECT TOP 10 * FROM people; But, if our data was persisted on MySQL instance, then SQLAlchemy would need to issue: ‰ΩÜÊòØÔºåÂ¶ÇÊûúÊàë‰ª¨ÁöÑÊï∞ÊçÆÊåÅ‰πÖÂåñ‰∏∫MySQLÂÆû‰æãÔºåÈÇ£‰πàSQLAlchemyÂàôÈúÄË¶ÅËøôÊ†∑ÂÜôÔºö 1SELECT * FROM people LIMIT 10; Therefore, to know precisely what query to issue, SQLAlchemy needs to be aware of the type of the database that it is dealing with. This is exactly what Dialects do. They make SQLAlchemy aware of the dialect it needs to talk. Âõ†Ê≠§Ôºå‰∏∫‰∫ÜÂáÜÁ°ÆÁü•ÈÅìË¶ÅÂÅöÂá∫‰ΩïÁßçÊü•ËØ¢ÔºåSQLAlchemyÈúÄË¶ÅÁü•ÈÅìÂÆÉÊ≠£Âú®Â§ÑÁêÜÁöÑÊï∞ÊçÆÂ∫ìÁ±ªÂûã„ÄÇËøôÂ∞±ÊòØdialectsÊâÄÂÅöÁöÑ„ÄÇ On its core, SQLAlchemy includes the following list of dialects: Firebird Microsoft SQL Server MySQL Oracle PostgreSQL SQLite Sybase Dialects for other database engines, like Amazon Redshift, are supported as external projects but can be easily installed. Check out the official documentation on SQLAlchemy Dialects to learn more. SQLAlchemy ORMORM, which stands for Object Relational Mapper, is the specialization of the Data Mapper design pattern that addresses relational databases like MySQL, Oracle, and PostgreSQL. As explained by Martin Fowler in the article, Mappersare responsible for moving data between objects and a database while keeping them independent of each other. As object-oriented programming languages and relational databases structure data on different ways, we need specific code to translate from one schema to the other. ORMÔºå‰πüÂ∞±ÊòØÂÖ≥Á≥ªÂØπË±°Êò†Â∞ÑÔºåÊòØÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÂ¶ÇMYSQLÔºåOracleÁ≠âÁöÑÊï∞ÊçÆÊò†Â∞ÑËÆæËÆ°Ê®°ÂºèÁöÑ‰∏ì‰∏öÂåñ„ÄÇÊ≠£Â¶ÇMartin FowlerÂú®ÊñáÁ´†‰∏≠ÊâÄËß£ÈáäÁöÑÈÇ£Ê†∑ÔºåMappersÔºàÊò†Â∞ÑÂô®ÔºüÔºâË¥üË¥£Âú®ÂØπË±°ÂíåÊï∞ÊçÆÂ∫ì‰πãÈó¥ÁßªÂä®Êï∞ÊçÆÔºåÂêåÊó∂‰øùËØÅÂÆÉ‰ª¨ÂΩºÊ≠§Áã¨Á´ã„ÄÇÂØπ‰∫éÈù¢ÂØπÂØπË±°ÁöÑÁºñÁ®ãËØ≠Ë®ÄÂíåÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ì‰ª•‰∏çÂêåÁöÑÊñπÂºèÊûÑÈÄ†Êï∞ÊçÆÔºåÊàë‰ª¨ÈúÄË¶ÅÁâπÂÆöÁöÑ‰ª£Á†ÅÂ∞Ü‰∏Ä‰∏™Ê®°ÂºèËΩ¨Êç¢Âà∞Âè¶‰∏Ä‰∏™Ê®°Âºè„ÄÇ For example, in a programming language like Python, we can create a Productclass and an Order class to relate as many instances as needed from one class to another (i.e. Product can contain a list of instances of Order and vice-versa). Though, on relational databases, we need three entities (tables), one to persist products, another one to persist orders, and a third one to relate (through foreign key) products and orders. ‰æãÂ¶ÇÔºåÂú®ÂÉèpythonËøôÊ†∑ÁöÑÁºñÁ®ãËØ≠Ë®Ä‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÂàõÂª∫‰∏Ä‰∏™ProductÁ±ªÂíå‰∏Ä‰∏™OrderÁ±ªÔºå‰ª•‰æøÊ†πÊçÆÈúÄË¶ÅÂ∞Ü‰∏Ä‰∏™Á±ª‰∏éÂè¶‰∏Ä‰∏™Á±ªÁõ∏ÂÖ≥ËÅîÔºàÂç≥ProductÂèØ‰ª•ÂåÖÂê´OrderÂÆû‰æãÂàóË°®ÔºåÂèç‰πã‰∫¶ÁÑ∂Ôºâ„ÄÇÁÑ∂ËÄåÔºåÂú®ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìÔºåÊàë‰ª¨ÈúÄË¶Å‰∏â‰∏™ÂÆû‰ΩìÔºàË°®ÔºâÔºå‰∏Ä‰∏™‰øùÂ≠òproductsÔºåÂè¶‰∏Ä‰∏™‰øùÂ≠òordersÔºåÁ¨¨‰∏â‰∏™ÈìæÊé•ÔºàÈÄöËøáÂ§ñÈîÆÔºâproductsÂíåorders„ÄÇ As we will see in the following sections, SQLAlchemy ORM is an excellent Data Mapper solution to translate Python classes into/from tables and to move data between instances of these classes and rows of these tables. Âú®Êé•‰∏ãÈáåÁöÑÁ´†ËäÇÈáåÊàë‰ª¨Â∞Ü‰ºöÁúãÂà∞ÔºåSQLAlchemyÊòØ‰∏Ä‰∏™ÂæàËµûÁöÑÊï∞ÊçÆÊò†Â∞ÑËß£ÂÜ≥ÊñπÊ≥ïÔºåÂóØÔºåÁøª‰∏ç‰∏ãÂéª‰∫Ü„ÄÇ„ÄÇ„ÄÇ SQLAlchemy Data TypesWhile using SQLAlchemy, we can rest assured that we will get support for the most common data types found in relational databases. For example, booleans, dates, times, strings, and numeric values are a just a subset of the types that SQLAlchemy provides abstractions for. Besides these basic types, SQLAlchemy includes support for a few vendor-specific types (like JSON) and also allows developers to create custom types and redefine existing ones. To understand how we use SQLAlchemy data types to map properties of Python classes into columns on a relation database table, let‚Äôs analyze the following example: ‰∏∫‰∫ÜÁêÜËß£Êàë‰ª¨ÊòØÂ¶Ç‰Ωï‰ΩøÁî®SQLAlchemyÊï∞ÊçÆÁ±ªÂûãÂéªÊò†Â∞ÑpythonÁ±ªÂ±ûÊÄßÂà∞ÂÖ≥Á≥ªÊï∞ÊçÆÂ∫ìË°®ÁöÑÂàóÁöÑÔºåËÆ©Êàë‰ª¨Êù•ÂàÜÊûê‰∏ãÈù¢Ëøô‰∏™‰æãÂ≠êÂêßÔºö 1234567class Product(Base): __tablename__ = 'products' id=Column(Integer, primary_key=True) title=Column('title', String(32)) in_stock=Column('in_stock', Boolean) quantity=Column('quantity', Integer) price=Column('price', Numeric) In the code snippet above, we are defining a class called Product that has six properties. Let‚Äôs take a look at what these properties do: Âú®‰∏äÈù¢ÁöÑ‰ª£Á†ÅÁâáÊÆµ‰∏≠ÔºåÊàë‰ª¨ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Â∏¶Êúâ6‰∏™Â±ûÊÄßÁöÑProductÁ±ª„ÄÇÊé•‰∏ãÊù•Áúã‰∏ãËøô‰∫õÂ±ûÊÄßÈÉΩÊúâ‰ªÄ‰πà‰ΩúÁî®Ôºö The __tablename__ property tells SQLAlchemy that rows of the productstable must be mapped to this class. __tablename__Â±ûÊÄßÂëäËØâSQLAlchemy productsË°®ÁöÑË°åÈÉΩÂøÖÈ°ªÊò†Â∞ÑÂà∞Ëøô‰∏™Á±ª„ÄÇ The id property identifies that this is the primary_key in the table and that its type is Integer. id Â±ûÊÄßÊòØË°®ÁöÑprimary_keyÔºåÁ±ªÂûã‰∏∫Integer„ÄÇ The title property indicates that a column in the table has the same name of the property and that its type is String. titleÂ±ûÊÄßÊåáÁ§∫Ë°®‰∏≠Êúâ‰∏Ä‰∏™‰∏éËØ•Â±ûÊÄßÔºàtitleÔºâÂêåÂêçÁöÑÂàóÔºåÂàóÁöÑÁ±ªÂûãÊòØ String„ÄÇ The in_stock property indicates that a column in the table has the same name of the property and that its type is Boolean. in_stock Â±ûÊÄßËØ¥ÊòéË°®‰∏≠‰πüÊúâÂêåÂêçÁöÑÂàóÔºåÂàóÁöÑÁ±ªÂûã‰∏∫ Boolean The quantity property indicates that a column in the table has the same name of the property and that its type is Integer. The price property indicates that a column in the table has the same name of the property and that its type is Numeric. Seasoned developers will notice that (usually) relational databases do not have data types with these exact names. SQLAlchemy uses these types as generic representations to what databases support and use the dialect configured to understand what types they translate to. For example, on a PostgreSQL database, the title would be mapped to a varchar column. ÁªèÈ™å‰∏∞ÂØåÁöÑÂºÄÂèëËÄÖÈÄöÂ∏∏‰ºöÊ≥®ÊÑèÂà∞ÂÖ≥Á≥ªÂûãÊï∞ÊçÆÂ∫ì‰∏ç‰ºöÊúâËøô‰∫õÁ°ÆÂàáÂêçÁß∞ÁöÑÊï∞ÊçÆÁ±ªÂûã„ÄÇSQLAlchemy‰ΩøÁî®Ëøô‰∫õÁ±ªÂûã‰Ωú‰∏∫ÈÄöÁî®Ë°®Á§∫ÂΩ¢ÂºèÔºå‰ª•ÊîØÊåÅÂíå‰ΩøÁî®ÈÖçÁΩÆÁöÑÊñπË®ÄÊù•ÁêÜËß£ÂÆÉ‰ª¨ËΩ¨Êç¢‰∏∫ÁöÑÁ±ªÂûã„ÄÇÊØîÂ¶ÇÂú®PostgreSQLÊï∞ÊçÆÂ∫ìÈáåÔºåtitleÂ∞Ü‰ºöË¢´Êò†Â∞Ñ‰∏∫varcharÂàó„ÄÇ SQLAlchemy Relationship PatternsNow that we know what ORM is and have look into data types, let‚Äôs learn how to use SQLAlchemy to map relationships between classes to relationships between tables. SQLAlchemy supports four types of relationships: One To Many, Many To One, One To One, and Many To Many. Áé∞Âú®Êàë‰ª¨‰∫ÜËß£Âà∞‰ªÄ‰πàÊòØORMÂíåÂêÑÁßçÊï∞ÊçÆÁ±ªÂûãÔºåÊé•‰∏ãÊù•ËÆ©Êàë‰ª¨Â≠¶‰π†ÊÄé‰πà‰ΩøÁî®SQLAlchemyÂ∞ÜÁ±ª‰∏≠ÁöÑÂÖ≥Á≥ªÊò†Â∞ÑÂà∞Ë°®‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇSQLAlchemyÊîØÊåÅÂõõÁßçÂÖ≥Á≥ªÔºö‰∏ÄÂØπÂ§öÔºåÂ§öÂØπ‰∏ÄÔºå‰∏ÄÂØπ‰∏ÄÂíåÂ§öÂØπÂ§ö„ÄÇ Note that this section will be an overview of all these types, but in the SQLAlchemy ORM in Practice action we will do a hands-on to practice mapping classes into tables and to learn how to insert, extract, and remove data from these tables. The first type, One To Many, is used to mark that an instance of a class can be associated with many instances of another class. For example, on a blog engine, an instance of the Article class could be associated with many instances of the Comment class. In this case, we would map the mentioned classes and its relation as follows: Á¨¨‰∏ÄÁßçÔºå‰∏ÄÂØπÂ§öÔºåÁî®Êù•Ê†áÊ≥®‰∏Ä‰∏™Á±ªÁöÑÂÆû‰æãËÉΩÂ§ü‰∏éÂè¶‰∏Ä‰∏™Á±ªÁöÑÂ§ö‰∏™ÂÆû‰æãÁõ∏ÂÖ≥ËÅî„ÄÇ‰æãÂ¶ÇÔºåÂú®‰∏Ä‰∏™ÂçöÂÆ¢‰∏äÔºå ArticleÁ±ªÁöÑ‰∏Ä‰∏™ÂÆû‰æãÂèØ‰ª•ÂØπÂ∫îÂà∞ Comment Á±ªÁöÑÂ§ö‰∏™ÂÆû‰æã„ÄÇÂú®Ëøô‰∏™‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨ÂÉè‰∏ãÈù¢ËøôÊ†∑ÂØπÂàöÂàöÊèêÂà∞ÁöÑÁ±ªÂíåÂÖ≥Á≥ªËøõË°åÊò†Â∞ÑÔºö 1234567891011class Article(Base): __tablename__ = 'articles' id = Column(Integer, primary_key=True) comments = relationship("Comment")class Comment(Base): __tablename__ = 'comments' id = Column(Integer, primary_key=True) # Â§öÁöÑ‰∏ÄÊñπËÆæÁΩÆ‰∫ÜÂ§ñÈîÆ article_id = Column(Integer, ForeignKey('articles.id')) The second type, Many To One, refers to the same relationship described above but from the other perspective. To give a different example, let‚Äôs say that we want to map the relationship between instances of Tire to an instance of a Car. As many tires belong to one car and this car contains many tires, we would map this relation as follows: Á¨¨‰∫åÁßçÁ±ªÂûãÔºåÂ§öÂØπ‰∏ÄÔºåË∑ü‰∏äÈù¢ÊèêÂà∞ÁöÑÂÖ≥Á≥ª‰∏ÄÊ†∑Ôºå‰ΩÜ‰ªéÂèçÊñπÊù•ËØ¥„ÄÇ‰∏æ‰∏™‰∏çÂêåÁöÑ‰æãÂ≠êÔºåÂÅáËÆæÊàë‰ª¨ÊÉ≥Ë¶ÅÊò†Â∞ÑTireÂ§ö‰∏™ÂÆû‰æãÔºàÂ§ö‰∏™ËΩÆËÉéÔºâÂíå‰∏Ä‰∏™CarÂÆû‰æãÁöÑÂÖ≥Á≥ª„ÄÇÂõ†‰∏∫ÂæàÂ§öÊù°ËΩÆËÉéÂ±û‰∫éÂêå‰∏ÄËæÜËΩ¶Âπ∂‰∏îËøôËæÜËΩ¶Êã•ÊúâÂ§öÊù°ËΩÆËÉéÔºåÊàë‰ª¨ÂèØËÉΩ‰ºöËøôÊ†∑Êù•Êò†Â∞ÑÔºö 1234567891011class Tire(Base): __tablename__ = 'tires' id = Column(Integer, primary_key=True) # Ë∑ü‰∏ÄÂØπÂ§ö‰∏çÂêåÁöÑÊòØÔºåËøôÊ¨°relationship‰πüÊòØÂú®Â§öÁöÑ‰∏ÄÊñπÔºåË∑üÂ§ñÈîÆ‰∏ÄËµ∑ car_id = Column(Integer, ForeignKey('cars.id')) car = relationship("Car")class Car(Base): __tablename__ = 'cars' id = Column(Integer, primary_key=True) The third type, One To One, refers to relationships where an instance of a particular class may only be associated with one instance of another class, and vice versa. As an example, consider the relationship between a Person and a MobilePhone. Usually, one person possesses one mobile phone and this mobile phone belongs to this person only. To map this relationship on SQLAlchemy, we would create the following code: Á¨¨‰∏âÁßçÁ±ªÂûãÔºå‰∏ÄÂØπ‰∏ÄÊòØÊåá‰∏Ä‰∏™ÁâπÂÆöÁ±ªÁöÑÂÆû‰æãÂè™ËÉΩÂÖ≥ËÅîÂà∞Âè¶‰∏Ä‰∏™Á±ªÁöÑ‰∏Ä‰∏™ÂÆû‰æãËøôÊ†∑ÁöÑÂÖ≥Á≥ªÔºåÂèç‰πã‰∫¶ÁÑ∂„ÄÇ‰∏æ‰∏™‰æãÂ≠êÔºåÊÉ≥Ë±°‰∏Ä‰∏™‰∫∫Âíå‰∏Ä‰∏™ÊâãÊú∫‰πãÈó¥ÁöÑÂÖ≥Á≥ª„ÄÇÈÄöÂ∏∏Êù•ËØ¥Ôºå‰∏Ä‰∏™‰∫∫Êã•Êúâ‰∏Ä‰∏™ÊâãÊú∫ÔºåÂêåÊó∂Ëøô‰∏™ÊâãÊú∫‰πüÂè™Â±û‰∫éËøô‰∏™‰∫∫„ÄÇÂú®SQLAlchemyÊò†Â∞ÑËøôÊ†∑ÁöÑÂÖ≥Á≥ªÔºåÊàë‰ª¨ÂèØ‰ª•Êù•ÂÜôÔºö 12345678910111213class Person(Base): __tablename__ = 'people' id = Column(Integer, primary_key=True) # back_populatesÁöÑÂÄºÊòØÂ±ûÊÄßÁöÑÂ≠óÁ¨¶‰∏≤ÂêçÁß∞ÔºåÂøÖÈ°ªÂú®mapperÁöÑÂè¶‰∏ÄÁ´Ø‰∏≠ÊòæÂºèÂÆö‰πâÔºàMobilePhoneÔºâ # uselist‰∏∫FalseÔºåÊ†áÈáè„ÄÇÂú®‰∏ÄÂØπÂ§öÂíåÂ§öÂØπÂ§ö‰∏≠‰∏∫TrueÔºåÂØπÂ∫îÊòØÂàóË°®Ôºàforms a listÔºâÔºåÂú®Â§öÂØπ‰∏ÄÂàôÊòØscalar mobile_phone = relationship("MobilePhone", uselist=False, back_populates="person")class MobilePhone(Base): __tablename__ = 'mobile_phones' id = Column(Integer, primary_key=True) person_id = Column(Integer, ForeignKey('people.id')) # ÂêåÊ†∑ÁöÑÔºåback_populates="mobile_phone"‰∏≠ÁöÑmobile_phone‰πüÊòØÂú®Person‰∏≠ÂÆö‰πâÁöÑ‰∫Ü person = relationship("Person", back_populates="mobile_phone") In this example, we pass two extra parameters to the relationship function. The first one, uselist=False, makes SQLAlchemy understand that mobile_phone will hold only a single instance and not an array (multiple) of instances. The second one, back_populates, instructs SQLAlchemy to populate the other side of the mapping. The official Relationships API documentationprovides a complete explanation of these parameters and also covers other parameters not mentioned here. Âú®ËøôÈáå‰æãÂ≠ê‰∏≠ÔºåÊàë‰ª¨‰º†ÈÄí‰∏§‰∏™ÂèÇÊï∞ÁªôrelationshipÂáΩÊï∞„ÄÇÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞uselist=FalseÔºåÂëäÁü•SQLAlchemy mobile_phoneÂàó‰ªÖÂåÖÂê´Âçï‰∏™ÂÆû‰æãÔºåËÄå‰∏çÊòØÂÆû‰æãÂàóË°®ÔºàÂ§ö‰∏™ÂÆû‰æãÔºâ„ÄÇÁ¨¨‰∫å‰∏™ÂèÇÊï∞Ôºå back_populatesÔºåÊåáÁ§∫SQLAlchemyÂ°´ÂÖÖÂà∞Êò†Â∞ÑÁöÑÂè¶‰∏ÄÁ´Ø„ÄÇofficial Realtionships API documentationÊèê‰æõ‰∫ÜËøô‰∫õÂèÇÊï∞ÁöÑÂÆåÊï¥Ëß£ÈáäÔºå‰πüÂåÖÊã¨‰∫ÜËøôÈáåÊ≤°ÊèêÂà∞ÁöÑÂèÇÊï∞„ÄÇ The last type supported by SQLAlchemy, Many To Many, is used when instances of a particular class can have zero or more associations to instances of another class. For example, let‚Äôs say that we are mapping the relationship of instances of Student and instances of Class in a system that manages a school. As many students can participate in many classes, we would map the relationship as follows: SQLAlchemyÊâÄÊîØÊåÅÁöÑÊúÄÂêé‰∏ÄÁßçÁ±ªÂûãÔºåÂ§öÂØπÂ§öÔºåË¢´Áî®Âú®ÂΩì‰∏Ä‰∏™ÁâπÂÆöÁ±ªÁöÑÂÆû‰æãÔºàÂ§ö‰∏™Ôºâ‰∏éÂè¶‰∏Ä‰∏™Á±ªÁöÑÂÆû‰æãÊúâÈõ∂‰∏™ÊàñËÄÖÂ§ö‰∏™ËÅîÁ≥ªÁöÑÊó∂ÂÄô„ÄÇ‰æãÂ¶ÇÔºåÂÅáËÆæÊàë‰ª¨Âú®Â≠¶Ê†°ÁÆ°ÁêÜÁ≥ªÁªü‰∏≠Êò†Â∞Ñ Student ÂÆû‰æãÂíå ClassÂÆû‰æã„ÄÇÂõ†‰∏∫ÂæàÂ§öÂ≠¶ÁîüÂèØ‰ª•ÂèÇÂä†Â§ö‰∏™ËØæÁ®ãÔºåÊàë‰ª¨ÂèØ‰ª•ËøôÊ†∑Êò†Â∞ÑÔºö 1234567891011121314students_classes_association = Table('students_classes', Base.metadata, Column('student_id', Integer, ForeignKey('students.id')), Column('class_id', Integer, ForeignKey('classes.id')))class Student(Base): __tablename__ = 'students' id = Column(Integer, primary_key=True) # ‰∏∫‰ªÄ‰πàÂè™Âú®ËøôËæπÂÜô classes = relationship("Class", secondary=students_classes_association)class Class(Base): __tablename__ = 'classes' id = Column(Integer, primary_key=True) In this case, we had to create a helper table to persist the association between instances of Student and instances of Class, as this wouldn‚Äôt be possible without an extra table. Note that, to make SQLAlchemy aware of the helper table, we passed it in the secondary parameter of the relationship function. Âú®ËøôÁßçÊÉÖÂÜµ‰∏ãÔºåÊàë‰ª¨ÂøÖÈ°ªÂàõÂª∫‰∏Ä‰∏™‰∏≠Èó¥Ë°®Êù•ÊåÅ‰πÖÂåñStudent ÂÆû‰æãÂíå ClassÂÆû‰æã‰πãÈó¥ÁöÑÂÖ≥ËÅîÔºåÂõ†‰∏∫Â¶ÇÊûúÊ≤°ÊúâÂè¶‰∏ÄÂº†Ë°®ÊòØÊ≤°ÂäûÊ≥ïÂÆûÁé∞ÁöÑ„ÄÇÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºå‰∏∫‰∫ÜËÆ©SQLAlchemyÁü•ÈÅì‰∏≠Èó¥Ë°®ÁöÑÂ≠òÂú®ÔºåÊàë‰ª¨Â∞ÜÂÆÉ‰º†ÈÄíÁªôrelationshipÂáΩÊï∞ÁöÑsecondaryÂèÇÊï∞„ÄÇ The above code snippets show just a subset of the mapping options supported by SQLAlchemy. In the following sections, we are going to take a more in-depth look into each one of the available relationship patterns. Besides that, the official documentation is a great reference to learn more about relationship patterns on SQLAlchemy. SQLAlchemy ORM CascadeWhenever rows in a particular table are updated or deleted, rows in other tables might need to suffer changes as well. These changes can be simple updates, which are called cascade updates, or full deletes, known as cascade deletes. For example, let‚Äôs say that we have a table called shopping_carts, a table called products, and a third one called shopping_carts_products that connects the first two tables. If, for some reason, we need to delete rows from shopping_carts we will need to delete the related rows from shopping_carts_products as well. Otherwise we will end up with a lot of garbage and unfulfilled references in our database. ‰ªª‰ΩïÊó∂ÂÄôÔºåÊüê‰∏™Ë°®‰∏≠ÁöÑË°åË¢´Êõ¥Êñ∞‰∫ÜÊàñËÄÖÂà†Èô§ÔºåÂÖ∂‰ªñË°®Ê†º‰∏≠ÁöÑË°å‰πüÂ∫îËØ•Ë¶ÅÊúâÁõ∏Â∫îÁöÑÂèòÂä®„ÄÇËøô‰∫õÂèòÂåñÂèØ‰ª•ÊòØÁÆÄÂçïÁöÑÊõ¥Êñ∞ÔºåÁß∞‰∏∫Á∫ßËÅîÊõ¥Êñ∞Ôºå‰πüÂèØ‰ª•ÊòØÂÆåÂÖ®Âà†Èô§ÔºåÁß∞‰∏∫Á∫ßËÅîÂà†Èô§„ÄÇ‰æãÂ¶ÇÔºåÂÅáËÆæÊàë‰ª¨Êúâ‰∏âÂº†Ë°®ÔºåÂàÜÂà´ÊòØshopping_cartsË°®„ÄÅproductsË°®Âíåshopping_carts_productsË°®ÔºåÁ¨¨‰∏âÂº†Ë°®ÊòØÁî®Êù•ËøûÊé•Ââç‰∏§Âº†Ë°®ÁöÑ„ÄÇÂ¶ÇÊûúÔºåÂõ†‰∏∫Êüê‰∫õÂéüÂõ†ÔºåÊàë‰ª¨‰ªéshopping_cartsË°®‰∏≠Âà†Èô§‰∏Ä‰∫õË°åÔºåÊàë‰ª¨ÂêåÊ†∑ÈúÄË¶ÅÂú®shopping_carts_productsË°®Âà†Èô§‰∏é‰πãÁõ∏ÂÖ≥ÁöÑË°å„ÄÇÂê¶ÂàôÔºåÊàë‰ª¨ÁöÑÊï∞ÊçÆÂ∫ìÂèØËÉΩ‰ºöÊúâÂ§ßÈáèÂûÉÂúæÊàñËÄÖÊú™ÂÆåÊàêÁöÑÂºïÁî®„ÄÇ To make this kind of operation easy to maintain, SQLAlchemy ORM enables developers to map cascade behavior when using relationship() constructs. Like that, when operations are performed on parent objects, child objects get updated/deleted as well. The following list provides a brief explanation of the most used cascade strategies on SQLAlchemy ORM: ‰∏∫‰∫ÜËÆ©ËøôÁ±ªÊìç‰ΩúÊõ¥ÊòìÁª¥Êä§ÔºåSQLAlchemy ORMÂÖÅËÆ∏ÂºÄÂèëËÄÖÈÄöËøárelationship()Êù•Êò†Â∞ÑÁ∫ßËÅîË°å‰∏∫„ÄÇËøôÊ†∑‰∏ÄÊù•ÔºåÂú®Áà∂Á±ª‰∏äÁöÑÊìç‰ΩúÁîüÊïàÂêéÔºåÂ≠êÁ±ª‰πü‰ºöË∑üÁùÄÊõ¥Êñ∞/Âà†Èô§„ÄÇ‰ª•‰∏ãÂàóË°®ÁÆÄË¶ÅËØ¥Êòé‰∫ÜSQLAlchemy ORM‰∏äÊúÄÂ∏∏Áî®ÁöÑÁ∫ßËÅîÁ≠ñÁï•Ôºö save-update: Indicates that when a parent object is saved/updated, child objects are saved/updated as well. ÂΩìÁà∂ÂØπË±°‰øùÂ≠ò/Êõ¥Êñ∞Êó∂ÔºåÂ≠êÂØπË±°‰πü‰ºöË∑üÁùÄ‰øùÂ≠ò/Êõ¥Êñ∞ delete: Indicates that when a parent object is deleted, children of this object will be deleted as well. ÂΩìÁà∂ÂØπË±°Ë¢´Âà†Èô§Êó∂ÔºåËØ•ÂØπË±°ÁöÑÂêé‰ª£‰πü‰ºöË¢´Âà†Èô§ delete-orphan: Indicates that when a child object loses reference to a parent, it will get deleted. ÂΩìÂ≠êÂØπË±°Â§±ÂéªÂØπÁà∂ÂØπË±°ÁöÑÂºïÁî®Êó∂ÔºåÂ∞±‰ºöË¢´Âà†Èô§ merge: Indicates that merge() operations propagate from parent to children. merge()Êìç‰Ωú‰ªéÁà∂Á∫ß‰º†Êí≠Âà∞Â≠êÁ∫ß If more information about this feature is needed, the SQLAlchemy documentation provides an excellent chapter about Cascades. SQLAlchemy SessionsSessions, on SQLAlchemy ORM, are the implementation of the Unit of Workdesign pattern. As explained by Martin Fowler, a Unit of Work is used to maintain a list of objects affected by a business transaction and to coordinate the writing out of these changes. This means that all modifications tracked by Sessions (Units of Works) will be applied to the underlying database together, or none of them will. In other words, Sessions are used to guarantee the database consistency. The official SQLAlchemy ORM documentation about Sessions gives a great explanation how changes are tracked, how to get sessions, and how to create ad-hoc sessions. However, in this article, we will use the most basic form of session creation: 1234567891011from sqlalchemy import create_enginefrom sqlalchemy.orm import sessionmaker# create an engineengine = create_engine('postgresql://usr:pass@localhost:5432/sqlalchemy')# create a configured "Session" classSession = sessionmaker(bind=engine)# create a Sessionsession = Session() As we can see from the code snippet above, we only need one step to get sessions. We need to create a session factory that is bound to the SQLAlchemy engine. After that, we can just issue calls to this session factory to get our sessions. SQLAlchemy in PracticeNow that we got a better understanding of the most important pieces of SQLAlchemy, it‚Äôs time to start practicing it. In the following sections, we will create a small project based on pipenv‚Äîa Python dependency manager‚Äîand add some classes to it. Then we will map these classes to tables persisted to a PostgreSQL database and learn how to query data. Starting the Tutorial ProjectTo create our tutorial project, we have to have Python installed on our machine and pipenv installed as a global Python package. The following commands will install pipenv and set up the project. These commands are dependent on Python, so be sure to have it installed before proceeding: 1234567891011# install pipenv globallypip install pipenv# create a new directory for our projectmkdir sqlalchemy-tutorial# change working directory to itcd sqlalchemy-tutorial# create a Python 3 projectpipenv --three Running PostgreSQLTo be able to practice our new skills and to learn how to query data on SQLAlchemy, we will need a database to support our examples. As already mentioned, SQLAlchemy provides support for many different databases engines, but the instructions that follow will focus on PostgreSQL. There are many ways to get an instance of PostgreSQL. One of them is to use some cloud provider like Heroku or ElephantSQL (both of them have free tiers). Another possibility is to install PostgreSQL locally on our current environment. A third option is to run a PostgreSQL instance inside a Docker container. The third option is probably the best choice because it has the performance of an instance running locally, it‚Äôs free forever, and because it‚Äôs easy to create and destroy Docker instances. The only (small) disadvantage is that we need to install Docker locally. After having Docker installed, we can create and destroy dockerized PostgreSQL instances with the following commands: 12345678910111213# create a PostgreSQL instancedocker run --name sqlalchemy-orm-psql \ -e POSTGRES_PASSWORD=pass \ -e POSTGRES_USER=usr \ -e POSTGRES_DB=sqlalchemy \ -p 5432:5432 \ -d postgres# stop instancedocker stop sqlalchemy-orm-psql# destroy instancedocker rm sqlalchemy-orm-psql The first command, the one that creates the PostgreSQL instance, contains a few parameters that are worth inspecting: --name: Defines the name of the Docker instance. -e POSTGRES_PASSWORD: Defines the password to connect to PostgreSQL. -e POSTGRES_USER: Defines the user to connect to PostgreSQL. -e POSTGRES_DB: Defines the main (and only) database available in the PostgreSQL instance. -p 5432:5432: Defines that the local 5432 port will tunnel connections to the same port in the Docker instance. -d postgres: Defines that this Docker instance will be created based on the official PostgreSQL repository. Installing SQLAlchemy DependenciesIn this tutorial, we will need to install only two packages: sqlalchemy and psycopg2. The first dependency refers to SQLAlchemy itself and the second one, psycopg2, is the PostgreSQL driver that SQLAlchemy will use to communicate with the database. To install these dependencies, we will use pipenv as shown: 12# install sqlalchemy and psycopg2pipenv install sqlalchemy psycopg2 This command will download both libraries and make them available in our Python virtual environment. Note that to run the scripts that we are going to create, we first need to spawn the virtual environment shell. That is, before executing python somescript.py, we need to execute pipenv shell. Otherwise, Python won‚Äôt be able to find the installed dependencies, as they are just available in our new virtual environment. Mapping Classes with SQLAlchemyAfter starting the dockerized PostgreSQL instance and installing the Python dependencies, we can begin to map Python classes to database tables. In this tutorial, we will map four simple classes that represent movies, actors, stuntmen, and contact details. The following diagram illustrates these entities‚Äô characteristics and their relations. To start, we will create a file called base.py in the main directory of our project and add the following code to it: 12345678910# coding=utf-8from sqlalchemy import create_enginefrom sqlalchemy.ext.declarative import declarative_basefrom sqlalchemy.orm import sessionmakerengine = create_engine('postgresql://usr:pass@localhost:5432/sqlalchemy')Session = sessionmaker(bind=engine)Base = declarative_base() This code creates: a SQLAlchemy Engine that will interact with our dockerized PostgreSQL database, a SQLAlchemy ORM session factory bound to this engine, and a base class for our classes definitions. Now let‚Äôs create and map the Movie class. To do this, let‚Äôs create a new file called movie.py and add the following code to it: 1234567891011121314151617# coding=utf-8from sqlalchemy import Column, String, Integer, Datefrom base import Baseclass Movie(Base): __tablename__ = 'movies' id = Column(Integer, primary_key=True) title = Column(String) release_date = Column(Date) def __init__(self, title, release_date): self.title = title self.release_date = release_date The definition of this class and its mapping characteristics is quite simple. We start by making this class extend the Base class defined in the base.pymodule and then we add four properties to it: A __tablename__ to indicate what is the name of the table that will support this class. An id to represent the primary key in the table. A title of type String. A release_date of type Date. The next class that we will create and map is the Actor class. Let‚Äôs create a file called actor.py and add the following code to it: 1234567891011121314151617# coding=utf-8from sqlalchemy import Column, String, Integer, Datefrom base import Baseclass Actor(Base): __tablename__ = 'actors' id = Column(Integer, primary_key=True) name = Column(String) birthday = Column(Date) def __init__(self, name, birthday): self.name = name self.birthday = birthday The definition of this class is pretty similar to the previous one. The differences are that the Actor has a name instead of a title, a birthday instead of a release_date, and that it points to a table called actors instead of movies. As many movies can have many actors and vice-versa, we will need to create a Many To Many relationship between these two classes. Let‚Äôs create this relationship by updating the movie.py file as follows: 12345678910111213141516171819202122232425# coding=utf-8from sqlalchemy import Column, String, Integer, Date, Table, ForeignKeyfrom sqlalchemy.orm import relationshipfrom base import Basemovies_actors_association = Table( 'movies_actors', Base.metadata, Column('movie_id', Integer, ForeignKey('movies.id')), Column('actor_id', Integer, ForeignKey('actors.id')))class Movie(Base): __tablename__ = 'movies' id = Column(Integer, primary_key=True) title = Column(String) release_date = Column(Date) actors = relationship("Actor", secondary=movies_actors_association) def __init__(self, title, release_date): self.title = title self.release_date = release_date The difference between this version and the previous one is that: we imported three new entities: Table, ForeignKey, and relationship; we created a movies_actors_association table that connects rows of actors and rows of movies; and we added the actors property to Movie and configured the movies_actors_association as the intermediary table. The next class that we will create is Stuntman. In our tutorial, a particular Actor will have only one Stuntman and this Stuntman will work only with this Actor. This means that we need to create the Stuntman class and a One To One relationship between these classes. To accomplish that, let‚Äôs create a file called stuntman.py and add the following code to it: 123456789101112131415161718192021# coding=utf-8from sqlalchemy import Column, String, Integer, Boolean, ForeignKeyfrom sqlalchemy.orm import relationship, backreffrom base import Baseclass Stuntman(Base): __tablename__ = 'stuntmen' id = Column(Integer, primary_key=True) name = Column(String) active = Column(Boolean) actor_id = Column(Integer, ForeignKey('actors.id')) actor = relationship("Actor", backref=backref("stuntman", uselist=False)) def __init__(self, name, active, actor): self.name = name self.active = active self.actor = actor In this class, we have defined that the actor property references an instance of Actor and that this actor will get a property called stuntman that is not a list (uselist=False). That is, whenever we load an instance of Stuntman, SQLAlchemy will also load and populate the Actor associated with this stuntman. The fourth and final class that we will map in our tutorial is ContactDetails. Instances of this class will hold a phone_number and an address of a particular Actor, and one Actor will be able to have many ContactDetails associated. Therefore, we will need to use the Many To One relationship pattern to map this association. To create this class and this association, let‚Äôs create a file called contact_details.py and add the following source code to it: 123456789101112131415161718192021# coding=utf-8from sqlalchemy import Column, String, Integer, ForeignKeyfrom sqlalchemy.orm import relationshipfrom base import Baseclass ContactDetails(Base): __tablename__ = 'contact_details' id = Column(Integer, primary_key=True) phone_number = Column(String) address = Column(String) actor_id = Column(Integer, ForeignKey('actors.id')) actor = relationship("Actor", backref="contact_details") def __init__(self, phone_number, address, actor): self.phone_number = phone_number self.address = address self.actor = actor As we can see, creating a Many To One association is kinda similar to creating a One To One association. The difference is that in the latter we instructed SQLAlchemy not to use lists. This instruction ends up restricting the association to a single instance instead of a list of instances. Persisting Data with SQLAlchemy ORMNow that we have created our classes, let‚Äôs create a file called inserts.py and generate some instances of these classes to persist to the database. In this file, let‚Äôs add the following code: 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960# coding=utf-8# 1 - importsfrom datetime import datefrom actor import Actorfrom base import Session, engine, Basefrom contact_details import ContactDetailsfrom movie import Moviefrom stuntman import Stuntman# 2 - generate database schemaBase.metadata.create_all(engine)# 3 - create a new sessionsession = Session()# 4 - create moviesbourne_identity = Movie("The Bourne Identity", date(2002, 10, 11))furious_7 = Movie("Furious 7", date(2015, 4, 2))pain_and_gain = Movie("Pain &amp; Gain", date(2013, 8, 23))# 5 - creates actorsmatt_damon = Actor("Matt Damon", date(1970, 10, 8))dwayne_johnson = Actor("Dwayne Johnson", date(1972, 5, 2))mark_wahlberg = Actor("Mark Wahlberg", date(1971, 6, 5))# 6 - add actors to moviesbourne_identity.actors = [matt_damon]furious_7.actors = [dwayne_johnson]pain_and_gain.actors = [dwayne_johnson, mark_wahlberg]# 7 - add contact details to actorsmatt_contact = ContactDetails("415 555 2671", "Burbank, CA", matt_damon)dwayne_contact = ContactDetails("423 555 5623", "Glendale, CA", dwayne_johnson)dwayne_contact_2 = ContactDetails("421 444 2323", "West Hollywood, CA", dwayne_johnson)mark_contact = ContactDetails("421 333 9428", "Glendale, CA", mark_wahlberg)# 8 - create stuntmenmatt_stuntman = Stuntman("John Doe", True, matt_damon)dwayne_stuntman = Stuntman("John Roe", True, dwayne_johnson)mark_stuntman = Stuntman("Richard Roe", True, mark_wahlberg)# 9 - persists datasession.add(bourne_identity)session.add(furious_7)session.add(pain_and_gain)session.add(matt_contact)session.add(dwayne_contact)session.add(dwayne_contact_2)session.add(mark_contact)session.add(matt_stuntman)session.add(dwayne_stuntman)session.add(mark_stuntman)# 10 - commit and close sessionsession.commit()session.close() This code is split into 10 sections. Let‚Äôs inspect them: The first section imports the classes that we created, the SQLAlchemy engine, the Base class, the session factory, and date from the datetimemodule. The second section instructs SQLAlchemy to generate the database schema. This generation occurs based on the declarations that we made while creating the four main classes that compose our tutorial. The third section extracts a new session from the session factory. The fourth section creates three instances of the Movie class. The fifth section creates three instances of the Actor class. The sixth section adds actors to movies. Note that the Pain &amp; Gain movie references two actors: Dwayne Johnson and Mark Wahlberg. The seventh section creates instances of the ContactDetails class and defines what actors these instances are associated to. The eighth section defines three stuntmen and also defines what actors these stuntmen are associated to. The ninth section uses the current session to save the movies, actors, contact details, and stuntmen created. Note that we haven‚Äôt explicitly saved actors. This is not needed because SQLAlchemy, by default, uses the save-update cascade strategy. The tenth section commits the current session to the database and closes it. To run this Python script, we can simply issue the python inserts.pycommand (let‚Äôs not to run pipenv shell first) in the main directory of our database. Running it will create five tables in the PostgreSQL database and populate these tables with the data that we created. In the next section, we will learn how to query these tables. Querying Data with SQLAlchemy ORMAs we will see, querying data with SQLAlchemy ORM is quite simple. This library provides an intuitive, fluent API that enables developers to write queries that are easy to read and to maintain. On SQLAlchemy ORM, all queries start with a Query Object that is extracted from the current session and that is associated with a particular mapped class. To see this API in action, let‚Äôs create a file called queries.py and add to it the following source code: 12345678910111213141516171819# coding=utf-8# 1 - importsfrom actor import Actorfrom base import Sessionfrom contact_details import ContactDetailsfrom movie import Movie# 2 - extract a sessionsession = Session()# 3 - extract all moviesmovies = session.query(Movie).all()# 4 - print movies' detailsprint('\n### All movies:')for movie in movies: print(f'&#123;movie.title&#125; was released on &#123;movie.release_date&#125;')print('') The code snippet above‚Äîthat can be run with python queries.py,‚Äîshows how easy it is to use SQLAlchemy ORM to query data. To retrieve all movies from the database, we just needed to fetch a session from the session factory, use it to get a query associated with Movie, and then call the all() function on this query object. The Query API provides dozens of useful functions like all(). In the following list, we can see a brief explanation about the most important ones: count(): Returns the total number of rows of a query. filter(): Filters the query by applying a criteria. delete(): Removes from the database the rows matched by a query. distinct(): Applies a distinct statement to a query. exists(): Adds an exists operator to a subquery. first(): Returns the first row in a query. get(): Returns the row referenced by the primary key parameter passed as argument. join(): Creates a SQL join in a query. limit(): Limits the number of rows returned by a query. order_by(): Sets an order in the rows returned by a query. To explore the usage of some of these functions, let‚Äôs append the following code to the queries.py script: 123456789101112131415161718192021222324252627282930313233343536# 1 - importsfrom datetime import date# other imports and sections...# 5 - get movies after 15-01-01movies = session.query(Movie) \ .filter(Movie.release_date &gt; date(2015, 1, 1)) \ .all()print('### Recent movies:')for movie in movies: print(f'&#123;movie.title&#125; was released after 2015')print('')# 6 - movies that Dwayne Johnson participatedthe_rock_movies = session.query(Movie) \ .join(Actor, Movie.actors) \ .filter(Actor.name == 'Dwayne Johnson') \ .all()print('### Dwayne Johnson movies:')for movie in the_rock_movies: print(f'The Rock starred in &#123;movie.title&#125;')print('')# 7 - get actors that have house in Glendaleglendale_stars = session.query(Actor) \ .join(ContactDetails) \ .filter(ContactDetails.address.ilike('%glendale%')) \ .all()print('### Actors that live in Glendale:')for actor in glendale_stars: print(f'&#123;actor.name&#125; has a house in Glendale')print('') The fifth section of the updated script uses the filter() function to fetch only movies that were released after January the first, 2015. The sixth section shows how to use join() to fetch instances of Movie that the Actor Dwayne Johnson participated in. The seventh and last section, shows the usage of join() and ilike() functions to retrieve actors that have houses in Glendale. Running the new version of the script (python queries.py) now will result in the following output: 123456789101112131415### All movies:The Bourne Identity was released on 2002-10-11Furious 7 was released on 2015-04-02No Pain No Gain was released on 2013-08-23### Recent movies:Furious 7 was released after 2015### Dwayne Johnson movies:The Rock starred in No Pain No GainThe Rock starred in Furious 7### Actors that live in Glendale:Dwayne Johnson has a house in GlendaleMark Wahlberg has a house in Glendale As we can see, using the API is straightforward and generates a code that is readable. To see other functions supported by the Query API, and their description, take a look at the official documentation. ‚ÄúQuerying data with SQLAlchemy ORM is easy and intuitive.‚ÄùTWEET THIS Securing Python APIs with Auth0Securing Python APIs with Auth0 is very easy and brings a lot of great features to the table. With Auth0, we only have to write a few lines of code to get: A solid identity management solution, including single sign-on User management Support for social identity providers (like Facebook, GitHub, Twitter, etc.) Enterprise identity providers (Active Directory, LDAP, SAML, etc.) Our own database of users For example, to secure Python APIs written with Flask, we can simply create a requires_auth decorator: 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677# Format error response and append status codedef get_token_auth_header(): """Obtains the access token from the Authorization Header """ auth = request.headers.get("Authorization", None) if not auth: raise AuthError(&#123;"code": "authorization_header_missing", "description": "Authorization header is expected"&#125;, 401) parts = auth.split() if parts[0].lower() != "bearer": raise AuthError(&#123;"code": "invalid_header", "description": "Authorization header must start with" " Bearer"&#125;, 401) elif len(parts) == 1: raise AuthError(&#123;"code": "invalid_header", "description": "Token not found"&#125;, 401) elif len(parts) &gt; 2: raise AuthError(&#123;"code": "invalid_header", "description": "Authorization header must be" " Bearer token"&#125;, 401) token = parts[1] return tokendef requires_auth(f): """Determines if the access token is valid """ @wraps(f) def decorated(*args, **kwargs): token = get_token_auth_header() jsonurl = urlopen("https://"+AUTH0_DOMAIN+"/.well-known/jwks.json") jwks = json.loads(jsonurl.read()) unverified_header = jwt.get_unverified_header(token) rsa_key = &#123;&#125; for key in jwks["keys"]: if key["kid"] == unverified_header["kid"]: rsa_key = &#123; "kty": key["kty"], "kid": key["kid"], "use": key["use"], "n": key["n"], "e": key["e"] &#125; if rsa_key: try: payload = jwt.decode( token, rsa_key, algorithms=ALGORITHMS, audience=API_AUDIENCE, issuer="https://"+AUTH0_DOMAIN+"/" ) except jwt.ExpiredSignatureError: raise AuthError(&#123;"code": "token_expired", "description": "token is expired"&#125;, 401) except jwt.JWTClaimsError: raise AuthError(&#123;"code": "invalid_claims", "description": "incorrect claims," "please check the audience and issuer"&#125;, 401) except Exception: raise AuthError(&#123;"code": "invalid_header", "description": "Unable to parse authentication" " token."&#125;, 400) _app_ctx_stack.top.current_user = payload return f(*args, **kwargs) raise AuthError(&#123;"code": "invalid_header", "description": "Unable to find appropriate key"&#125;, 400) return decorated Then use it in our endpoints: 1234567891011121314# Controllers API# This doesn't need authentication@app.route("/ping")@cross_origin(headers=['Content-Type', 'Authorization'])def ping(): return "All good. You don't need to be authenticated to call this"# This does need authentication@app.route("/secured/ping")@cross_origin(headers=['Content-Type', 'Authorization'])@requires_authdef secured_ping(): return "All good. You only get this message if you're authenticated" To learn more about securing Python APIs with Auth0, take a look at this tutorial. Alongside with tutorials for backend technologies (like Python, Java, and PHP), the Auth0 Docs webpage also provides tutorials for Mobile/Native appsand Single-Page applications. Next StepsWe have covered a lot of ground in this article. We‚Äôve learned about basic SQLAlchemy concepts like Engines, Connection Pools, and Dialects. After that, we‚Äôve learned about how SQLAlchemy addresses ORM topics like Relationship Patterns, Cascade strategies, and the Query API. In the end, we applied this knowledge in a small exercise. In summary, we had the chance to learn and practice the most important pieces of SQLAlchemy and SQLAlchemy ORM. In the next article, we are going to use these new skills to implement RESTful APIs with Flask‚Äîthe Python microframework for the web. Stay tuned!]]></content>
      <categories>
        <category>Êï∞ÊçÆÂ∫ì</category>
      </categories>
      <tags>
        <tag>sqlalchemy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[requestsËá™ÂÆö‰πâretries]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F17%2Frequests%E8%87%AA%E5%AE%9A%E4%B9%89retries%2F</url>
    <content type="text"><![CDATA[ÊúâÊó∂ÂÄôÂú®ÂèëËµ∑ËØ∑Ê±ÇÊó∂‰ºöÂõ†‰∏∫ÁΩëÁªúÂéüÂõ†ËÄåÂØºËá¥ËØ∑Ê±ÇÂ§±Ë¥•ÔºåÊÄªÊòØÈÄöËøáÊçïËé∑ÈîôËØØÊù•Â§ÑÁêÜ‰πüÊòØÊå∫ÁÉ¶ÁöÑ„ÄÇÂú®ÁΩë‰∏äÊêúÁ¥¢‰∫Ü‰∏ÄÁï™ÔºåÊâæÂà∞Ëøô‰πà‰∏™ÊñπÊ≥ïÔºåÊå∫‰∏çÈîôÁöÑÔºåÊâÄ‰ª•Âú®Ê≠§Âü∫Á°Ä‰∏äËøõË°å‰∫Ü‰øÆÊîπ„ÄÇ 123456789101112131415161718192021222324252627282930313233343536import requestsfrom requests.adapters import HTTPAdapterfrom urllib3.util.retry import Retrybase_header = &#123; 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36',&#125;def request_retry_session(retries=3, backoff_factor=0.3, status_forcelist=(500, 502, 504), session=None): """ÈÅáÂà∞ÁΩëÁªúÈóÆÈ¢òÊúÄÂ§öÈáçËØï‰∏âÊ¨°""" session = session or requests.session() retry = Retry(total=retries, backoff_factor=backoff_factor, status_forcelist=status_forcelist) adapter = HTTPAdapter(max_retries=retry) session.mount('http', adapter=adapter) session.mount('https', adapter=adapter) return sessiondef get_page(url, method='get', params=None, options=&#123;&#125;): """ËØ∑Ê±ÇÈ°µÈù¢""" headers = dict(base_header, **options) session = request_retry_session() print('Ê≠£Âú®ÊäìÂèñÔºö', url) try: if method == 'get': response = session.get(url, params=params, headers=headers) elif method == 'post': response = session.post(url, data=params, headers=headers) if response.status_code == 200: return response except Exception as e: print('ÁΩëÈ°µËØ∑Ê±ÇÂ§±Ë¥•: ', e) return None ‰ΩøÁî®ÁöÑÊó∂ÂÄôÔºå‰πüÊòØÂæàÁÆÄÂçïÁöÑ 123url = 'https://httpbin.org/post'html = get_page(url, method='post', params=&#123;'name': 'me'&#125;)print(html.text) Done!]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>requests</tag>
        <tag>retry</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonÂ§ÑÁêÜÂ§ö‰∏™sheet]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F17%2Fpython%E5%A4%84%E7%90%86%E5%A4%9A%E4%B8%AAsheet%2F</url>
    <content type="text"><![CDATA[‰ΩøÁî®pythonÂ§ÑÁêÜexcelË°®‰∏≠Â§ö‰∏™sheetÁöÑÊï∞ÊçÆÊó∂ÔºåÂèØ‰ª•‰ΩøÁî®xlrdËØªÂèñÊï∞ÊçÆ„ÄÇ 12345678910111213141516171819import pandas as pdimport xlrdfrom pandas import DataFramefile = '‰∏¥Êó∂Ë°®.xls'# Â§ÑÁêÜÊï∞ÊçÆÔºåÂêàÂπ∂Â§ö‰∏™sheetÔºåÂêåÊó∂ÂéªÈô§Ê∞îÂåñÁéá‰∏∫Á©∫ÁöÑrowwb = xlrd.open_workbook(file)# Ëé∑ÂèñÂÖ®ÈÉ®ÁöÑÂ∑•‰ΩúÁ∞øsheets = wb.sheets()df = DataFrame()# ‰ªéÁ¨¨10‰∏™sheetÂºÄÂßãÂêàÂπ∂for i in range(10, len(sheets)): # header=1ÔºåÈÇ£‰πàÊï∞ÊçÆ‰ºö‰ªéÁ¨¨‰∫åË°åÂºÄÂßãËØªÂèñ temp_df = pd.read_excel(file, sheet_name=i, header=1, index=False) # how='all'ÔºöÂè™Ë¶ÅÂ≠òÂú®Êï∞ÊçÆ‰∏∫Á©∫ÁöÑË°åÈÉΩÂà†Èô§ÔºåËøòÊúâÂÖ∂‰ªñÁöÑÊñπÊ≥ï dropna_df = temp_df.dropna(how='all')[:-2] df = df.append(dropna_df)df.head()]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>excel</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÈÄöËøáÁªèÁ∫¨Â∫¶Ëé∑ÂèñËØ¶ÁªÜÂú∞ÂùÄ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F14%2F%E9%80%9A%E8%BF%87%E7%BB%8F%E7%BA%AC%E5%BA%A6%E8%8E%B7%E5%8F%96%E8%AF%A6%E7%BB%86%E5%9C%B0%E5%9D%80%2F</url>
    <content type="text"><![CDATA[Â¶ÇÈ¢òÔºåÊÉ≥Ë¶ÅÈÄöËøáÁªèÁ∫¨Â∫¶Áü•ÈÅìÈôÑËøëÈÉΩÊúâÂì™‰∫õÂú∞ÁÇπÔºåËøô‰∏™ÂèØ‰ª•ÈÄöËøáÈ´òÂæ∑Âú∞ÂõæÊèê‰æõÁöÑÂú∞ÁêÜÈÄÜÂú∞ÁêÜÁºñÁ†ÅAPIÂíåshapelyÂ∫ìÊù•Ëé∑ÂèñÊï∞ÊçÆ„ÄÇ‰∏çÂºÄÂøÉÁöÑÊòØÔºåÂÖ∂ÂÆûÈ´òÂæ∑Âú∞ÂõæÈÉΩÊèê‰æõ‰∫ÜÂêàÈÄÇÁöÑÁ´ØÂè£ÂèØ‰ª•Áõ¥Êé•ÊãøÂà∞Êï∞ÊçÆÔºåÁúºÁûéÊ≤°ÁúãÂà∞ÔºåÂìéÔΩû‰∏çËøá‰∫ÜËß£Âà∞ÂÖ∂‰ªñÁöÑÁü•ËØÜ‰πüÊòØÂæàÂºÄÂøÉÁöÑ Áî≥ËØ∑keyË¶Å‰ΩøÁî®È´òÂæ∑Âú∞ÂõæÁöÑÂºÄÊîæÂπ≥Âè∞ÔºåÈúÄË¶ÅÂÖàÁî≥ËØ∑key„ÄÇ Â∫îÁî®ÁÆ°ÁêÜ-&gt;ÂàõÂª∫Êñ∞Â∫îÁî®-&gt;Â°´ÂÜôÂ∫îÁî®Áõ∏ÂÖ≥‰ø°ÊÅØÔºåÂåÖÊã¨Â∫îÁî®ÂêçÁß∞„ÄÅÁî®ÈÄîÔºàÈôêÂà∂‰∫ÜurlÈìæÊé•ÁöÑÂèØ‰ΩøÁî®ËåÉÂõ¥Ôºâ„ÄÇ Ëé∑ÂèñÂú∞ÂõæËæπÁïåÂ¶ÇÊûúÊòØÈúÄË¶ÅÊï¥‰∏™ÂüéÂ∏ÇÊàñËÄÖÂå∫ÁöÑÁöÑËæπÁïåÔºåÈ´òÂæ∑Âú∞ÂõæÊúâAPIÂèØ‰ª•Áõ¥Êé•Ë∞ÉÁî®„ÄÇÂ¶ÇÊûúÊòØÈúÄË¶ÅÊüêÂùóÂå∫ÂüüÔºåÂèØ‰ª•‰ΩøÁî®È´òÂæ∑Âú∞ÂõæÁöÑÂùêÊ†áÊãæÂèñÂô®Ôºå‰πüÈùûÂ∏∏Êñπ‰æø„ÄÇ Âú®ÊµèËßàÂô®ÊâìÂºÄÈ´òÂæ∑Âú∞Âõæ-&gt;ÈÄâÊã©Â∫ïÈÉ®ÁöÑ‚ÄúÂºÄÊîæÂπ≥Âè∞‚Äù-&gt;ËøõÂÖ•ÂºÄÊîæÂπ≥Âè∞Âêé-&gt;ÈÄâÊã©‚ÄùÂú∞ÂõæÂ∑•ÂÖ∑‚Äù-&gt;ÈÄâÊã©‚ÄùÂùêÊ†áÊãæÂèñÂô®‚ÄùÔºåÁÑ∂ÂêéÂ∞±ÂèØ‰ª•Âú®ÂùêÊ†á‰∏äÊ†πÊçÆÂÆûÈôÖÈúÄÊ±ÇÈÄâÊã©ËåÉÂõ¥Âπ∂Ëé∑ÂæóÂØπÂ∫îÁöÑÂùêÊ†á„ÄÇ ÊØîÂ¶ÇÊúâËøôÊ†∑‰∏ÄÂº†ÂõæÈúÄË¶ÅËé∑ÂèñËæπÁïåÔºåÂ∞±ÂèØ‰ª•Â§ßÊ¶ÇÂØπÊØîÁùÄÊù•ÁÇπÁÇπÁÇπÂï¶ÔºÅ 123456789101112# ÊãøÂà∞ÁöÑËæπÁïåÂùêÊ†áÂÄºorigin_points = [(110.987984, 21.506764), (110.990366, 21.514026), (110.993027, 21.530474), (110.999378, 21.535085), (110.998027, 21.540195), (111.01324, 21.542869), (111.025149, 21.543069), (111.026286, 21.535843), (111.035492, 21.524246), (111.01309, 21.499532), (111.005751, 21.491027), (110.995752, 21.494741), (110.987984, 21.506764)]# Â§ÑÁêÜÊï∞ÊçÆorigin_points = list(map(lambda x: (int(x[0] * 1000000), int(x[1] * 1000000)), origin_points))max_long = max([a[0] for a in origin_points])min_long = min([a[0] for a in origin_points])max_lat = max([a[1] for a in origin_points])min_lat = min([a[1] for a in origin_points]) ÊïàÊûúÂ¶Ç‰∏ãÔºö Ëé∑ÂèñÁ¨¶ÂêàÊù°‰ª∂ÁöÑÂùêÊ†áÁÇπ Âõ†‰∏∫Ë¶ÅÊäìÂèñÁöÑÂå∫ÂüüÊØîËæÉÂ∞èÔºåÊâÄ‰ª•ÊØè‰∏™ÁÇπ‰πãÈó¥ÁöÑË∑ùÁ¶ª‰πüÂ∞ΩÂèØËÉΩÁöÑÂ∞èÔºå‰∏çËøáËøôÊ†∑ÊãøÂà∞ÁöÑÊï∞ÊçÆÂ∞±‰ºöÊúâÂæàÂ§öÈáçÂ§çÁöÑ„ÄÇÂÖ≥‰∫éËøô‰∏ÄÂùóÁöÑËÆ°ÁÆóÊòØÂèÇËÄÉLÂêåÂ≠¶_ÁöÑ„ÄÇ 123456789101112131415# Ëé∑ÂèñÊâÄÊúâÂèØËÉΩÁöÑÂùêÊ†áÁÇπ# Á∫¨Â∫¶1Â∫¶‰∏∫111.3195kmÔºåÁªèÂ∫¶1Â∫¶ÊòØ111.319x(cos 0)„ÄÇÊØèÈöî1kÁ±≥Âèñ‰∏Ä‰∏™ÁÇπÔºåÈÇ£‰πà‰ªªÊÑè‰∏§‰∏™Âú∞ÁÇπ‰πãÈó¥ÁöÑÊúÄÂ§ßË∑ùÁ¶ª‰∏∫2kmÔºå# ‰πüÂ∞±ÊòØÊ≠£ÊñπÂΩ¢ÂØπËßíÁ∫øÁöÑË∑ùÁ¶ªÂøÖÈ°ªÂ∞è‰∫éÁ≠â‰∫é2„ÄÇÊ†πÊçÆÂãæËÇ°ÂÆöÁêÜÂæóÂà∞x=1.414214kmÔºåÊúâÂÖ≠‰ΩçÂ∞èÊï∞ÔºåÊâÄ‰ª•Âèñ1414214x = 100000 # Êï∞ÊçÆÈáèÂ§™Â∞ëÔºåÂèñ‰∏™100Á±≥Âêßt = round(111.319 * cos(21 / 180 * pi), 4) # ‰ª•ÁîµÁôΩÂå∫‰∏≠ÂøÉÊù•ËÆ°ÁÆóÁªèÁ∫¨Â∫¶Ôºå‰πüÂ∞±ÊòØÁªèÂ∫¶1Â∫¶ÂØπÂ∫îÁöÑÈïøÂ∫¶103.925239kmg = round((max_long - min_long) * t / x) # ËØ•Âú∞Âå∫ÊÄªÁ∫¨Â∫¶Â∑ÆÂèØ‰ª•ÂàíÂàÜ‰∏∫Âá†‰∏™Êï∞ÊçÆÁÇπg1 = [round(min_long + i * x / t) for i in range(g)]h = round((max_lat - min_lat) * 111.3195 / x)h1 = [round(min_lat + i * x / t) for i in range(h)]coords = []while g1: g11 = g1.pop() for j in h1: coords.append((g11, j)) Âõ†‰∏∫Á∫¨Â∫¶1¬∞‰∏∫111.3195kmÔºåÁªèÂ∫¶ÊØèÂ∫¶‰∏∫111.3195cos(Á∫¨Â∫¶)ÔºåÈÅçÂéÜ‰πãÂêéÂæóÂà∞‰ª•‰∏ãÁöÑÊï∞ÊçÆÔºàËìùËâ≤ËåÉÂõ¥Ôºâ„ÄÇÁªèËøáÁ≠õÈÄâ‰πãÂêéÔºåÂè™ÊúâÁ∫¢Ëâ≤ÁÇπÁöÑÊï∞ÊçÆÊª°Ë∂≥„ÄÇ 123456789101112131415# Á≠õÈÄâÊï∞ÊçÆ poly = MultiPoint(origin_points).convex_hull res = [] for p in coords: if poly.contains(Point(p)): res.append(p) print(res) # ÁîªÂõæ long = [a[0] for a in origin_points] lat = [a[1] for a in origin_points] plt.plot(long, lat) # Âú∞Âå∫ËåÉÂõ¥Êõ≤Á∫ø plt.scatter([i[0] for i in coords], [i[1] for i in coords]) # ÂàÜÂâ≤ÂêéÁöÑÊï£ÁÇπÂõæ plt.scatter([i[0] for i in res], [i[1] for i in res], edgecolors='red') # Á¨¶ÂêàÊù°‰ª∂ÁöÑÁÇπ plt.show() Ëé∑ÂèñÁªìÊûúÊ†πÊçÆÈ´òÂæ∑Âú∞ÂõæÊèê‰æõÁöÑAPIÊûÑÂª∫ËØ∑Ê±ÇÈìæÊé•ÔºåÁÑ∂ÂêéÂèëËµ∑ËØ∑Ê±ÇÂ∞±ÂèØ‰ª•Âï¶„ÄÇÂÖ∑‰ΩìÈúÄÊ±ÇÂèØ‰ª•Êü•ÁúãÊâãÂÜåËøõË°åËÆæÁΩÆÔºåÊØîÂ¶ÇÂè™ÈúÄË¶ÅÊäìÂèñ‰∏≠È§êÂéÖÔºåÂ∞±ÂèØ‰ª•ËÆæÁΩÆpoitype=&quot;‰∏≠È§êÂéÖ&quot;ÔºåËØ¶ËßÅpoiÁ±ªÂûã. 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364# -*- coding:utf-8 -*-# Time: 2018/9/13 16:54import jsonfrom pprint import pprintimport osimport pandas as pdimport openpyxlfrom pandas import ExcelWriterimport requestsfrom points import get_pointfile = 'È´òÂæ∑Âú∞ÂõæÂùêÊ†á.xlsx'def parse_info(data): res = [] try: if data['info'] == 'OK': for item in data['regeocode']['pois']: d = &#123; 'name': item['name'], 'lon': parse_location(item['location'])[0], 'lat': parse_location(item['location'])[1], 'address': item['address'], &#125; res.append(d) save(res) except Exception as e: print(e)def parse_location(s): return s.split(',')def run(): gd_url = 'https://restapi.amap.com/v3/geocode/regeo?output=json&amp;location=&#123;long&#125;,&#123;lat&#125;&amp;key=&#123;key&#125;&amp;radius=&#123;radius&#125;&amp;extensions=all' key = '47939581b9d62ed52efa9e875c137a13' radius = 100 # ÊØè‰∏™ÂùêÊ†áÁÇπÊêúÁ¥¢ÂçäÂæÑ for lon, lat in get_point(): print(lon, lat) html = requests.get(gd_url.format(long=lon, lat=lat, radius=radius, key=key)) print(html.text) data = json.loads(html.text, encoding='utf8') parse_info(data)def save(data): columns = ['name', 'lon', 'lat', 'address'] df = pd.DataFrame(data, columns=columns) exist = os.path.exists(file) if not exist: writer = ExcelWriter(file, engine='openpyxl') df.to_excel(writer, sheet_name='Main', header=True, index=False, columns=columns) writer.save() else: book = openpyxl.load_workbook(file) writer = ExcelWriter(file, engine='openpyxl') writer.book = book row = book['Main'].max_row writer.sheets = dict((ws.title, ws) for ws in book.worksheets) df.to_excel(writer, sheet_name='Main', startrow=row, index=False, header=False, columns=columns) writer.save()if __name__ == '__main__': run()]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>È´òÂæ∑Âú∞Âõæ</tag>
        <tag>shapely</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[why are you late]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F11%2Fwhy-are-you-late%2F</url>
    <content type="text"><![CDATA[reasons for being lateThere are various reasons for being late: didn‚Äôt hear the alarm She overslept because she didn‚Äôt hear her alarm. I slept right through the alarm.(sleep through = oversleep) the alarm didn‚Äôt go off If the alarm doesn‚Äôt go off, you probably won‚Äôt get up until you naturally wake up. underestimate the time you need You may think you only need 20 minutes to finish a task, but actually it can take up to 40 minutes. I left my phone at home and had to go back. bad sense of direction I went the wrong way Actually people can easily get lost when they go to a new place. traffic jam Sometimes, even though we leave home early and go the right way, we still end up being late because of the heavy traffic. I got stuck/caught in traffic. (ÊàëÂ†µÂú®Ë∑Ø‰∏ä‰∫Ü) There was a traffic jam. vehicle Bus No.38 was supposed to come at 8:40, but it was 5 minutes late. My flight was delayed and I missed my meeting. My car broke down. I couldn‚Äôt find a parking space. what to do when you‚Äôre lateAs the saying goes, better than late than never. you should call the people and apologize. I‚Äôm sorry, but I am running late. I‚Äôm afraid that I‚Äôm going to be late for work/the meeting/the interview. tell they the reasons for being late person reasons I overslept. I went the wrong way. I left my phone at home and had to go back. objective reasons There was a traffic jam. My flight was delayed. The subway broke down. inform the people how late you are going to be I‚Äôll be there in 5 minutes. It‚Äôs hard to say, but I‚Äôll be there as soon as possible. make up for mistakes late for work Sorry, I was late. This won‚Äôt happen again. I‚Äôll finish my work on time. I‚Äôm terribly sorry. I won‚Äôt be late again. I‚Äôll be working late tonight. late for job interview I‚Äôm sorry, but I‚Äôm normally on time. late for a meeting Try to make the most of your time Review the meeting minutes. late for date Dinner‚Äôs on me. I will buy you lunch. I‚Äôll treat you to a movie. how to avoid being late Put your alarm on the other side of room. Set multiple alarms. Leave home early. To plan the route in advance. Put your bag the night before. Set out the clothes in advance.(ÊèêÂâçÂáÜÂ§áÂ•ΩË°£Áâ©)]]></content>
      <categories>
        <category>Ëã±ËØ≠</category>
      </categories>
      <tags>
        <tag>Ëã±ËØ≠</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áî®python‰∏ãËΩΩÂìîÂì©ÂìîÂì©ËßÜÈ¢ë]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F11%2F%E7%94%A8python%E4%B8%8B%E8%BD%BD%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E8%A7%86%E9%A2%91%2F</url>
    <content type="text"><![CDATA[Ê≤°ÊÉ≥Âà∞ÊàëËøò‰ªéÊù•Ê≤°Áî®python‰∏ãËΩΩËøáËßÜÈ¢ëÔºåËøôÊ¨°ÂÜ≥ÂÆöÊãøBÁ´ôÊù•ÁªÉ‰π†‰∏Ä‰∏ã„ÄÇ Áî®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑Êü•ÁúãÈ°µÈù¢ÂÖÉÁ¥†Ôºå‰πüÊ≤°ÊâæÂà∞ËßÜÈ¢ëÁöÑÁúüÂÆûÈìæÊé•ÔºåÂè™Â•ΩÁî®charlesÊäìÂåÖ‰∏Ä‰∏ã„ÄÇÂÖ∑‰ΩìÁöÑ‰∏ãËΩΩÂíåËØÅ‰π¶ÂÆâË£ÖËøáÁ®ãÂøΩÁï•„ÄÇ ËÆæÁΩÆcharles ËÆæÁΩÆproxy settings ËÆæÁΩÆssl proxy settingsÔºåÊäìÂèñhttpsÈìæÊé•Ôºå‰∏çÁÑ∂‰ºöÂá∫Áé∞‰π±Á†Å ËÆæÁΩÆmacOS ProxyÔºåÊäìÂèñPCÁ´ØÊï∞ÊçÆ 4.Âà∑Êñ∞ËßÜÈ¢ëÈ°µÈù¢ÔºåÂ∫îËØ•Â∞±‰ºöÂá∫Áé∞ÂæàÂ§öÈìæÊé•‰∫Ü„ÄÇ‰ªîÁªÜÊü•Êâæ‰∏Ä‰∏ãÔºåÂ∞±ÂèØ‰ª•ÊâæÂà∞ËßÜÈ¢ëÈìæÊé• ‰∏ãËΩΩËßÜÈ¢ëÊâæÂà∞ËßÜÈ¢ëÈìæÊé•ÂêéÔºå‰ª•‰∏∫Â∞±ÂèØÂèëËµ∑ËØ∑Ê±Ç‰∫ÜÔºåÁªìÊûúÊääËá™Â∑±ÁªôÂùë‰∫Ü‰∏Ä‰∏ã„ÄÇÂõ†‰∏∫ËßÜÈ¢ëÈìæÊé•ÁöÑËØ∑Ê±ÇÂèÇÊï∞Êúâ‰∏™Âà´‰∏ÄÁõ¥Âú®ÂèòÂåñÔºåÂπ∂‰∏îÂú®ÂÖ®Â±ÄÊêúÁ¥¢ÁöÑÊó∂ÂÄô‰πüÊ≤°ÊâæÂà∞ÁîüÊàêÂèÇÊï∞ÁöÑÊñπÊ≥ï„ÄÇÂÄíÊòØÂú®È°µÈù¢Ê∫êÁ†ÅÈáåÂèØ‰ª•ÊâæÂà∞ÈìæÊé•ÔºåËøòÊòØgetËØ∑Ê±ÇÔºåÂóØÔºåËøòÊòØÂ∫îËØ•ÊÑüÂà∞ÂºÄÂøÉÁöÑüòÖ 12345678910111213141516171819202122232425262728293031323334353637383940414243def download_video(): headers = &#123; 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Safari/537.36', &#125; video_url = 'https://www.bilibili.com/video/av28518492' res = requests.get(video_url, headers=headers, verify=False) origin_txt = re.findall(r'&lt;script&gt;window.__playinfo__=(\&#123;.*?\&#125;)&lt;/script&gt;', res.text, re.S)[0] origin_json = json.loads(origin_txt, encoding='utf-8') urls = origin_json['durl'] size = 0 chunk = 1024 content_size = sum([i['size'] for i in urls]) print('file size is %0.2f MB' % (content_size / chunk / 1024)) # ÂàõÂª∫Â≠òÊîæËßÜÈ¢ëÁâáÊÆµÁöÑ‰∏¥Êó∂Êñá‰ª∂Â§π if not os.path.exists('temp_video'): os.makedirs('temp_video') start = time.time() # Âæ™ÁéØ‰∏ãËΩΩËßÜÈ¢ë for i, data in enumerate(urls): url = data['url'] header = &#123; 'Origin': 'https://www.bilibili.com', 'Referer': video_url, &#125; headers.update(header) try: response = requests.get(url, headers=headers, verify=False, stream=True) video_path = 'temp_video/' + '&#123;&#125;.mp4'.format(i) # ‰∏ãËΩΩËßÜÈ¢ë with open(video_path, 'wb') as file: for item in response.iter_content(chunk): file.write(item) # ÂÜôÂÖ•ËßÜÈ¢ë file.flush() # Ê∏ÖÁ©∫ÁºìÂ≠ò size += len(item) print('\r' + '[‰∏ãËΩΩËøõÂ∫¶]Ôºö%s %0.2f%%' % ('&gt;' * int(size * 50 / content_size), float(size / content_size) * 100), end='') # end=‚Äò‚Äô‰∏çÊç¢Ë°åÊâìÂç∞ except Exception as e: print(e) stop = time.time() print('\n' + 'ËßÜÈ¢ë‰∏ãËΩΩÂÆåÊàêÔºåËÄóÊó∂%.2fÁßí' % (stop-start)) ÂêàÂπ∂ËßÜÈ¢ë‰∏ãËΩΩ‰∏ãÊù•ÁöÑËßÜÈ¢ëÔºåÂÖ∂ÂÆûÊòØÂàÜÊÆµÁöÑÔºå‰∏çÊñπÈù¢Êü•ÁúãÔºåÊâÄ‰ª•ËøòÈúÄË¶ÅÂ∞ÜËßÜÈ¢ëÁªôÂêàÂπ∂Ëµ∑Êù•ÔºåËøôÈáåÁî®ÁöÑÊòØffmpegÂëΩ‰ª§ÔºåÊúÄÂêéÂêàÂπ∂ÁöÑËßÜÈ¢ë‰øùÂ≠ò‰∏∫output.mp4ÔºåÂ≠òÂú®ÂΩìÂâçË∑ØÂæÑ‰∏ã„ÄÇ ffmpeg -f concat -safe 0 -i file.txt -c copy output.mp4 ÂÖ∂‰∏≠file.txtÊòØÊâÄÊúâËßÜÈ¢ëÁâáÊÆµË∑ØÂæÑÔºåÊ†ºÂºèÂ¶Ç‰∏ãÔºö 123file &apos;video/v_1.mp4&apos;file &apos;video/v_2.mp4&apos;file &apos;video/v_3.mp4&apos; ÂêàÂπ∂ËßÜÈ¢ëÊòØÁî®subprocessÊ®°ÂùóÊù•ËøêË°åffmpegÂëΩ‰ª§ÔºåËØ¶ÁªÜ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526272829303132def concatenate(path, dest='video'): """ Â∞ÜÁªôÂÆöË∑ØÂæÑ‰∏ãÁöÑËßÜÈ¢ëËøõË°åÂêàÂπ∂ÔºåÂêåÊó∂Âà†Èô§ÂéüÊú¨ÁöÑËßÜÈ¢ë :param path: ÈúÄË¶ÅÂêàÂπ∂ÁöÑËßÜÈ¢ëÊâÄÂú®Êñá‰ª∂Â§πÂêçÂ≠óÔºå‰∏ÄËà¨ÊòØËßÜÈ¢ëÂêçÂ≠ó :param dest: ÂêàÂπ∂‰πãÂêéÁöÑËßÜÈ¢ëÂ≠òÊîæË∑ØÂæÑÔºåÈªòËÆ§‰∏∫videoÊñá‰ª∂Â§π :return: """ with open('file.txt', 'a', encoding='utf-8') as f: for root, dirs, files in os.walk(path): for file in files: # Â¶ÇÊûúÁªôÂÆöÁöÑË∑ØÂæÑ‰∏ãÊúâËßÜÈ¢ëÔºåÂàôÂ∞ÜËßÜÈ¢ëË∑ØÂæÑ‰ø°ÊÅØÂÜôÂÖ•Âà∞txt‰∏≠ if os.path.splitext(file)[1] in ['.flv', '.mkv', '.mp4']: video_path = os.path.join(root, file) line = "file '&#123;&#125;'\n".format(video_path) f.writelines(line) # ÂêàÂπ∂ËßÜÈ¢ë if os.path.exists('file.txt'): if not os.path.exists(dest): os.makedirs(dest) video_save_path = os.path.join(dest, path) try: print('ÂºÄÂßãÂêàÂπ∂ËßÜÈ¢ë...') print(path) ffmpeg_command = ["ffmpeg", "-f", "concat", "-safe", "0", "-i", "file.txt", "-c", "copy", video_save_path + ".mp4"] subprocess.run(ffmpeg_command) subprocess.run(["rm", "file.txt"]) subprocess.run(["rm", "-r", path]) print('ËßÜÈ¢ëÂêàÂπ∂ÂÆåÊàêÔºÅ') except Exception as e: print('ËßÜÈ¢ëÂêàÂπ∂Â§±Ë¥•') print(e) ‰ª£Á†ÅÁ§∫‰æã ÂèÇËÄÉÊñáÁ´†How to join two video files using Python? pythonÁà¨Ëô´ÊäìÂèñBÁ´ôÂ∞èËßÜÈ¢ëÊéíË°åÊ¶ú]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>BÁ´ô</tag>
        <tag>ËßÜÈ¢ë‰∏ãËΩΩ</tag>
        <tag>ffmpeg</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Áî®pythonÁîüÊàê‰∫åÁª¥Á†Å]]></title>
    <url>%2Famberwest.github.io%2F2018%2F09%2F06%2F%E7%94%A8python%E7%94%9F%E6%88%90%E4%BA%8C%E7%BB%B4%E7%A0%81%2F</url>
    <content type="text"><![CDATA[Áî®pythonÁîüÊàê‰∫åÁª¥Á†ÅÁúüÊòØÁÆÄÂçïÂèàÊñπ‰æøÔºåÁé∞Âú®ÁÆÄÂçïËÆ∞ÂΩï‰∏Ä‰∏ãqrcodeÂ∫ìÁöÑ‰ΩøÁî®„ÄÇ ÂÆâË£Ö‰æùËµñÂ∫ì1pip install qrcode ‰ΩøÁî® ‰ΩøÁî®qrÂëΩ‰ª§ ÂÆâË£Ö‰∫Üqrcode‰πãÂêéÔºåÂ∞±ÂèØ‰ª•Áî®‰∏ÄÂè•ÂëΩ‰ª§ÁîüÊàê‰∫åÁª¥Á†ÅÔºåÂæàÊñπ‰æøÊúâÊ≤°ÊúâÔºÅÔºÅÔºÅ 1qr "hello world" &gt; test.png Áî®ËÑöÊú¨ÂÆûÁé∞ Âç≥‰ΩøÁî®ËÑöÊú¨Ôºå‰πüÂèØ‰ª•‰∏ÄË°å‰ª£Á†ÅÊêûÂÆö 12img = qrcode.make('use make method')img.save('make.png') È´òÁ∫ßÁî®Ê≥ïÂ¶ÇÊûúÊÉ≥Ë¶ÅÊõ¥Â§öÁöÑËÆæÁΩÆÔºåÂèØ‰ª•‰ΩøÁî®QRCodeÁ±ª 123456789101112qr = qrcode.QRCode( version=1, error_correction=qrcode.constants.ERROR_CORRECT_L, box_size=10, border=4, )qr.add_data('use QRCode')qr.make(fit=True)img = qr.make_image(fill_color='blue', back_color='white') img.save('QRCode.png') ÂèÇÊï∞ËØ¥Êòé versionÔºö1Âà∞40ÁöÑÊï¥Êï∞ÔºåÁî®Êù•ÊéßÂà∂‰∫åÁª¥Á†ÅÁöÑÂ§ßÂ∞èÔºåÊúÄÂ∞èÊòØ1„ÄÇÁîüÊàê‰∫åÁª¥Á†ÅÊó∂ËÆæÁΩÆ‰∏∫noneÂπ∂‰ΩøÁî®fitÂèÇÊï∞ÔºåversionÈªòËÆ§‰∏∫1 rror_correctionÔºöÊéßÂà∂‰∫åÁª¥Á†Å‰ΩøÁî®ËøáÁ®ã‰∏≠ÁöÑÂÆπÈîôËÉΩÂäõ ERROR_CORRECT_LÔºöÁ∫¶7%ÊàñËÄÖÊõ¥Â∞ëÁöÑÈîôËØØËÉΩÂ§üË¢´‰øÆÊ≠£ ERROR_CORRECT_MÔºöÈªòËÆ§ÂÄº„ÄÇÁ∫¶15%ÊàñËÄÖÊõ¥Â∞ëÁöÑÈîôËØØËÉΩÂ§üË¢´‰øÆÊ≠£ ERROR_CORRECT_QÔºöÁ∫¶25%ÊàñËÄÖÊõ¥Â∞ëÁöÑÈîôËØØËÉΩÂ§üË¢´‰øÆÊ≠£ ERROR_CORRECT_HÔºöÁ∫¶30%ÊàñËÄÖÊõ¥Â∞ëÁöÑÈîôËØØËÉΩÂ§üË¢´‰øÆÊ≠£ box_sizeÔºöÊéßÂà∂‰∫åÁª¥Á†ÅÊØè‰∏™‚Äúbox‚ÄúÂåÖÂê´ÁöÑÂÉèÁ¥†Êï∞ borderÔºöÈªòËÆ§‰∏∫4ÔºåÊúÄÂ∞èÂÄº„ÄÇÊéßÂà∂‰∫åÁª¥Á†ÅËæπÊ°ÜÊúâÂ§öÂ∞ë‰∏™‚Äúbox‚Äù svgËøòÂèØ‰ª•‰øùÂ≠ò‰∏∫svgÊ†ºÂºèÔºåÊó¢ÂèØ‰ª•‰ΩøÁî®ÂëΩ‰ª§Ë°åÔºå‰πüÂèØ‰ª•Âú®‰ª£Á†Å‰∏≠ÂÆûÁé∞ 123qr --factory=svg-path "svg" &gt; test.svgqr --factory=svg "Some text" &gt; test.svgqr --factory=svg-fragment "Some text" &gt; test.svg Âú®python‰∏≠ÔºåÁî®Ê≥ïÂ¶Ç‰∏ã 12345678910111213141516def make_svg(method): if method == 'basic': # simple factory, just a set of rects factory = qrcode.image.svg.SvgImage elif method == 'fragment': # Fragment factory (also just a set of rects) factory = qrcode.image.svg.SvgFragmentImage else: # Combined path factory, fixes white space that may occur when zooming factory = qrcode.image.svg.SvgPathImage img = qrcode.make('svg', image_factory=factory) img.save('test.svg')if __name__ == '__main__': make_svg('basic') ÂèÇËÄÉÊñáÁ´†qrcode]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>‰∫åÁª¥Á†Å</tag>
        <tag>qrcode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ÂõæÁâáÂàóË°®Â∏ÉÂ±Ä]]></title>
    <url>%2Famberwest.github.io%2F2018%2F08%2F10%2F%E5%9B%BE%E7%89%87%E5%88%97%E8%A1%A8%E5%B8%83%E5%B1%80%2F</url>
    <content type="text"><![CDATA[‰ªäÂ§©Ë¶ÅËß£ÂÜ≥ÁöÑÈóÆÈ¢òÂ∞±ÊòØÔºöÂõæÁâáÊ∞¥Âπ≥ÂûÇÁõ¥Â±Ö‰∏≠ÔºåÂêåÊó∂ËøòË¶ÅÂú®Â§ñÈù¢Âä†‰∏äËæπÊ°Ü„ÄÇÊúÄÁªàÊïàÊûúÂõæÂ¶Ç‰∏ãÔºö html‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617&lt;div class="pic"&gt; &lt;div class="content"&gt; &lt;div class="out"&gt; &lt;a href="#"&gt;&lt;img src="../day9-11/images/Facebook.png" alt="facebook"&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="content"&gt; &lt;div class="out"&gt; &lt;a href="#"&gt;&lt;img src="../day9-11/images/Twitter.png" alt="twitter"&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt; &lt;div class="content"&gt; &lt;div class="out"&gt; &lt;a href="#"&gt;&lt;img src="../day9-11/images/Instagram.png" alt="instagram"&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; Áî±‰∫éÂõæÁâáÁöÑÂ§ßÂ∞è‰∏çÂ§™‰∏ÄÊ†∑ÔºåËøôÈáåÂº∫Âà∂ÊÄßËÆæÁΩÆ‰∏∫Áªü‰∏ÄÂÆΩÈ´ò„ÄÇ 1234img &#123; height: 20px; width: 20px;&#125; ‰∏∫‰∫ÜËÆ©‰∏â‰∏™ÂõæÁâáËÉΩÂπ∂ÊéíÔºåÈúÄË¶ÅËÆæÁΩÆdisplay: inline-blockÔºåÂêåÊó∂‰πüË¶ÅÁªôÂÆπÂô®contentÂÆΩÈ´ò„ÄÇÂõæÁâáËæπÊ°ÜÊòØ‰∏™ÂúÜÂΩ¢ÁöÑÔºåËøôÈáåÊúâ‰∏™ÊäÄÂ∑ßÔºåÂ∞±ÊòØËÆ©ËæπÊ°ÜÁöÑradius‰∏∫50%„ÄÇ 12345678910.content &#123; display: inline-block; margin-left: 15px; position: relative; width: 50px; height: 50px; /*ËÆæÁΩÆËæπÊ°Ü*/ border: 1px solid #acacac; border-radius: 50%;&#125; Âõ†‰∏∫ÂõæÁâáÊòØÂú®ËæπÊ°Ü‰∏≠Èó¥‰ΩçÁΩÆÔºåÊâÄ‰ª•Êàë‰ª¨ÂÜçÁî®‰∏Ä‰∏™ÂÆπÂô®div.outÊääÂÜÖÂÆπÂåÖËµ∑Êù•ÔºåËÆæÁΩÆabsoluteÔºåÂπ∂Â∞ÜÂÖ∂top/leftËÆæÁΩÆ‰∏∫Áà∂ÂÆπÂô®contentÁöÑ‰∏ÄÂçä„ÄÇÊ†πÊçÆÂèÇËÄÉÊñáÁ´†ÔºåËøôÈáåÂ∞±ÊòØÂà©Áî®absoluteÁöÑÂåÖË£πÊÄßÊù•Ëé∑ÂèñÂåÖÂê´ÂùóÁöÑÂÆΩÂ∫¶Ôºå‰πüÂ∞±ÊòØimgÁöÑÂ§ßÂ∞è„ÄÇËøôÊ†∑Â∞±ÊääÊï¥‰∏™ÂõæÁâáÁöÑÂ∑¶‰∏äËßíÂØπÂÖ∂Âà∞ÂÆπÂô®outÁöÑ‰∏≠ÂøÉÁÇπÔºåÊ≠§Êó∂ÂõæÁâáÂπ∂Ê≤°ÊúâÂ±Ö‰∏≠ÔºåÂõ†Ê≠§ËøòË¶ÅËÆæÁΩÆmargin-top/margin-left‰∏∫-10pxÔºå‰πüÂ∞±ÊòØÂõæÁâáÂÆΩÈ´òÁöÑ‰∏ÄÂçä„ÄÇ 1234567.out &#123; position: absolute; left: 50%; top: 50%; margin-left: -10px; margin-top: -10px;&#125; ÂÆåÊï¥css‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526272829303132333435* &#123; margin: 0; padding: 0;&#125;.pic &#123; background-color: black; height: 80px; width: 250px; padding-top: 20px; margin: 20px auto;&#125;.content &#123; display: inline-block; margin-left: 15px; position: relative; width: 50px; height: 50px; border: 1px solid #acacac; border-radius: 50%;&#125;.out &#123; position: absolute; left: 50%; top: 50%; margin-left: -10px; margin-top: -10px;&#125;img &#123; height: 20px; width: 20px;&#125; Â¶ÇÊûúÂõæÁâá/ÂÜÖÂÆπÁöÑÂ§ßÂ∞è‰∏çÁ°ÆÂÆöÔºåÂ∞±ÂÉèÂèÇËÄÉÊñáÁ´†‰∏≠ÊèêÂà∞ÁöÑ‰∏ÄÊ†∑ÔºåÂú®ÈúÄË¶ÅÂ±Ö‰∏≠ÁöÑÂÖÉÁ¥†Â§ñÈù¢Â•ó‰∏Ä‰∏™Á©∫ÁöÑdivÂÖÉÁ¥†ÔºåÂÜçÈáçÊñ∞ËÆæÁΩÆ‰∏Ä‰∏ãÂç≥ÂèØ„ÄÇÂ¶Ç‰∏ãÔºö html‰ª£Á†ÅÔºö 123456&lt;div class="content"&gt; &lt;div class="out"&gt; &lt;div class="in"&gt;&lt;a href="#"&gt;&lt;img src="../day9-11/images/Facebook.png" alt="facebook"&gt;&lt;/a&gt; &lt;/div&gt; &lt;/div&gt;&lt;/div&gt; css‰øÆÊîπÈÉ®ÂàÜÂ¶Ç‰∏ãÔºåÂÖ∂‰ªñÁöÑ‰∏çÂèòÔºö 12345678910111213141516.out &#123; position: absolute; left: 50%; top: 50%;&#125;img &#123; height: 20px; width: 20px;&#125;.in &#123; /*ËøôÈáåÁöÑÊØî‰æãÂèØËÉΩÈúÄË¶ÅÊ†πÊçÆÂÜÖÈÉ®ÂÖÉÁ¥†ÁöÑÂÆΩÈ´òÊØîËøõË°åË∞ÉÊï¥*/ margin-left: -50%; margin-top: -50%;&#125; ÂèÇËÄÉÊñáÁ´†Ôºö div+cssÂõæÁâáÂàóË°®Â∏ÉÂ±ÄÔºà‰∫åÔºâ Ê∑±ÂÖ•ÁêÜËß£CSS‰∏≠ÁöÑmarginË¥üÂÄº]]></content>
      <tags>
        <tag>css</tag>
        <tag>ÂõæÁâá</tag>
        <tag>Â∏ÉÂ±Ä</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Èº†Ê†áÁªèËøáÂõæÁâáÊó∂Â¢ûÂä†ÊñáÂ≠ó]]></title>
    <url>%2Famberwest.github.io%2F2018%2F08%2F09%2F%E9%BC%A0%E6%A0%87%E7%BB%8F%E8%BF%87%E5%9B%BE%E7%89%87%E6%97%B6%E5%A2%9E%E5%8A%A0%E6%96%87%E5%AD%97%2F</url>
    <content type="text"><![CDATA[Âú®ÂâçÁ´ØÂ≠¶‰π†ËøáÁ®ã‰∏≠ÔºåÈÅáÂà∞ËøôÊ†∑‰∏Ä‰∏™ÈúÄÊ±ÇÔºåÈº†Ê†áÂÅúÂú®ÂõæÁâá‰∏äÊó∂ÊòæÁ§∫ÊñáÂ≠ó‰ªãÁªçÂíåÁ§æ‰∫§ÂõæÊ†áÁ≠â„ÄÇÂâçÂêéÊïàÊûúÂ¶Ç‰∏ãÊâÄÁ§∫Ôºö ËøôÈáå‰∏ªË¶ÅÊòØÁî®Âà∞‰∫ÜpositionÂ±ûÊÄß„ÄÇÊú¨ÊñáÁî®‰∏Ä‰∏™ÁÆÄÂçïÁöÑ‰æãÂ≠êÊù•ËÆ∞ÂΩï‰∏Ä‰∏ãËØ•ÊïàÊûúÁöÑÂÆûÁé∞„ÄÇ Â∞ÜÊñáÂ≠óÊµÆÂú®ÂõæÁâá‰∏äHTML‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456&lt;div class="content"&gt; &lt;img src="https://scontent-sea1-1.cdninstagram.com/vp/26fafc3889d4437c79ba872a8260cb1d/5B9DF8FD/t51.2885-15/s480x480/e35/c0.123.1080.1080/30079276_1572484689529899_7245510271010078720_n.jpg" alt="song"&gt; &lt;div class="cover"&gt; Aimee Song &lt;/div&gt;&lt;/div&gt; ÂõæÁâáÂíåÊñáÂ≠óÊòØÂêåÁ∫ßÁöÑÔºåÈÉΩÂú®contentÁõíÂ≠êÈáå„ÄÇË¶ÅÂÆûÁé∞ÊñáÂ≠óÊµÆ‰∫éÂõæÁâá‰∏äÔºåÈúÄË¶ÅËÆæÁΩÆÁà∂ÁõíÂ≠êpositionÂ±ûÊÄß‰∏∫relativeÔºåÊñáÂ≠óÂØπÂ∫îÁõíÂ≠ê‰∏∫absoluteÔºå‰πüÂ∞±ÊòØÁõ∏ÂØπ‰∫éÁà∂ÁõíÂ≠êÁöÑÁªùÂØπÂÆö‰ΩçÔºåËøôÊ†∑ÊâçËÉΩ‰ΩøÊñáÂ≠óÊµÆËµ∑Êù•„ÄÇÂêåÊó∂ËøòÈúÄË¶ÅËÆæÁΩÆinline-blockÂ±ûÊÄßÔºåËøôÊ†∑content‰∏ãÁöÑÂÖÉÁ¥†Êó¢ÂèØ‰ª•Êã•ÊúâblockÂÖÉÁ¥†ÂèØ‰ª•ËÆæÁΩÆwidthÂíåheightÁöÑÁâπÊÄßÔºåËøòËÉΩ‰øùÊåÅinlineÂÖÉÁ¥†‰∏çÊç¢Ë°åÁöÑÁâπÊÄß„ÄÇ cssËÆæÁΩÆÂ¶Ç‰∏ãÔºö 123456789.content &#123; position: relative; display: inline-block;&#125;.cover&#123; position: absolute; /*bottomËÆæÁΩÆÊñáÂ≠óÂ§Ñ‰∫éÂõæÁâáÁöÑ‰ªÄ‰πà‰ΩçÁΩÆÔºåÁõ∏Â∫îÁöÑËøòÊúâtop, left, rightÂèØ‰ª•ËÆæÁΩÆ*/ bottom: 50px;&#125; Èº†Ê†áÊÇ¨ÊµÆ‰∏ä‰∏ÄÊ≠•ÂÆûÁé∞‰∫ÜÊñáÂ≠óÁΩÆ‰∫éÂõæÁâá‰πãÂâçÁöÑÈùôÊÄÅÊïàÊûúÔºåÁé∞Âú®‰ΩøÁî®cssÁöÑhoverÊù•ÂÆûÁé∞Èº†Ê†áÁßªÂä®Âà∞Áà∂Á∫ßË∫´‰∏äÊó∂ÔºåÊòæÁ§∫ÊñáÂ≠ó„ÄÇÊâÄ‰ª•ÈúÄË¶ÅÂÖàÂ∞ÜcoverÂÖÉÁ¥†ÈöêËóèÔºåÊñ∞Â¢ûÁöÑcss‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456.cover&#123; display: none;&#125;.content:hover .cover&#123; display: block;&#125; Âà∞ËøôÈáåÂ∞±ÂèØ‰ª•ÂÆåÊàêÂï¶ÔºÅÂΩìÁÑ∂Ôºå‰πüÂèØ‰ª•ÂØπÊñáÂ≠óÂ¢ûÂä†Ê†∑ÂºèÔºåÊØîÂ¶ÇÊ∑ªÂä†ËÉåÊôØÈ¢úËâ≤ÔºåËÆæÁΩÆÂ≠ó‰ΩìÂ§ßÂ∞è‰πãÁ±ªÁöÑ„ÄÇÂÖ∑‰ΩìËØ∑Êü•Áúãdemo„ÄÇ ÂèÇËÄÉÊñáÁåÆÔºöÈº†Ê†áÊÇ¨ÊµÆÊéßÂà∂ÂÖÉÁ¥†ÈöêËóè‰∏éÊòæÁ§∫-css‰∏≠Èº†Ê†áÁöÑhoverÁä∂ÊÄÅ ËØ¶Ëß£CSS display:inline-blockÁöÑÂ∫îÁî® Â≠¶‰π†cssÂ∏ÉÂ±Ä]]></content>
      <tags>
        <tag>css</tag>
        <tag>position</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®githubÂ±ïÁ§∫ÂâçÁ´ØÈ°µÈù¢]]></title>
    <url>%2Famberwest.github.io%2F2018%2F08%2F02%2F%E4%BD%BF%E7%94%A8github%E5%B1%95%E7%A4%BA%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÂú®ÁôæÂ∫¶ÂâçÁ´ØÊäÄÊúØÂ≠¶Èô¢Â≠¶‰π†ÂâçÁ´ØÔºåÈúÄË¶ÅÂ∞ÜËá™Â∑±ÂÜôÁöÑÈùôÊÄÅÈ°µÈù¢Â±ïÁ§∫Âá∫Êù•„ÄÇÊ†πÊçÆÁΩëÁ´ôÊèê‰æõÁöÑËµÑÊ∫ê‰∫ÜËß£Âà∞ÂéüÊù•ÂèØ‰ª•‰ΩøÁî®github pageÊù•Â±ïÁ§∫ÂâçÁ´ØÈ°µÈù¢ÔºåÁúüÁöÑÊòØÂæàËµû‰∫Ü„ÄÇ Ë¶ÅÂ±ïÁ§∫Â∑≤Êúâ‰ª£Á†ÅÁöÑrepositoryÁöÑÈ°µÈù¢ÔºåÂè™ÈúÄË¶Å‰∏âÊ≠•Âç≥ÂèØ„ÄÇ ÂàõÂª∫gh-pagesÂàÜÊîØ ‰πãÂâç‰∏ä‰º†ÁöÑ‰ª£Á†ÅÈÉΩÈªòËÆ§Â≠òÂú®masterÂàÜÊîØ‰∏äÔºåÊâÄ‰ª•ÈúÄË¶ÅÂàõÂª∫Êñ∞ÁöÑÂàÜÊîØÂπ∂ÂàáÊç¢ 1git checkout --orphan gh-pages ‰∏ä‰º†‰ª£Á†ÅÂàáÊç¢Âà∞gh-pagesÂàÜÊîØ‰πãÂêéÔºåÈúÄË¶ÅÂ∞Ü‰πãÂâçÁöÑ‰ª£Á†ÅÈáçÊñ∞Êèê‰∫§‰∏ÄÈÅç 123git add *git commit -m "first commit"git push -u origin gh-pages Ëøô‰∏™ÂàÜÊîØÈáåÁöÑ‰ª£Á†ÅÂ∞±ÊòØÁî®Êù•Â±ïÁ§∫È°µÈù¢ÁöÑ È°µÈù¢ËÆøÈóÆÁé∞Âú®Êàë‰ª¨Â∞±ÂèØ‰ª•ÈÄöËøá‰∏ãÈù¢ÁöÑÈìæÊé•Â∞±ÂèØ‰ª•Êü•ÁúãÂâçÁ´ØÈ°µÈù¢‰∫Ü„ÄÇ http(s)://&lt;username&gt;.github.io/&lt;projectname&gt; ÂéüÊú¨ÁöÑÈ°µÈù¢Ê∫êÁ†ÅÈìæÊé•ÈïøËøôÊ†∑Ôºö https://github.com/amberwest/Front_End_Study/blob/master/day3/index.html Áé∞Âú®Â∞ÜÈìæÊé•‰øÆÊîπ‰∏∫‰∏ãÈù¢ËøôÊ†∑ÔºåÊâìÂºÄÂ∞±ÊòØÂØπÂ∫îÁöÑÂâçÁ´ØÈ°µÈù¢‰∫ÜÔºö https://amberwest.github.io/Front_End_Study/day3/index.html„ÄÇ ÂèÇËÄÉÊñáÁ´†ÊÄé‰πàÈ¢ÑËßà GitHub È°πÁõÆÈáåÁöÑÁΩëÈ°µÊàñ DemoÔºü]]></content>
      <categories>
        <category>ÂÖ∂‰ªñ</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[‰ΩøÁî®pythonÁ¨¨‰∏âÊñπÂ∫ìÂèëÈÄÅÈÇÆ‰ª∂]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F26%2F%E4%BD%BF%E7%94%A8python%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E5%8F%91%E9%80%81%E9%82%AE%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[Âú®python‰∏≠Áî®Êù•ÂèëÈÄÅÈÇÆ‰ª∂ÁöÑÁ¨¨‰∏âÊñπÂ∫ì‰∏ªË¶ÅÊòØsmtplibÂíåyagmail„ÄÇËøôÈáåÁÆÄÂçïËÆ∞ÂΩï‰∏Ä‰∏ãËøô‰∏§‰∏™Â∫ìÁöÑ‰ΩøÁî®„ÄÇ SMTPÊòØÂèëÈÄÅÈÇÆ‰ª∂ÁöÑÂçèËÆÆÔºåpythonÂØπSMTPÁöÑÊîØÊåÅÊúâsmtplibÂíåemail‰∏§‰∏™Ê®°ÂùóÔºåemailË¥üË¥£ÊûÑÈÄ†ÈÇÆ‰ª∂ÔºåsmtplibË¥üË¥£ÂèëÈÄÅÈÇÆ‰ª∂„ÄÇyagmailÂ∫ì‰πüÊòØÁî®SMTPÂçèËÆÆÊù•ÂèëÈÄÅÈÇÆ‰ª∂ÁöÑÔºå‰∏çËøáÊï¥‰∏™ËøáÁ®ãÁõ∏ÂØπ‰∫ésmtplibÊù•ËØ¥Â∞±ÁÆÄÂçïÂ§ö‰∫Ü„ÄÇ SMTPÂèëÈÄÅÈÇÆ‰ª∂Áé∞Âú®Êù•ÊûÑÈÄ†‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁ∫ØÊñáÊú¨ÈÇÆ‰ª∂„ÄÇ Âú®ËØ•‰æãÂ≠ê‰∏≠ÔºåÂèë‰ª∂‰∫∫‰ΩøÁî®ÁöÑÊòØQQÈÇÆÁÆ±ÔºåÂØÜÁ†ÅÂàôÊòØÂºÄÂêØPOP3/SMTPÊúçÂä°Êó∂ÁöÑÊéàÊùÉÁ†ÅÔºåÂØπÂ∫îÁöÑhostÊòØsmtp.qq.com„ÄÇÊî∂‰ª∂‰∫∫Áî®ÁöÑÊòØ163ÈÇÆÁÆ±ÔºåÂØπÂ∫îÁöÑhostÊòØsmtp.163.comÔºåÂèØ‰ª•ÊääËøô‰∫õ‰ø°ÊÅØÈÉΩÊöÇÊó∂Âú∞ÂÜôÂÖ•ÁéØÂ¢ÉÂèòÈáèÔºåÁÑ∂Âêé‰ΩøÁî®osÊ®°ÂùóÁöÑgetenvÊñπÊ≥ïËé∑Âèñ„ÄÇ 1234567891011121314151617181920212223242526272829303132from email.header import Headerfrom email.mime.text import MIMETextfrom email.utils import parseaddr, formataddrimport smtplibimport osusername = '1000000@qq.com'password = 'qq_email_password'host = 'smtp.163.com'to = 'another_email@163.com'def _format_add(s): """Ê†ºÂºèÂåñÈÇÆ‰ª∂Âú∞ÂùÄ""" name, addr = parseaddr(s) return formataddr((Header(name, 'utf-8').encode(), addr))# MIMEText‰∏â‰∏™ÂèÇÊï∞Ôºö _text, _subtype='plain', _charset=Nonemsg = MIMEText('The first email', 'plain', 'utf-8')msg['From'] = _format_add('spider &lt;%s&gt;' % username)msg['To'] = _format_add('ÁÆ°ÁêÜÂëò &lt;%s&gt;' % to)# Âõ†‰∏∫‰∏ªÈ¢òÂåÖÂê´‰∏≠ÊñáÔºåÊâÄ‰ª•ÈúÄË¶ÅHeaderÂØπË±°ËøõË°åÁºñÁ†Åmsg['Subject'] = Header('Êù•Ëá™SMTPÁöÑÈÇÆ‰ª∂', 'utf-8').encode()# ÈìæÊé•Âπ∂ÂèëÈÄÅÈÇÆ‰ª∂server = smtplib.SMTP(host, 25)# ‰ΩøÁî®server.set_debuglevel(1)ÂèØ‰ª•ÊâìÂç∞Âá∫ÂíåSMTPÊúçÂä°Âô®‰∫§‰∫íÁöÑÊâÄÊúâ‰ø°ÊÅØserver.set_debuglevel(1)server.login(username, password)# to_addrÂèØ‰ª•ÊúâÂ§ö‰∏™ÈÇÆÁÆ±server.sendmail(from_addr=username, to_addr=[to], msg.as_string())server.quit() yagmailÂèëÈÄÅÈÇÆ‰ª∂yagmailÁöÑ‰ΩøÁî®Â∞±Ë∂ÖÁ∫ßÁÆÄÂçïÔºå‰∏çÁî®emailÂéªÊûÑÂª∫ÈÇÆ‰ª∂ÔºåÁõ¥Êé•‰∏ä‰ª£Á†Å„ÄÇ 12345678910import yagmailyag = yagmail.SMTP(user=username, password=password, host=host)# ÈÇÆÁÆ±Ê≠£Êñácontents = ['This is the body']attachments = ['louis.png']# ÂèëÈÄÅÈÇÆ‰ª∂, Ê≤°Êèê‰æõÈÇÆÁÆ±ÂàôÈªòËÆ§ÊòØÂèëÈÄÅÁªôËá™Â∑±yag.send(to, subject=['test yagmail'], contents=contents, attachments=attachments) ‰∏∫‰∫ÜÈÅøÂÖçÂØÜÁ†ÅÊö¥Èú≤Âú®ËÑöÊú¨‰∏≠ÔºåÂèØ‰ª•‰ΩøÁî®keyringÊ®°ÂùóÔºåÂ∞ÜÂØÜÁ†Å‰øùÂ≠òÂú®Á≥ªÁªükeyringÊúçÂä°‰∏≠ÔºåÊàêÂäüËÆæÁΩÆ‰πãÂêéÂ∞±‰∏çÁî®Âú®ËÑöÊú¨‰∏≠Êèê‰æõÂØÜÁ†Å‰∫Ü„ÄÇ 123import keyringkeyring.set_password('yagmail', username, password) Êõ¥Â§öÁöÑÁî®Ê≥ïÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£„ÄÇ ÂÆåÊï¥ÁöÑ‰ª£Á†ÅÔºö 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253# -*- coding:utf-8 -*-# Time: 2018/7/26 09:57import yagmailfrom email.header import Headerfrom email.mime.text import MIMETextfrom email.utils import parseaddr, formataddrimport smtplibimport osusername = os.getenv('QQ_USERNAME')password = os.getenv('QQ_PASSWORD')host = os.getenv('SMTP_SERVER')to = os.getenv('WY_USERNAME')def spider(): try: 1 / 0 except ZeroDivisionError as e: msg = ''.join(msg) yagmail_send(msg) smtplib_send(msg) print(msg)def yagmail_send(m): """Â∞ÜÊä•Èîô‰ø°ÊÅØÂèëÈÄÅÂà∞ÈÇÆ‰ª∂""" yag = yagmail.SMTP(username) contents = [m, 'louis.png'] yag.send(to, subject='error from spider', contents=contents)def smtplib_send(m): """‰ΩøÁî®smtplibÊ®°ÂùóÊù•ÂèëÈÄÅÈÇÆ‰ª∂""" msg = MIMEText(m, 'plain', 'utf-8') msg['From'] = _format_add('spider &lt;%s&gt;' % username) msg['To'] = _format_add('ÁÆ°ÁêÜÂëò &lt;%s&gt;' % to) msg['Subject'] = Header('Áà¨Ëô´Âá∫ÈîôÔºÅÔºÅ', 'utf-8').encode() server = smtplib.SMTP(host, 25) server.login(username, password) server.sendmail(username, [to], msg.as_string()) server.quit()def _format_add(s): name, addr = parseaddr(s) return formataddr((Header(name, 'utf-8').encode(), addr))if __name__ == '__main__': spider() ÂèÇËÄÉÊñáÁ´†ÔºöSMTPÂèëÈÄÅÈÇÆ‰ª∂ yagmail]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>yagmail</tag>
        <tag>smtplib</tag>
        <tag>email</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[supervisorÔºöÈÖçÁΩÆÂèä‰ΩøÁî®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F24%2Fsupervisor%EF%BC%9A%E9%85%8D%E7%BD%AE%E5%8F%8A%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[supervisorÊòØpython2ÂÜôÁöÑ‰∏ÄÊ¨æËøêÁª¥Â∑•ÂÖ∑Ôºå‰∏çËøáÁõÆÂâçÂπ∂‰∏çÊîØÊåÅpython3„ÄÇÊâÄ‰ª•Áõ¥Êé•Áî®pip3 install supervisorÊàñËÄÖpipenvÁõ¥Êé•ÂÆâË£ÖÈÉΩ‰ºöÊä•Èîô„ÄÇËÄåMacËá™Â∏¶ÁöÑpythonÁâàÊú¨ÊòØ2.7ÔºåÂèØ‰ª•Áõ¥Êé•Áî®brewÊù•ÂÆâË£ÖsupervisorÔºå‰πãÂêéÂú®ÂØπÂ∫îÁöÑÈ°πÁõÆÊåáÂÆöËøêË°åpython3ÂéªËøêË°å‰ª£Á†ÅÂç≥ÂèØ„ÄÇ ‰∏ãÈù¢ÁÆÄÂçïËÆ∞ÂΩï‰πãÂâç‰ΩøÁî®supervisorÁöÑËøáÁ®ãÔºö ÂÆâË£ÖsupervisorÁõ¥Êé•‰ΩøÁî®brewÂÆâË£Ö 1brew install supervisor ÁîüÊàêÈªòËÆ§ÈÖçÁΩÆÊñá‰ª∂Â≠òÊîæÈÖçÁΩÆÊñá‰ª∂ÁöÑË∑ØÂæÑÂèØ‰ª•‰ªªÊÑèÊåáÂÆöÔºåÂè™ÈúÄË¶ÅÁ°Æ‰øùË∑ØÂæÑÂ≠òÂú®Âç≥ÂèØ 1echo_supervisord_conf &gt; /usr/local/etc/supervisord.conf Âè¶Â§ñÔºåÊàëÂú®etc/ÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™Êñá‰ª∂Â§πÊù•Â≠òÊîæÂÖ∂‰ªñÈ°πÁõÆÁöÑÈÖçÁΩÆÊñá‰ª∂ÔºàÂ¶Çproj.confÔºåÂêéÊñá‰ºöÊèêÂà∞ÔºåÁªìÊûÑÂ¶Ç‰∏ãÔºö ‰øÆÊîπÈÖçÁΩÆÊñá‰ª∂ÊúÄÂêéÁöÑincludeÂ∞§ÂÖ∂ÈáçË¶ÅÔºåÂèØ‰ª•Êñπ‰æøÂú∞‰∏∫ÊØè‰∏™È°πÁõÆÂçïÁã¨ËÆæÁΩÆconfÊñá‰ª∂ÔºåËøôÊ†∑Â∞±‰∏çÁî®ÂÖ®ÈÉ®ÂÜôÂú®ÂÖ®Â±ÄÈÖçÁΩÆÈáåÈù¢Ôºå‰πüÊñπ‰æø‰øÆÊîπ„ÄÇ Â¢ûÂä†È°πÁõÆÁöÑÈÖçÁΩÆÊñá‰ª∂Ëøô‰∏™ÈÖçÁΩÆÊñá‰ª∂‰πüÂèØ‰ª•Áõ¥Êé•ÂÜôÂÖ•ÂÖ®Â±ÄÈÖçÁΩÆÊñá‰ª∂ÈáåÁöÑ(supervisord.conf)„ÄÇËøôÈáåÊòØÂçïÁã¨ËÆæÁΩÆÔºåÂøÖÈ°ªÊîæÂú®supervisor/‰∏ãÔºå‰πüÂ∞±ÊòØ‰∏ä‰∏ÄÊ≠•‰∏≠incluedeÊåáÂÆöÁöÑ‰ΩçÁΩÆ„ÄÇ ÂêØÂä®supervisordsupervisordÊòØsupervisorÁöÑÊúçÂä°Á´ØÁ®ãÂ∫èÔºåÂêØÂä®supervisorÁÆ°ÁêÜÁöÑÂ≠êËøõÁ®ãÔºåÂìçÂ∫îÊù•Ëá™clientsÁöÑËØ∑Ê±Ç„ÄÇ Âú®ÁªàÁ´ØËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§Ôºö 1supervisord -c /usr/local/etc/supervisord.conf Â¶ÇÊûúÂú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÊúâÂºÄÂêØ[inet_http_server]Âíåport=127.0.0.1:9001ÔºåÈÇ£‰πàÊàêÂäüÂêØÂä®‰πãÂêéÂ∞±ÂèØ‰ª•Âú®ÊµèËßàÂô®ÈáåÊâìÂºÄÔºåÊü•ÁúãÈ°πÁõÆÁöÑËøêË°åÁä∂ÊÄÅÔºåÈáçÂêØ„ÄÅÂÖ≥Èó≠È°πÁõÆÁ≠âÊìç‰ΩúÔºåÈùûÂ∏∏‰æøÊç∑„ÄÇ ÂÖ≥Èó≠supervisordÊó∂ÔºåÈÄöËøáps aux | grep supervisordËé∑Âæópid‰πãÂêékill„ÄÇÊõ¥Â§ö‰ø°ÊÅØÂèØ‰ª•Êü•ÁúãÂÆòÊñπÊñáÊ°£„ÄÇ ÂêØÂä®supervisorctlsupervisorctlÊèê‰æõ‰∫Ü‰∏Ä‰∏™Á±ªÂûãshellÁöÑÂëΩ‰ª§Ë°åÁïåÈù¢ÔºåÂèØ‰ª•ÂØπÂ≠êËøõÁ®ãËøõË°åÁõ∏ÂÖ≥Êìç‰ΩúÔºåÊØîÂ¶ÇÊü•ÁúãÁä∂ÊÄÅ„ÄÅÂêØÂä®/ÂÅúÊ≠¢/ÈáçÂêØÂ≠êËøõÁ®ãÁ≠â„ÄÇ Âú®ÁªàÁ´ØËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§(ÂèØ‰ª•‰∏çÁî®ÊåáÂÆöÈÖçÁΩÆÊñá‰ª∂)Ôºö 1supervisorctl [-c ‚Ä¶/*.conf] ÈÄÄÂá∫supervisorctlÊó∂ÔºåÂú®supervisorctl shell‰∏≠ËæìÂÖ•exitÈÄÄÂá∫„ÄÇ ËøõÁ®ãÁªÑÁöÑ‰ΩøÁî®supervisorÂêåÊó∂ËøòÊèê‰æõ‰∫ÜÂè¶Â§ñ‰∏ÄÁßçËøõÁ®ãÁªÑÁöÑÁÆ°ÁêÜÊñπÂºèÔºåÈÄöËøáËøôÁßçÊñπÂºèÔºåÂèØ‰ª•‰ΩøÁî®supervisorctlÂëΩ‰ª§Êù•ÁÆ°ÁêÜ‰∏ÄÁªÑËøõÁ®ã„ÄÇÊõ¥[program:x]ÁöÑËøõÁ®ãÁªÑ‰∏çÂêåÁöÑÊòØÔºåËøôÈáåÁöÑËøõÁ®ãÊòØ‰∏Ä‰∏™‰∏™ÁöÑ[program:x]„ÄÇ ÂΩìÊ∑ªÂä†‰∫Ü‰∏äËø∞ÈÖçÁΩÆÂêéÔºåprogname1Âíåprogname2ÁöÑËøõÁ®ãÂêç‰ºöÂèòÊàêthegroupname:progname1 Âíåthegroupname:progname2Ôºå‰ª•ÂêéÂ∞±Ë¶ÅÁî®Âêé‰∏§‰∏™ÂêçÂ≠óÊù•ÁÆ°ÁêÜËøõÁ®ã‰∫Ü„ÄÇ ‰ª•ÂêéÊâßË°åsupervisorctl stop thegroupname:Â∞±ËÉΩÂêåÊó∂ÁªìÊùüprogname1Âíåprogname2ÔºåÊâßË°åsupervisorctl stop thegroupname:progname1Â∞±ËÉΩÁªìÊùüprogname1`„ÄÇ ÂèÇËÄÉÊñáÁ´†Ôºösupervisor(‰∏Ä)Âü∫Á°ÄÁØá Running Supervisor]]></content>
      <tags>
        <tag>supervisor</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pythonÔºöÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñÊñπÊ≥ï]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F22%2Fpython%EF%BC%9A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[python‰∏≠Â∏∏Áî®ÁöÑÂ≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñÊñπÊ≥ïÊúâÔºö%Êìç‰ΩúÁ¨¶„ÄÅstr.format()Ê†ºÂºèÔºåËøòÊúâpython3.6Êñ∞Â¢ûÁöÑf-strings„ÄÇ‰∏çËøáË¶ÅÂ∞ΩÈáè‰ΩøÁî®formatÊñπÂºèÂíåf-stringsÔºåËÄå‰∏çÊòØ%Êìç‰ΩúÁ¨¶„ÄÇ %Êìç‰ΩúÁ¨¶Âü∫Êú¨ÂΩ¢Âºè‰∏∫Ôºö%[(name)][flags][width].[precision]typecode flagsÊòØÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢Ê†áËÆ∞„ÄÇ ËΩ¨Êç¢Ê†áËÆ∞ Ëß£Èáä - Ë°®Á§∫Â∑¶ÂØπÈΩê + Âú®Ê≠£Êï∞ÂâçÈù¢Âä†‰∏ä+ ‚Äò ‚Äô(a space) Ë°®Á§∫Ê≠£Êï∞ÂâçÈù¢‰øùÁïôÁ©∫Ê†º # Âú®ÂÖ´ËøõÂà∂Ê†ëÂâçÊòæÁ§∫Èõ∂(‚Äò0‚Äô)ÔºåÂú®ÂçÅÂÖ≠ËøõÂà∂ÂâçÊòæÁ§∫OxÊàñËÄÖOX 0 Ë°®Á§∫ËΩ¨Êç¢ÂÄºËã•‰ΩçÊï∞‰∏çÂ§üÁî®0Â°´ÂÖÖËÄåÈùûÈªòËÆ§ÁöÑÁ©∫Ê†º typecodeÊòØÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤ËΩ¨Êç¢Á±ªÂûã„ÄÇ ËΩ¨Êç¢Á±ªÂûã Ëß£Èáä s Â≠óÁ¨¶‰∏≤ÔºàÈááÁî®str()ÁöÑÊòæÁ§∫Ôºâ r Â≠óÁ¨¶‰∏≤ÔºàÈááÁî®repr()ÁöÑÊòæÁ§∫Ôºâ c Âçï‰∏™Â≠óÁ¨¶ b ‰∫åËøõÂà∂Êï¥Êï∞ i„ÄÅd ÂçÅËøõÂà∂Êï¥Êï∞ o ÂÖ´ËøõÂà∂Êï¥Êï∞ x„ÄÅX ÂçÅÂÖ≠ËøõÂà∂Êï¥Êï∞ e„ÄÅE ÊåáÊï∞ÔºàÂü∫Â∫ïÂÜô‰∏∫e/EÔºâ f„ÄÅF ÊµÆÁÇπÊï∞ g„ÄÅG Â¶ÇÊûúÊåáÊï∞Â§ß‰∫é-4ÊàñËÄÖÂ∞è‰∫éÁ≤æÂ∫¶ÂÄºÂàôÂíåe/EÁõ∏ÂêåÔºåÂÖ∂‰ªñÊÉÖÂÜµÂíåf/FÁõ∏Âêå %Êìç‰ΩúÁ¨¶Ê†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤Êúâ‰ª•‰∏ãÂá†ÁßçÂ∏∏ËßÅÁî®Ê≥ïÔºö Áõ¥Êé•Ê†ºÂºèÂåñÂ≠óÁ¨¶ÊàñËÄÖÊï∞ÂÄº 1234&gt;&gt;&gt; price = 99&gt;&gt;&gt; s = 'the price is %+10.2f' % price'the price is +99.00' %+10.2f‰πüÂèØ‰ª•ÂÜô‰∏∫%(price)+10.2fÔºåÊ†πÊçÆÂü∫Êú¨ÂΩ¢Âºè%[(name)][flags][width].[precision]typecodeÔºåÂÖ∂‰∏≠name‰∏∫priceÔºåflages‰∏∫+Ôºåwidth‰∏∫10Ôºåprecision‰∏∫2ÔºåÂç≥‰øùÁïô‰∏§‰ΩçÂ∞èÊï∞Ôºåtypecode‰∏∫fÔºåÂç≥ÊµÆÁÇπÊï∞„ÄÇ ‰ª•ÂÖÉÁªÑÁöÑÂΩ¢ÂºèÊ†ºÂºèÂåñ 123&gt;&gt;&gt; s = 'His name is %s, his age is %d' % ('Adam', 22)'His name is Adam, his age is 22' ‰ª•Â≠óÂÖ∏ÁöÑÂΩ¢ÂºèÊ†ºÂºèÂåñ 1234&gt;&gt;&gt; data = &#123;'name':'Adam', 'age': 22 &#125;&gt;&gt;&gt; s = 'His name is %(name)s, his age is %(age)d' % data'His name is Adam, his age is 22' .formatÊ†ºÂºèÂåñstr.format()ÁöÑÂü∫Êú¨Ê†ºÂºèÔºö[[Â°´ÂÖÖÁ¨¶]ÂØπÈΩêÊñπÂºè][Á¨¶Âè∑][#][0][ÂÆΩÂ∫¶][,][.Á≤æÁ°ÆÂ∫¶][ËΩ¨Êç¢Á±ªÂûã]„ÄÇÂ°´ÂÖÖÁ¨¶ÂèØ‰ª•ÊòØÈô§‰∫Ü‚Äù{‚ÄúÂíå‚Äù}‚Äù‰πãÂ§ñÁöÑ‰ªªÊÑèÁ¨¶Âè∑ÔºåËΩ¨Êç¢Á±ªÂûãË∑ü%Êìç‰ΩúÁ¨¶ÁöÑËΩ¨Êç¢Á±ªÂûãÁ±ª‰ºº„ÄÇ ÂØπÈΩêÊñπÂºè ÂØπÈΩêÊñπÂºè Ëß£Èáä &lt; Â∑¶ÂØπÈΩêÔºåÊòØÂ§ßÂ§öÊï∞ÂØπË±°ÈªòËÆ§ÁöÑÂØπÈΩêÊñπÂºè &gt; Âè≥ÂØπÈΩêÔºåÊï∞ÂÄºÈªòËÆ§ÁöÑÂØπÈΩêÊñπÂºè = ‰ªÖÂØπÊï∞ÂÄºÁ±ªÂûãÂèàÂ∞èÔºåÂ¶ÇÊûúÊúâÁ¨¶Âè∑ÁöÑËØùÔºåÂú®Á¨¶Âè∑ÂêéÊï∞ÂÄºÂâçËøõË°åÂ°´ÂÖÖÔºåÂ¶Ç-000029 ^ Â±Ö‰∏≠ÂØπÈΩêÔºåÁî®Á©∫Ê†ºËøõË°åÂ°´ÂÖÖ Á¨¶Âè∑ÂàóË°® Á¨¶Âè∑ Ëß£Èáä + Ê≠£Êï∞ÂâçÂä†+ÔºåË¥üÊï∞ÂâçÂä†- - Ê≠£Êï∞Ââç‰∏çÂä†Á¨¶Âè∑ÔºåË¥üÊï∞ÂâçÂä†-Ôºå‰∏∫Êï∞ÂÄºÁöÑÈªòËÆ§ÂΩ¢Âºè ‚Äò ‚Äò(Á©∫Ê†º) Ê≠£Êï∞ÂâçÂä†Á©∫Ê†ºÔºåË¥üÊï∞ÂâçÂä†- Ë∑ü%Êìç‰ΩúÁ¨¶‰∏çÂêåÁöÑ‰∏ÄÁÇπÊòØÔºåÊúâ‰∫õËΩ¨Êç¢Á±ªÂûãÊòØ‰∏çÂêåÁöÑ ËΩ¨Êç¢Á±ªÂûã Ëß£Èáä !s Â≠óÁ¨¶‰∏≤ÔºåË∞ÉÁî®str()ÊñπÊ≥ï !r Â≠óÁ¨¶‰∏≤ÔºåË∞ÉÁî®repr()ÊñπÊ≥ï !a ascii() 123456&gt;&gt;&gt; "&#123;0!r:&gt;20&#125;".format("Hello") # '%+20r' % 'Hello'" 'Hello'"&gt;&gt;&gt; "&#123;0:&gt;20&#125;".format("Hello")' Hello' .formatÊñπÊ≥ïÂ∏∏ËßÅÁî®Ê≥ïÂ¶Ç‰∏ãÔºö ‰ΩøÁî®‰ΩçÁΩÆÁ¨¶Âè∑ 123&gt;&gt;&gt; "The number &#123;0:,&#125; in hex is: &#123;0:#x&#125;, the number &#123;1&#125; in oct is &#123;1:#0&#125;".format(4746, 45)'The number 4,746 in hex is: 0x128a, the number 45 in oct is 45' ‰ΩøÁî®ÂêçÁß∞ 123&gt;&gt;&gt; "the max number is &#123;max&#125;, the min number is &#123;min&#125;, the average number is &#123;average:0.3f&#125;".format(max=189, min=12.6, average=23.5)'the max number is 189, the min number is 12.6, the average number is 23.500' Â¶ÇÊûúÈúÄË¶ÅËøõË°åÊõ¥Â§öÁöÑÊ†ºÂºèÂ§ÑÁêÜÔºåÂ∞±Âú®:ÂêéÈù¢Ê∑ªÂä†Âç≥ÂèØ„ÄÇÂ¶Ç&quot;{0:^20}&quot;.format(&quot;Hello&quot;). ÈÄöËøáÂ±ûÊÄß 1234567891011&gt;&gt;&gt; class Customer(object):&gt;&gt;&gt; def __init__(self, name, gender):... self.name = name... self.gender = gender &gt;&gt;&gt; def __str__(self):... return "Customer (&#123;self.name&#125;, &#123;self.gender&#125;)".format(self=self) &gt;&gt;&gt; str(Customer('Lisa', 'Female'))'Customer(Lisa, Female)' Ê†ºÂºèÂåñÂÖÉÁªÑÁöÑÂÖ∑‰ΩìÈ°π ‰ΩøÁî®ËøôÁßçÊñπÂºèÔºåÂèÇÊï∞ÁöÑÈ°∫Â∫è‰∏éÊ†ºÂºèÂåñÁöÑÈ°∫Â∫è‰∏çÂøÖÂÆåÂÖ®Áõ∏Âêå 1234567891011&gt;&gt;&gt; point = (1, 3)&gt;&gt;&gt; print('X:&#123;0[0]&#125;; Y:&#123;0[1]&#125;'.format(point))&gt;&gt;&gt; w = [('a', 10), ('b', 20), ('c', 30)]&gt;&gt;&gt; f = 'this is &#123;0[0]&#125;, this is &#123;0[1]&#125;'.format&gt;&gt;&gt; for i in map(f, w):... print(i) this is a, this is 10this is b, this is 20this is c, this is 30 f-stringspython3.6‰πãÂêéÊñ∞Â¢û‰∫Üf-stringsÊ†ºÂºèÂåñËØ≠Ê≥ïÔºåÊ†ºÂºèÂ¶Ç‰∏ãÔºö 1f &apos; &lt;text&gt; &#123; &lt;expression&gt; &lt;optional !s, !r, or !a&gt; &lt;optional : format specifier&gt; &#125; &lt;text&gt; ... &apos; Âü∫Êú¨Áî®Ê≥ïÔºö 123456&gt;&gt;&gt; import datetime&gt;&gt;&gt; name = 'Fred'&gt;&gt;&gt; age = 50&gt;&gt;&gt; anniversary = datetime.date(1991, 10, 12)&gt;&gt;&gt; f'My name is &#123;name&#125;, my age next year is &#123;age+1&#125;, my anniversary is &#123;anniversary:%A, %B %d, %Y&#125;.''My name is Fred, my age next year is 51, my anniversary is Saturday, October 12, 1991.' ÊîØÊåÅË°®ËææÂºèÔºö 1234&gt;&gt;&gt; def foo():... return 20&gt;&gt;&gt; f'result=&#123;foo()&#125;''result=20' Ê†ºÂºèÁ¨¶Ôºö 123456789&gt;&gt;&gt; width = 10&gt;&gt;&gt; precision = 4&gt;&gt;&gt; value = decimal.Decimal('12.34567')&gt;&gt;&gt; f'result: &#123;value:&#123;width&#125;.&#123;precision&#125;&#125;''result: 12.35'# Â¶ÇÊûúÊòØÊï¥Êï∞ÁöÑËØùÔºåÂàô‰∏çËÉΩ‰º†ÈÄíÁ≤æÁ°ÆÂ∫¶age = 50f'&#123;age:^10&#125;' ‰∏éÂéüÂßãÂ≠óÁ¨¶‰∏≤‰ΩøÁî®Ôºö 123&gt;&gt;&gt; header = 'Subject'&gt;&gt;&gt; fr'&#123;header&#125;:\s+''Subject:\\s+' ‰ΩøÁî®Ëä±Êã¨Âè∑Ôºö 1234&gt;&gt;&gt; f"&#123;&#123; &#123;10 * 8&#125; &#125;&#125;" # Ê≥®ÊÑèÁ©∫Ê†º'&#123; 80 &#125;'&gt;&gt;&gt; f"&#123;&#123; 10 * 8 &#125;&#125;"'&#123; 10 * 8 &#125;' ‰∏éÂåøÂêçÂáΩÊï∞‰ΩøÁî®Ôºö 12&gt;&gt;&gt; f'&#123;(lambda x: x*2)(3)&#125;' '6' Âú®f-strings‰∏≠‰∏çËÉΩ‰ΩøÁî®\ÔºåÂèØ‰ª•Áî®ÂçïÂèåÂºïÂè∑ËøõË°åÂå∫ÂàÜÔºåÂ¶ÇÊûúÈúÄË¶ÅË∑®Ë°åÔºåÂàô‰ΩøÁî®‰∏â‰∏™ÂçïÂºïÂè∑„ÄÇ ÂèÇËÄÉÊñáÁ´†ÔºöÊèêÈ´òpython‰ª£Á†ÅÁºñÂÜôË¥®ÈáèÁöÑ91‰∏™Âª∫ËÆÆ common string operations Literal String Interpolation]]></content>
      <tags>
        <tag>Ê†ºÂºèÂåñ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[python3Ôºö‰ª£ÁêÜËÆæÁΩÆ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F19%2Fpython3-%E4%BB%A3%E7%90%86%E8%AE%BE%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[Âú®Áà¨Ëô´ËøáÁ®ãÊúâÊó∂ÂÄôÈúÄË¶ÅÊõ¥Êç¢ip‰ª•Èò≤Ë¢´Â∞ÅÔºå‰∏ªË¶ÅÊúâHTTP‰ª£ÁêÜÂíåsocks5‰ª£ÁêÜ„ÄÇ ‰ΩøÁî®requestsËÆæÁΩÆHTTP‰ª£ÁêÜ12345678import requestsproxies = &#123; "http": "http://127.0.0.1:8118", "https": "http://127.0.0.1:8118",&#125;requests.get("http://httpbin.org/get", proxies=proxies) Â¶ÇÊûú‰ª£ÁêÜÈúÄË¶ÅHTTP Basic AuthÔºåÂèØ‰ª•‰ΩøÁî®http://user:password@host:port/„ÄÇ ‰ΩøÁî®requestsËÆæÁΩÆsocks5‰ª£ÁêÜ1„ÄÅÂÖ®Â±ÄËÆæÁΩÆ ‰ΩøÁî®socksÊ®°ÂùóÔºåÈúÄË¶ÅÂÖàÂÆâË£Ö‰æùËµñÂ∫ì 1pip install PySocks 12345678import socksimport socketimport requestssocks.set_default_proxy(socks.SOCKS5, '127.0.0.1', 1080)socket.socket = socks.socksocketresponse = requests.get('http://httpbin.org/get')print(response.text) 2„ÄÅÂ±ÄÈÉ®ËÆæÁΩÆ requests‰πüÊîØÊåÅsocks5‰ª£ÁêÜÔºåË∑üËÆæÁΩÆHTTP‰ª£ÁêÜ‰∏ÄÊ†∑ÔºåÂèØ‰ª•Âè™‰ΩúÁî®Âú®ÈÉ®ÂàÜËØ∑Ê±Ç‰∏ä„ÄÇ‰∏çËøáÈúÄË¶ÅÂÖàÂÆâË£ÖÁ¨¨‰∏âÊñπÂ∫ì 1pip install requests[socks] ‰ΩøÁî®ÊñπÊ≥ïÊòØ‰πãÂâçÁ±ª‰ººÔºåÂ¶ÇÊûúÈúÄË¶ÅÈ™åËØÅÔºåÊ†ºÂºèÁ±ª‰ººÔºösocks5://user:pass@host:port 123456789101112import requestsproxies = &#123; 'http': 'socks5://127.0.0.1:1080', 'https': 'socks5://127.0.0.1:1080'&#125;try: response = requests.get('http://httpbin.org/get', proxies=proxies) print(response.text)except requests.exceptions.ConnectionError as e: print(e.args) ‰ΩøÁî®urllibËÆæÁΩÆHTTP‰ª£ÁêÜ123456789101112131415from urllib.error import URLErrorfrom urllib.request import ProxyHandler, build_openerproxy = '127.0.0.1:8118'proxy_handler = ProxyHandler(&#123; 'http': 'http://' + proxy, 'https': 'https://' + proxy&#125;)opener = build_opener(proxy_handler)try: response = opener.open('http://httpbin.org/get') print(response.read().decode('utf-8'))except URLError as e: print(e.reason) ‰ΩøÁî®urllibËÆæÁΩÆsocks5‰ª£ÁêÜ12345678910from urllib.request import ProxyHandler, build_opener, urlopenfrom urllib.error import URLErrorproxy_handler = ProxyHandler(&#123;'sock5': 'localhost:1080'&#125;)opener = build_opener(proxy_handler)try: response = urlopen('http://httpbin.org/get') print(response.read())except URLError as e: print(e.reason) urllib‰πüÂèØ‰ª•ÂÉèrequestsÂ∫ìËÆæÁΩÆÂÖ®Â±Ä‰ª£ÁêÜÈÇ£Ê†∑ËÆæÁΩÆsocks5‰ª£ÁêÜÔºåÂÖ∑‰Ωì‰ª£Á†ÅË∑ü‰πãÂâçÁ±ª‰ººÔºö 123456789101112import socksimport socketfrom urllib.request import urlopenfrom urllib.error import URLErrorsocks.set_default_proxy(socks.SOCKS5, '127.0.0.1', 1080)socket.socket = socks.socksockettry: response = urlopen('http://httpbin.org/get') print(response.read())except URLError as e: print(e.reason) ÊúÄÂêé‰∏ÄÁÇπËØ¥ÊòéÔºåÊàëÂú®Êú¨Âú∞1080Á´ØÂè£Êê≠‰∫Üsocks5‰ª£ÁêÜÔºåÂπ∂Áî®privoxyÂ∞Üsocks5‰ª£ÁêÜËΩ¨‰∏∫HTTP‰ª£ÁêÜÔºåÁ´ØÂè£‰∏∫8118„ÄÇÊâÄ‰ª•ÊµãËØïÁöÑÊó∂ÂÄô‰ΩøÁî®‰∏çÂêåÁ´ØÂè£‰ª£Ë°®‰∏çÂêåÁöÑ‰ª£ÁêÜÁ±ªÂûã„ÄÇÂÖ∑‰ΩìËÆæÁΩÆËøáÁ®ãÂèØ‰ª•Êü•Áúã‰πãÂâçÁöÑÊñáÁ´†„ÄäMacÁªàÁ´Ø‰ΩøÁî®‰ª£ÁêÜ„Äã„ÄÇ]]></content>
      <categories>
        <category>ÂÖ∂‰ªñ</category>
      </categories>
      <tags>
        <tag>‰ª£ÁêÜ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[redisÂü∫Êú¨Êï∞ÊçÆÁªìÊûÑÂíåÂü∫Êú¨Êìç‰Ωú]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F12%2Fredis%E5%B8%B8%E7%94%A8API%2F</url>
    <content type="text"><![CDATA[Âú®ÁªàÁ´ØÁôªÂΩïÂà∞redisÊï∞ÊçÆÂ∫ìÁöÑÊ≠•È™§Â¶Ç‰∏ãÔºö ÁôªÂΩïredis-server 1redis-server /path/to/the/config/file ÁôªÂΩïredis-cli 1234567# Â¶ÇÊûúÊ≤°ÊúâÂØÜÁ†ÅÂ∞±Áõ¥Êé•redis-cliredis-cli -a your-password# ‰πüÂèØ‰ª•ËøõÂÖ•Âà∞redis‰πãÂêéÂÜç‰ΩøÁî®auth your-passwordËøõË°åÈ™åËØÅ# Â¶ÇÊûúÊòØËøúÁ®ãËÆøÈóÆredisÊúçÂä°ÔºåÂâçÊèêÊòØÔºåËøúÁ®ãredisÊúçÂä°‰πüÂ∑≤ÁªèÂºÄÂêØÔºåÊñπÂºèÂ¶Ç‰∏äÊâÄÁ§∫redis-cli -h remote_ip -p port ÈÄâÊã©Êï∞ÊçÆÂ∫ì 1select 1 ÈÄöÁî®ÂëΩ‰ª§ ÂëΩ‰ª§ ËØ¥Êòé Â§áÊ≥® keys [pattern] ÈÅçÂéÜÁ¨¶ÂêàÊù°‰ª∂ÁöÑÊâÄÊúâÈîÆ ËØ•ÂëΩ‰ª§‰∏ÄËà¨‰∏çÂú®Áîü‰∫ßÁéØÂ¢É‰∏≠‰ΩøÁî® dbsize ÊòæÁ§∫ ÂΩìÂâçÂ∫ìÁöÑkeyÊï∞ÁõÆ exists key Êü•ÁúãÊüê‰∏™keyÊòØÂê¶Â≠òÂú® ttl key Êü•ÁúãkeyËøòÊúâÂ§öÂ∞ëÊó∂Èó¥ÊâçËøáÊúü ÁªìÊûú&gt;0ËØ¥ÊòéËøòÊúâÂØπÂ∫îÁöÑÁßíÊï∞ÊâçËøáÊúüÔºõ -1ËØ¥ÊòékeyÂ≠òÂú®ÔºåÂπ∂‰∏îÊ≤°ÊúâËøáÊúüÊó∂Èó¥ -2ËØ¥ÊòékeyÂ∑≤Áªè‰∏çÂ≠òÂú®‰∫Ü persist key ÂéªÊéâkeyÁöÑËøáÊúüÊó∂Èó¥ del key1 key2 Âà†Èô§key-value ÂèØ‰ª•Âà†Èô§Â§ö‰∏™keyÔºå‰ª•Á©∫Ê†ºÈöîÂºÄ expire key secondsÔºàÂÖ∑‰ΩìÁßíÊï∞Ôºâ keyÂú®secondsÁßí‰πãÂêéËøáÊúü type key ËøîÂõûkeyÁöÑÁ±ªÂûã flushdb Âà†Èô§ÂΩìÂâçÊï∞ÊçÆÂ∫ì‰∏≠ÊâÄÊúâkey flushall Âà†Èô§ÊâÄÊúâÊï∞ÊçÆÂ∫ìÁöÑÊâÄÊúâkey config key * Êü•ÁúãÊâÄÊúâÁöÑÂèØÈÖçÁΩÆÈÄâÈ°π rename key newkey ‰øÆÊîπkeyÁöÑÂêçÂ≠ó renamenx key newkey ‰ªÖÂΩìnewkey‰∏çÂ≠òÂú®Êó∂ÔºåÂ∞Ükey‰øÆÊîπ‰∏∫newkey move key db Â∞ÜÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑkeyÁßªÂä®Âà∞ÁªôÂÆöÁöÑÊï∞ÊçÆÂ∫ìdbÂΩì‰∏≠ dump key Â∫èÂàóÂåñkeyÔºåÂπ∂ËøîÂõûË¢´Â∫èÂàóÂåñÁöÑÂÄº Êï∞ÊçÆÁªìÊûÑÂ≠óÁ¨¶‰∏≤ÔºàstringÔºâmget„ÄÅmsetÊó∂Èó¥Â§çÊùÇÂ∫¶‰∏∫O(n)ÔºåÂÖ∂‰ªñÁöÑÊìç‰ΩúÈÉΩ‰∏∫O(1) API ËØ¥Êòé ‰æãÂ≠ê Â§áÊ≥® set ËÆæÁΩÆ/‰øÆÊîπÊï∞ÊçÆ set hello world Âè™ËÉΩÂØπÂçï‰∏™Êìç‰ΩúÔºågetÂíådel‰πüÊòØ get Ëé∑Âèñ get hello del Âà†Èô§ del hello incr„ÄÅdecr Ëá™Â¢û„ÄÅËá™Âáè incr count key‰∏çÂ≠òÂú®ÈÇ£‰πàÊâßË°å‰πãÂêékey‰∏∫1/-1 incrby„ÄÅdecrby ÊåâÊåáÂÆöÊï∞ÂÄºËøõË°åÂ¢ûÂä†(ÂáèÂ∞ë) incrby count 10 incrby/decrby key num setnx key‰∏çÂ≠òÂú®Êó∂ÊâçËÉΩËÆæÁΩÆÊàêÂäü setnx php best setnx key value getset Êõ¥Êñ∞Âπ∂ËøîÂõûÊóßkey getset count 99 getset key newvalue mset„ÄÅmget ÊâπÈáèÊìç‰Ωú mset k1 v1 k2 v2 mset / mget key1 value1 key2 value2 append Â∞ÜvalueËøΩÂä†Âà∞ÊóßÁöÑvalueÂêéÈù¢ append k1 v3 append key valueÔºåÁ±ª‰ººÂ≠óÁ¨¶‰∏≤ÊãºÊé• strlen ËøîÂõûkeyÁöÑÂ≠óËäÇÈïøÂ∫¶ strlen k1 strlen key incrbyfloat ÁªôkeyÂ¢ûÂä†ÊµÆÁÇπÊï∞ incrbyfloat num 3.5 incrbyfloat key num(float) getrange Ëé∑ÂèñÂ≠óÁ¨¶‰∏≤ÊåáÂÆö‰∏ãÊ†áÁöÑÊâÄÊúâÂÄº getrange hello 1 3 getrange key start endÔºåÂåÖÊã¨end setrange ËÆæÁΩÆÊåáÂÆö‰∏ãÊ†áÂØπÂ∫îÁöÑÂÄº setrange hello 1 h setrange key index vale ÂàóË°®ÔºàlistÔºâ API ËØ¥Êòé ‰æãÂ≠ê Â§áÊ≥® rpush ‰ªéÂàóË°®Âè≥ËæπÊèíÂÖ•Â§ö‰∏™ÂÄº rpush listkey c b a rpush key value1 value2 value3 lpush ‰ªéÂàóË°®Â∑¶ËæπÊèíÂÖ•Â§ö‰∏™ÂÄº lpush listkey c b a lpush key value1 value2 value3 linsert Âú®ÊåáÂÆöÁöÑvalueÂâçÈù¢/ÂêéÈù¢ÊèíÂÖ•newvalue linsert listkey before a java linsert key before / after value newvalue lpop ‰ªéÂàóË°®Â∑¶ËæπÂºπÂá∫‰∏Ä‰∏™item lpop listkey lpop key rpop ‰ªéÂàóË°®Âè≥ËæπÂºπÂá∫‰∏Ä‰∏™item rpop listkey rpop key lrem Âà†Èô§count‰∏™‰∏évalueÁõ∏ÂêåÁöÑÈ°πcount&gt;0Ôºö‰ªéÂ∑¶Âà∞Âè≥ÊúÄÂ§öÂà†Èô§count‰∏™valueÁõ∏Á≠âÁöÑÈ°π Ôºõcount&lt;0Ôºö‰ªéÂè≥Âà∞Â∑¶ÊúÄÂ§öÂà†Èô§count‰∏™valueÁõ∏Á≠âÁöÑÈ°π Ôºõ count=0ÔºöÂà†Èô§ÂàóË°®‰∏≠ÊâÄÊúâÁ≠â‰∫évalueÁöÑÈ°π lrem listkey -1 c lrem listkey 0 b lrem key count value lrange Ëé∑ÂèñÂàóË°®ÊåáÂÆöÁ¥¢ÂºïËåÉÂõ¥ÊâÄÊúâitem lrange listkey 2 5 lrange listkey -6 -1 lrange key start end(ÂåÖÂê´endÔºâ ltrim ÊåâÁÖßÁ¥¢ÂºïËåÉÂõ¥‰øÆÂâ™ÂàóË°® ltrim listkey 0 6 ltrim key start end lindex Ê†πÊçÆÊåáÂÆöÁöÑindexÊù•Ëé∑ÂèñÂØπÂ∫îÁöÑitem lindex listkey 2 lindex key index llen Ëé∑ÂèñÂàóË°®ÈïøÂ∫¶ llen listkey llen key lset ËÆæÁΩÆÂàóË°®ÊåáÂÆöÁ¥¢ÂºïÂÄº‰∏∫newvalue lset listkey 3 java lset key index newvalue blpop blpopÁöÑÈòªÂ°ûÁâàÊú¨ÔºåÊåáÂÆöÈòªÂ°ûÊó∂Èó¥Ôºåtimeout=0‰∏∫Ê∞∏‰∏çÈòªÂ°ûÔºåO(1) blpop listkey 3 blpop key timeout brpop brpopÁöÑÈòªÂ°ûÁâàÊú¨ÔºåÊåáÂÆöÈòªÂ°ûÊó∂Èó¥Ôºåtimeout=0‰∏∫Ê∞∏‰∏çÈòªÂ°ûÔºåO(1) brpop listkey 3 brpop key timeout ÂèØ‰ª•Âà©Áî®ÂàóË°®ÁöÑ‰∏Ä‰∫õÁâπÂæÅÂÆûÁé∞‰∏Ä‰∫õÂäüËÉΩÔºö 1234567lpush+lpop=stacklpush+rpop=queuelpush+ltrim=capped collectionlpush+brpop=message queue ÈõÜÂêàÔºàsetÔºâ API ËØ¥Êòé ‰æãÂ≠ê Â§áÊ≥® sadd ÂêëÈõÜÂêàkeyÊ∑ªÂä†elementÔºåÂè™ÊúâÂΩìelement‰∏çÂ≠òÂú®ÊâçËÉΩÊàêÂäüÊ∑ªÂä† sadd user:1:follow it music his sports sadd key element1 element2 ‚Ä¶ srem Â∞ÜÈõÜÂêàkey‰∏≠ÁöÑelementÂâîÈô§ srem user:1:follow his seem key element scard Ëé∑ÂèñÈõÜÂêàkeyÁöÑÈïøÂ∫¶ scard user:1:follow scard key sismember Âà§Êñ≠elementÊòØÂê¶Â≠òÂú®‰∫éÈõÜÂêàkey sismember user:1:follow it sismember key element srandmember ‰ªéÈõÜÂêàkey‰∏≠ÈöèÊú∫ÂèñÂá∫‰∏Ä‰∏™itemÔºà‰∏éspop‰∏çÂêåÁöÑÊòØÔºåËØ•ÊñπÊ≥ï‰∏çÂà†Èô§elementÔºâ srandmember user:1:follow srandmember key smembers Ëé∑ÂèñÈõÜÂêàkey‰∏≠ÁöÑÊâÄÊúâitem smembers user:1:follow smembers key spop ÈöèÊú∫ÂºπÂá∫‰∏Ä‰∏™ÂÖÉÁ¥†ÔºàÂà†Èô§Ôºâ spop user:1:follow spop key sdiff Â∑ÆÈõÜ sdiff user:2:follow user:1:follow sdiff key1 key2 sinter ‰∫§ÈõÜ sinter user:1:follow user:2:follow sinter key1 key2 sunion Âπ∂ÈõÜ sunion user:1:follow user:2:follow sunion key1 key2 ÈõÜÂêàÁöÑ‰∏Ä‰∫õÂ∫îÁî®Ôºö 12345sadd = taggingÔºàÊ†áÁ≠æÁÆ°ÁêÜÔºâspop/srandmember = random itemÔºàÈöèÊú∫Êï∞Ôºâsadd + sinter = social graphÔºàÁ§æ‰∫§ÔºåÂ¶ÇÂÖ≥Ê≥®Ôºâ Êï£ÂàóË°®ÔºàhashÔºâÊâÄÊúâapiÈÉΩÊòØhÂºÄÂ§¥ÁöÑÔºåhgetall„ÄÅhvals„ÄÅhkeys„ÄÅhmget„ÄÅhmsetÊó∂Èó¥Â§çÊùÇÂ∫¶ÈÉΩÊòØO(n) API ËØ¥Êòé ‰æãÂ≠ê Â§áÊ≥® hget„ÄÅhset„ÄÅhdel Ëé∑Âèñ„ÄÅÊ∑ªÂä†„ÄÅÂà†Èô§Âçï‰∏™filedÁöÑÂÄº hset user:1:info age 23 hset user:1:info name Tom hget user:1:info age hset key filed1 value1hget key fileddel key field Ëøô‰∏™‰æãÂ≠êÁöÑkeyÊØîËæÉÂ§çÊùÇÔºå‰ª£Ë°®user‰∏≠1Âè∑ÁöÑ‰ø°ÊÅØÔºå‰∏ÄËà¨Â∞±ÊòØhset info name Tom hsetnx field‰∏çÂ≠òÂú®ÊâçËÉΩËÆæÁΩÆ hsetnx user:1:info hobby football hsetnx key field value hexists Âà§Êñ≠hash keyÊòØÂê¶Âê´Êúâfiled hexists user:1:info age hexists key field hlen Âà§Êñ≠hash key filedÁöÑÊï∞Èáè hlen user:1:info hlen key hmget„ÄÅhmset ÊâπÈáèÊìç‰Ωú hmset user:2:info age 30 name kaka page 50 hmget user:2:info age name hmset key field1 value1 filed2 value2 hmget key field1 field2 hincrby ÊåâÊåáÂÆöÁöÑÊï∞ÈáèÂ¢ûÂä† hincrby user:1:info pageview 1 hincrby key field numÊ≤°Êúâhdecrby hincrbyfloat Â¢ûÂä†ÊµÆÁÇπÊï∞ hincrbyfloat user:1:info pageview 3.5 hincrbyfloat key field num(float) hgetall Ëé∑ÂèñÂÖ®ÈÉ®ÁöÑfields hgetall user:1:info hgetall key hvals Ëé∑ÂèñÂÖ®ÈÉ®ÁöÑvalues hvals user:1:info hvals key hkeys Ëé∑ÂèñÂÖ®ÈÉ®ÁöÑkeys hkeys user:1:info hkeys key ÊúâÂ∫èÈõÜÂêàÔºàzsetÔºâ API ËØ¥Êòé ‰æãÂ≠ê Â§áÊ≥® zadd Ê∑ªÂä†scoreÂíåelemen zadd user:1:ranking 2 kris zadd key score element(ÂèØ‰ª•Â§öÂØπ) zrem Âà†Èô§ÂÖÉÁ¥† zrem user:1:ranking amber zrem key element (ÂèØ‰ª•Â§öÂØπ) zscore ËøîÂõûÂÖÉÁ¥†ÁöÑÂàÜÊï∞ zscore user:1:ranking tom zscore key element zincrby ÂØπelementÂ¢ûÂä†/ÂáèÂ∞ëincrScoreÂàÜÊï∞ÔºåinrcScore‰∏∫Ë¥üÊï∞Ë°®Á§∫ÂáèÂ∞ë zincrby user:1:ranking 60 amber zincrby key incrScore element zcard ËøîÂõûkeyÁöÑÂÖÉÁ¥†‰∏™Êï∞ zcard user:1:ranking zcard key zrank ËøîÂõûÂÖÉÁ¥†Âú®key‰∏≠ÁöÑÊéíÂêç zrank user:1:ranking amber zrank key element zrange ÂàóÂá∫key‰∏≠ÂÖÉÁ¥†ÊåáÂÆöËåÉÂõ¥ÁöÑÂçáÂ∫èÂÖÉÁ¥†ÔºàÂàÜÊï∞Ôºâ zrange user:1:ranking 0 -1 withscores ‰æãÂ≠êË°®Á§∫ÂØπÂÖ®ÈÉ®ÁöÑÊï∞ÊçÆÊéíÂêç zrange key start end [withscores] zrangebyscore ËøîÂõûÊåáÂÆöÂàÜÊï∞ËåÉÂõ¥ÂÜÖÁöÑÂçáÂ∫èÂÖÉÁ¥†ÔºàÂàÜÊï∞Ôºâ zrangebyscore user:1:ranking 15 25 withscores zrangebyscore key minScore maxScore [withscores] zcount ËøîÂõûÊåáÂÆöÂàÜÊï∞ËåÉÂõ¥ÂÜÖÁöÑÂÖÉÁ¥†‰∏™Êï∞ zcount user:1:ranking 100 180 zcount key minScore maxScore zremrangebyrank Âà†Èô§ÊåáÂÆöÊéíÂêçÂÜÖÁöÑÂçáÂ∫èÂÖÉÁ¥† zremrangebyrank user:1:ranking 0 1 zremrangebyrank key start end(ÂåÖÊã¨end) zrevrange ÂèçÂêëÊéíÂ∫èÔºå‰∏ézrangeÁõ∏Âèç zrevrange user:1:ranking 0 -1 zrevrange key start end zunionscore/zinterscore ÈõÜÂêàÈó¥Êìç‰Ωú zunionstore/zinterstore ÂÖ≥‰∫ékey user:1:infoÂíåusers:1ÁöÑÂå∫Âà´Ôºö]]></content>
      <tags>
        <tag>redis</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ëá™ÂÆö‰πâÂºÇÂ∏∏]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F12%2F%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%2F</url>
    <content type="text"><![CDATA[Âπ≥Êó∂ÁºñÁ®ãÊó∂ÈöæÂÖç‰ºöÂá∫Áé∞ÈîôËØØÔºå‰∏ÄËà¨ÂèØ‰ª•‰ΩøÁî®try‚Ä¶except‚Ä¶Êù•ÊçïËé∑„ÄÇ‰πüÂèØ‰ª•‰ΩøÁî®raiseËØ≠Âè•‰∏ªÂä®ÊäõÂá∫ÂºÇÂ∏∏Ôºå‰ΩøÁ®ãÂ∫èÁªàÊ≠¢„ÄÇÂ¶ÇÊûúËøô‰∫õÈÉΩ‰∏çÂ§üÁî®ÁöÑÊó∂ÂÄôÔºåÊàë‰ª¨Â∞±ÂèØ‰ª•ÁªßÊâøExceptionÁÑ∂ÂêéËá™ÂÆö‰πâÂºÇÂ∏∏„ÄÇ try ‚Ä¶ except123456789try: t = 1/0 print(t)except ZeroDivisionError as e: print(e)# Â¶ÇÊûú‰∏çÊ∏ÖÊ•öÊòØ‰ªÄ‰πàÂºÇÂ∏∏ÁöÑËØùÔºåÈÇ£‰πàÂ∞±Áõ¥Êé•‰ΩøÁî®Exceptionexcept Exception as e: print(e) ‰ΩøÁî®raiseËØ≠Âè•1raise ZeroDivisionError('error') Ëá™ÂÆö‰πâÂºÇÂ∏∏1234567891011class TestError(Exception): def __init__(self, info): self.info = info Exception.__init__(self) def __str__(self): return self.infoif __name__ == '__main__': t = TestError('test') print(t) Â¶ÇÊûúÊòØÁâπÂÆöÁöÑÈîôËØØÔºåÂèØ‰ª•Áõ¥Êé•Âú®str‰∏≠ÂÆö‰πâÔºö 12345678910class TestError(Exception): def __init__(self): Exception.__init__(self) def __str__(self): return repr(‚Äòtest‚Äô)if __name__ == '__main__': t = TestError() print(t)]]></content>
      <tags>
        <tag>exception</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[requestsÔºöÂá∫Áé∞max retries exceeded with urlÈîôËØØ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F11%2Frequests%EF%BC%9A%E5%87%BA%E7%8E%B0max-retries-exceeded-with-url%E9%94%99%E8%AF%AF%2F</url>
    <content type="text"><![CDATA[‰πãÂâçÂÅ∂ÁÑ∂ÈÅáÂà∞ËøôÊ†∑‰∏Ä‰∏™ÈîôËØØÔºö Âá∫Áé∞Ëøô‰∏™ÊÉÖÂÜµÊòØÂõ†‰∏∫Âú®Áü≠Êó∂Èó¥ÂÜÖÊâìÂºÄÂ§™Â§öÁöÑhttpÈìæÊé•ÔºåËÄå‰∏îËøô‰∫õÈìæÊé•ÈÉΩÊòØÈªòËÆ§keep-aliveÁöÑÂΩ¢Âºè„ÄÇÈÇ£‰πàÂèØ‰ª•ÈÄöËøá‰ª•‰∏ãÂá†‰∏™ÊñπÊ≥ïÊù•Ëß£ÂÜ≥Ôºö ËÆæÁΩÆÈáçËØïÊ¨°Êï∞123import requestsrequests.adapters.DEFAULT_RETRIES = 5 Âú®headers‰∏≠‰øÆÊîπConnectionÁöÑÊñπÂºè‰∏∫‰∏çÊåÅ‰πÖ1'Connection': 'close' Áõ¥Êé•ÊçïËé∑ÂºÇÂ∏∏1234try: res = requests.get(url)except requests.exceptions.ConnectionError: print('Connection Error') ‰πüÂèØ‰ª•ÊòØÂõ†‰∏∫ËØ∑Ê±ÇÂ§±Ë¥•ËÄåÁî±Êú¨Ë∫´ÂèëÈÄÅÈáçÊñ∞ÈìæÊé•ÁöÑÈÄüÂ∫¶ËøáÂø´ËÄåÂØºËá¥ËØ•ÈîôËØØ123456789import timepage = ''while page == '': try: page = requests.get(url) except: time.sleep(5) continue ÂÖ∂ÂÆûÂë¢ÔºåÂú®ÈÅáÂà∞Ëøô‰∏™ÈóÆÈ¢ò‰πãÂâçÔºåÊàëÊòØÈÅáÂà∞Âè¶‰∏Ä‰∏™ÈîôËØØÔºö Ëøô‰∏™ÈîôËØØË∑üÂâçÈù¢‰∏Ä‰∏™ÂæàÂÉèÔºåÂå∫Âà´Âú®‰∫éProxyErrorÔºåÂá∫ÈîôÁöÑÂéüÂõ†‰∏ÄËà¨Êúâ2‰∏™Ôºö1„ÄÅIP‰ª£ÁêÜÊúçÂä°Âô®‰∏çËÉΩ‰ΩøÁî®Ôºõ2„ÄÅIP‰ª£ÁêÜ‰ΩøÁî®ÁöÑÂçèËÆÆ‰∏çÊ≠£Â∏∏„ÄÇÔºàÊàëËÆæÁΩÆ‰ª£ÁêÜÂçèËÆÆÁöÑÊó∂ÂÄôÊäähttpÂÜôÊàê‰∫ÜhttpsÔºâ ÂèÇËÄÉÊñáÁ´†ÔºöÂÖ≥‰∫épythonÁà¨Ëô´ÁöÑÊ∑±ÂùëÔºörequestsÊäõÂá∫ÂºÇÂ∏∏Max retries exceeded with url python‰ΩøÁî®IP‰ª£ÁêÜÁ§∫‰æãÂèäÂá∫ÈîôËß£ÂÜ≥ÊñπÊ≥ï]]></content>
      <tags>
        <tag>max retries</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Â§ö‰∏™spiderÂÜôÂÖ•csvÊó∂Êï∞ÊçÆ‰∏¢Â§±]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F08%2F%E5%A4%9A%E4%B8%AAspider%E5%86%99%E5%85%A5csv%E6%97%B6%E6%95%B0%E6%8D%AE%E4%B8%A2%E5%A4%B1%2F</url>
    <content type="text"><![CDATA[ÊúÄËøëÈÅáÂà∞‰∏Ä‰∏™ÈóÆÈ¢òÔºåÈúÄË¶ÅÂ∞ÜÂ§ö‰∏™spiderÊäìÂèñÂà∞ÁöÑÊï∞ÊçÆ‰øùÂ≠òÂà∞Âêå‰∏Ä‰∏™csvÊñá‰ª∂Ôºå‰ΩÜÊòØÊï∞ÊçÆ‰ºö‰∏¢Â§±„ÄÇÂú®ÊµãËØïÁöÑÊó∂ÂÄôÔºåÂèëÁé∞Êï∞ÊçÆ‰∏ç‰ªÖÁªèÂ∏∏ÊÄß‰∏¢Â§±ÔºåËÄå‰∏îÊØè‰∏™spiderÂÜôÂÖ•Êï∞ÊçÆÂâçÈÉΩ‰ºöÂÖàÂÜôÂÖ•ÂàóÂêçÔºåÂ∞ùËØïÈÄöËøáÂà§Êñ≠Êñá‰ª∂ÊòØÂê¶Â≠òÂú®Êù•ÂÜ≥ÂÆöÊòØÂê¶ÂÜôÂÖ•headerÔºåÈÉΩ‰∏çËÉΩËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ‰ΩÜÊòØÂë¢ÔºåÂàÜÂà´ÂÜôÂÖ•‰∏çÂêåÁöÑcsvÊñá‰ª∂Âç¥‰∏ç‰ºöÂá∫Áé∞Êï∞ÊçÆ‰∏¢Â§±ÁöÑÊÉÖÂÜµÔºåÊúâÁÇπÊáµÔºåÁúãÊù•ÂØπscrapyÁöÑËøêË°åÊú∫Âà∂ÁöÑÁêÜËß£ËøòÊòØ‰∏çÂ§üÔºåÁõÆÂâçËøòÊ≤°ÊâæÂà∞ÈóÆÈ¢òÊâÄÂú®„ÄÇ Âú®Âêå‰∫ãÁöÑÂ∏ÆÂä©‰∏ãÔºåÁªà‰∫éÊâæÂà∞Ëß£ÂÜ≥ÊñπÊ≥ï‰∫ÜÔºö 1„ÄÅÂÖàÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑcsvÊñá‰ª∂ÔºåÂè™ÂÜôÂÖ•header 2„ÄÅÂÜçÁî®pandasÂ∞ÜÊï∞ÊçÆ‰ª•ËøΩÂä†ÁöÑÊñπÂºèÂÜôÂÖ• 12345678910111213141516171819202122232425# pipelines.py# -*- coding: utf-8 -*-import csvimport datetimeimport pandas as pdclass ScrapywebspiderPipeline(object): """Â∞Ü‰∫ßÂìÅ‰ø°ÊÅØÂÜôÂÖ•Âà∞csv""" columns = ['urls', 'status', 'title','price'] date = datetime.datetime.now().strftime('%Y%m%d%H%M%S') def __init__(self): self.file_name = '&#123;&#125;_&#123;&#125;.csv'.format('spider', self.date) # ÂàõÂª∫csvÊñá‰ª∂ÔºåÂπ∂ÂÜôÂÖ•Â§¥ÈÉ® with open(self.file_name, 'w', newline='', encoding='utf-8') as f: c = csv.DictWriter(f, self.columns) c.writeheader() def process_item(self, item, spider): df = pd.DataFrame([item], columns=self.columns) df.to_csv(self.file_name, mode='a', header=False, index=False) return item Âú®Ê†πÁõÆÂΩï‰∏ãÊñ∞Âª∫run.pyÔºåÂÜô‰∏äËøêË°åÂ§ö‰∏™ËÑöÊú¨ÁöÑ‰ª£Á†Å 12345678910111213141516# -*- coding:utf-8 -*-# Time: 2018/7/2 16:30from scrapy.crawler import CrawlerProcessfrom scrapy.utils.project import get_project_settingsfrom scrapy.spiderloader import SpiderLoadersettings = get_project_settings()spider_loader = SpiderLoader(settings=settings)spiders = spider_loader.list()process = CrawlerProcess(settings=settings)for spider in spiders: process.crawl(spider)process.start() Áõ¥Êé•Âú®ÁªàÁ´ØËøêË°åÔºàÂàáÂà∞scrapyÈ°πÁõÆÊ†πÁõÆÂΩï‰∏ãÔºâ 1python -m run]]></content>
      <tags>
        <tag>scrapy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[scrapy‰∏≠pipelineÂÜôÂÖ•Êï∞ÊçÆÁöÑÊñπÊ≥ï]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F08%2Fscrapy%EF%BC%9Apipeline%E5%86%99%E5%85%A5%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Áî®scrapyÊù•ÊäìÂèñÊï∞ÊçÆÁúüÁöÑÊòØÈùûÂ∏∏Êñπ‰æøÔºåÂú®Êï∞ÊçÆÂ≠òÂÇ®ÊñπÈù¢‰πüÊòØÂæàÊñπ‰æøÔºåÂêåÊó∂‰πüÂæàÁÅµÊ¥ª„ÄÇËøôÈáåÊÄªÁªì‰∫Ü‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊï∞ÊçÆÂÜôÂÖ•ÁöÑÊñπÊ≥ï„ÄÇ feed exporter‰ΩøÁî®scrapyÊèê‰æõÁöÑexportersÂèØ‰ª•ÂæàÊñπ‰æøÂú∞Â∞ÜÊï∞ÊçÆÂØºÂá∫ 12345678910111213141516# pipelines.pyfrom scrapy.exporters import JsonItemExporterclass JsonExporterPipeline(object): def __init__(self): self.file = open('test.json', 'wb') self.exporter = JsonItemExporter(self.file, encoding='utf-8', ensure_ascii=False) self.exporter.start_exporting() def process_item(self, item, spider): self.exporter.export_item(item) return item def close_spider(self, spider): self.exporter.finish_exporting() self.file.close() Â¶ÇÊûúÂ∞ÜÊï∞ÊçÆ‰øùÂ≠ò‰∏∫jsonÊñá‰ª∂ÔºåÂÖ∂ÂÆû‰πüÂèØ‰ª•Âú®ÁªàÁ´Ø‰ΩøÁî®-oÊù•ÊåáÂÆö‰øùÂ≠òÁöÑÊñá‰ª∂Ë∑ØÂæÑ„ÄÇ 1scrapy crawl spider -o test.json feed exportersËøòÂèØ‰ª•ÂØºÂá∫‰∏∫ÂÖ∂‰ªñÊ†ºÂºèÔºåÊØîÂ¶Çcsv„ÄÅxmlÁ≠âÔºåÂÖ∑‰ΩìÁî®Ê≥ïÊü•ÁúãÂÆòÊñπÊñáÊ°£„ÄÇ 123456789&#123; &apos;json&apos;: &apos;scrapy.exporters.JsonItemExporter&apos;, &apos;jsonlines&apos;: &apos;scrapy.exporters.JsonLinesItemExporter&apos;, &apos;jl&apos;: &apos;scrapy.exporters.JsonLinesItemExporter&apos;, &apos;csv&apos;: &apos;scrapy.exporters.CsvItemExporter&apos;, &apos;xml&apos;: &apos;scrapy.exporters.XmlItemExporter&apos;, &apos;marshal&apos;: &apos;scrapy.exporters.MarshalItemExporter&apos;, &apos;pickle&apos;: &apos;scrapy.exporters.PickleItemExporter&apos;,&#125; json1234567891011121314151617181920212223# pipelines.pyfrom scrapy.exceptions import DropItemimport jsonclass DuplicatesPipeline(object): # Ëá™ÂÆö‰πâjsonÊñá‰ª∂ÁöÑÂØºÂá∫ def __init__(self): self.ids_seen = set() self.file = open('article.json', 'w', encoding="utf-8") def process_item(self, item, spider): # ÂéªÈáç if item['id'] in self.ids_seen: raise DropItem("Duplicate item found: %s" % item) else: self.ids_seen.add(item['id']) lines = json.dumps(dict(item), ensure_ascii=False) + "\n" self.file.write(lines) return item def close_spider(self, spider): self.file.close() csvÂÜôÂÖ•csvÊñá‰ª∂ÂèØ‰ª•‰ΩøÁî®csvÊ®°ÂùóÔºåÈúÄË¶ÅÊèêÂâçÊåáÂÆöÂàóÂêç„ÄÇ 1234567891011121314151617# pipelines.pyimport csvclass ScrapywebspiderPipeline(object): def __init__(self): columns = ['name', 'age'] file_name = 'test.csv' # newline‰∏∫Á©∫ÔºåÂÜôÂÖ•Êó∂‰∏ç‰ºöÂá∫Áé∞Á©∫Ë°å file = open(file_name, 'w', newline='', encoding='utf-8') self.writer = csv.DictWriter(file, columns) self.writer.writeheader() def process_item(self, item, spider): # ÂèØ‰ª•Â¢ûÂä†Âà§Êñ≠ÂéªÈáçÁöÑÊù°‰ª∂ self.writer.writerow(item) return item excelÁî®pandasÂÜôÂÖ•excelÊó∂ÈúÄË¶ÅÊèê‰æõÂÜôÂÖ•ÁöÑË°åÂè∑ÔºåÊâÄ‰ª•ËøôÈáåÂØπÂÜôÂÖ•ÁöÑexcelÊñá‰ª∂ÂÅö‰∫ÜÂà§Êñ≠„ÄÇ 123456789101112131415161718192021222324252627282930313233343536# pipelines.pyimport osimport pandasfrom openpyxl import load_workbookclass ExcelPipeline(object): def process_item(self, item, spider): file_path = '&#123;&#125;.xlsx'.format(spider.name) file_is_exist = os.path.exists(file_path) columns = sorted(item.keys()) df = pandas.DataFrame([item], columns=columns) writer = pandas.ExcelWriter(file_path, engine='openpyxl') if not file_is_exist: df.to_excel( writer, header=True, sheet_name=spider.name, index=False, columns=columns, ) writer.save() else: book = load_workbook(file_path) row_start = book[spider.name].max_row writer.book = book writer.sheets = dict((ws.title, ws) for ws in book.worksheets) df.to_excel( writer, header=True, sheet_name=spider.name, index=False, columns=columns, ) writer.save() return item mongodbÂú®settings.pyÊñá‰ª∂‰∏≠ËÆæÁΩÆMONGO_URI,MONGO_DATABASEÔºåËøòÈúÄË¶ÅÊèêÂâçÂú®ÁªàÁ´ØÂºÄÂêØmongodÊúçÂä°ÊâçËÉΩÊ≠£Â∏∏ÈìæÊé• 1mongod --auth -f /path/to/your/mongod/conf # Â¶ÇÊûúÊ≤°ÊúâÂØÜÁ†ÅÔºåÂ∞±‰∏çÈúÄË¶ÅÊ∑ªÂä†authÂèÇÊï∞ 1234567891011121314151617181920212223242526import pymongoclass MongoPipeline(object): def __init__(self, mongo_uri, mongo_db): self.mongo_uri = mongo_uri self.mongo_db = mongo_db self.table_name = 'test' @classmethod def from_crawler(cls, crawler): return cls( mongo_uri=crawler.settings.get('MONGO_URI'), mongo_db=crawler.settings.get('MONGO_DATABASE') ) def open_spider(self, spider): self.client = pymongo.MongoClient(self.mongo_uri) self.db = self.client[self.mongo_db] def close_spider(self, spider): self.client.close() def process_item(self, item, spider): # ËøôÈáåÁöÑself.table_nameÊòØË°®Âêç,‰πüÂèØ‰ª•Áî®spider.nameÊù•ÂÆö‰πâ self.db[self.table_name].update(&#123;'id': item.get('id')&#125;, &#123;'$set': dict(item)&#125;, upsert=True, manipulate=False) return item settings.pyÊñá‰ª∂‰∏≠Â¢ûÂä†‰ª•‰∏ãÂÜÖÂÆπÔºåuri‰∏≠ÁöÑË¥¶Âè∑ÂØÜÁ†ÅÂØπÂ∫îÁùÄdatabase_nameËøô‰∏™Êï∞ÊçÆÂ∫ìÔºåÊâÄ‰ª•ËøûÊé•ÊàêÂäü‰πãÂêéÂè™ÁúãÂà∞Ëøô‰∏™Êï∞ÊçÆÂ∫ì„ÄÇ 12MONG_URI = &apos;mongodb://user:pwd@ip:port/?authSource=database_name&amp;antuMechainsm=SCRAM-SHA-256&apos;MONGO_DATABASE = &apos;database_name&apos; mysqlËøôÈáåÁî®ÁöÑtwistedÊ®°ÂùóËøõË°åÂºÇÊ≠•ÊèíÂÖ•Êï∞ÊçÆ„ÄÇ 12345678910111213141516171819202122232425262728293031323334353637383940414243# -*- coding: utf-8 -*-# pipelines.pyimport copyfrom Jd.db import create_conn, create_database_and_tables, twisted_insert, handle_errorfrom Jd.items import SummaryItem, CommentItemfrom twisted.enterprise import adbapiclass MysqlTwistedPipeline(object): """‰ΩøÁî®twistedÂÆûÁé∞ÂºÇÊ≠•ÊèíÂÖ•Êï∞ÊçÆÂà∞mysql""" def __init__(self, dbpool): self.dbpool = dbpool # Âª∫Ë°® self.dbpool.runInteraction(create_database_and_tables) @classmethod def from_settings(cls, settings): db_args = dict( host=settings['MYSQL_HOST'], db=settings['MYSQL_DB'], user=settings['MYSQL_USER'], passwd=settings['MYSQL_PASSWORD'], charset='utf8', use_unicode=True, ) dbpool = adbapi.ConnectionPool('pymysql', **db_args) return cls(dbpool) def process_item(self, item, spider): # ÂºÇÊ≠•ÊèíÂÖ•Êï∞ÊçÆÂà∞mysqlÔºåÂ¶ÇÊûúÊúâÈîôËØØÂàôËøîÂõûexceptionÔºåÊ≠£Á°ÆÂàô‰ºöËá™Âä®commitÔºå‰∏çÈúÄË¶Å‰∫∫‰∏∫commitÔºå‰πü‰∏çÁî®ÂàõÂª∫cursor # ‰ΩøÁî®Ê∑±Êã∑Ë¥ùÔºåÂ∞ÜÂºïÁî®‰º†ÈÄíÊîπ‰∏∫ÂÄº‰º†ÈÄíÔºåÊúâ‰∫õÊï∞ÊçÆÈáçÂ§çÊúâ‰∫õÊï∞ÊçÆ‰∏¢Â§±ÔºàÊÄªÊï∞Èáè‰∏çÂèòÔºâ asyn_item = copy.deepcopy(item) if isinstance(asyn_item, CommentItem): # runInteraction(callable, *args)ÔºåÂèØË∞ÉÁî®ÁöÑÂØπË±°‰ª•ÂèäËØ•ÂØπË±°ÊâÄÈúÄË¶ÅÁöÑÂèÇÊï∞ query = self.dbpool.runInteraction(twisted_insert, asyn_item, 'comment') elif isinstance(asyn_item, SummaryItem): query = self.dbpool.runInteraction(twisted_insert, asyn_item,'summary_comment') # Â§ÑÁêÜÂºÇÂ∏∏ query.addErrback(handle_error, asyn_item, spider) return asyn_item def close_spider(self, spider): self.dbpool.close() ËØ•Êñá‰ª∂‰∏épipelines.pyÂú®ÂêåÁ∫ßÁõÆÂΩï‰∏ãÔºå‰∏ªË¶ÅÊòØÂÆö‰πâ‰∏Ä‰∫õÂ∏∏Áî®ÁöÑÊñπÊ≥ïÔºåÊØîÂ¶ÇËøûÊé•Êï∞ÊçÆÂ∫ìÔºåÊèíÂÖ•Êï∞ÊçÆÁ≠â„ÄÇËøôÈáåÊúâ‰∏™ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÔºöcommentË°®‰ΩøÁî®‰∫ÜidËá™Â¢ûÔºåËøôÊ†∑‰ºöÂØºËá¥ÊèíÂÖ•Êï∞ÊçÆÊó∂Êó†Ê≥ïËµ∑Âà∞ÂéªÈáçÁöÑ‰ΩúÁî®ÔºåÂõ†‰∏∫ËøôÈáåÊòØÂØπÂÖ®ÈÉ®Â≠óÊÆµËøõË°åÊØîËæÉÔºåÂ¶ÇÊûúÊúâÈáçÂ§çÂ∞±Êõ¥Êñ∞Ôºå‰ΩÜÊòØidËøô‰∏™Â≠óÊÆµÊØèÊ¨°ÈÉΩÊòØ‰∏çÂêåÁöÑÔºåÊâÄ‰ª•ÈúÄË¶ÅÊåáÂÆöunique key„ÄÇ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172#! -*- coding:utf-8 -*-# db.pyimport pymysqlfrom Jd.settings import *def create_conn(): conn = pymysql.connect(host=MYSQL_HOST, user=MYSQL_PORT, password=MYSQL_PASSWORD, port=MYSQL_PORT, db=MYSQL_DB, charset='utf8') return conndef create_database_and_tables(cursor): # Âª∫Á´ãjingdongÊï∞ÊçÆÂ∫ì # cursor.execute('CREATE DATABASE jingdong') # cursor.execute('use jingdong') # Âª∫Á´ãcommentÂíåsummary_comment‰∏§Âº†Ë°® cursor.execute("""drop table comment""") cursor.execute("drop table summary_comment") comment_sql = """ CREATE TABLE IF NOT EXISTS comment( id int NOT NULL auto_increment, title VARCHAR (200) DEFAULT NULL , nick_name VARCHAR (20) NOT NULL , comment_time DATETIME NOT NULL , PRIMARY KEY (id), UNIQUE (pid, nick_name, comment_time) )ENGINE=InnoDB """ summary_comment_sql = """ CREATE TABLE IF NOT EXISTS summary_comment( pid VARCHAR (50) NOT NULL , title VARCHAR (50) DEFAULT NULL , PRIMARY KEY (pid) )ENGINE=InnoDB """ cursor.execute(comment_sql) cursor.execute(summary_comment_sql)def twisted_insert(cursor, data, table): """ÂºÇÊ≠•""" keys = ', '.join(data.keys()) values = ', '.join(['%s'] * len(data)) sql = "INSERT INTO &#123;table&#125;(&#123;keys&#125;) VALUES (&#123;values&#125;) ON DUPLICATE KEY UPDATE".format(table=table, keys=keys, values=values) update = ','.join([" &#123;key&#125; = %s".format(key=key) for key in data]) sql += update try: cursor.execute(sql, tuple(data.values()) * 2) print('insert data successfully') except Exception as e: print(e)def handle_error(failure, item, spider): # Â§ÑÁêÜÂºÇÂ∏∏ print(failure)def insert(conn, data, table): cursor = conn.cursor() keys = ', '.join(data.keys()) values = ', '.join(['%s'] * len(data)) sql = """INSERT INTO &#123;table&#125;(&#123;keys&#125;) VALUES (&#123;values&#125;) ON DUPLICATE KEY UPDATE""".format(table=table, keys=keys, values=values) update = ','.join([" &#123;key&#125; = %s".format(key=key) for key in data]) sql += update try: cursor.execute(sql, tuple(data.values()) * 2) conn.commit() print('insert data successfully') except Exception as e: print('failed to insert data', e) conn.rollback() ËøûÊé•mysqlÊâÄÈúÄË¶ÅÁöÑÂ≠óÊÆµÈÉΩ‰ºöÂú®settings.py‰∏≠ËøõË°åËÆæÁΩÆ 123456# ËøûÊé•mysqlÁöÑÂ≠óÊÆµMYSQL_HOST = &apos;localhost&apos;MYSQL_PORT = 3306MYSQL_USER = &apos;&apos;MYSQL_PASSWORD = &apos;&apos;MYSQL_DB = &apos;jingdong&apos; ÂÖ∑‰Ωì‰æãÂ≠ê‰ΩøÁî®ËØ∑Áúã‰ª£Á†Å„ÄÇ ÂèÇËÄÉÊñáÁ´†feed exports item pipelines How to write to an existing excel file without overwriting data (using pandas)? Authentication Examples]]></content>
      <tags>
        <tag>scrapy</tag>
        <tag>pipeline</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Ê†πÊçÆÈÉ®ÂàÜÊñá‰ª∂ÂêçÊü•ÊâæÊñá‰ª∂]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F08%2F%E6%A0%B9%E6%8D%AE%E9%83%A8%E5%88%86%E6%96%87%E4%BB%B6%E5%90%8D%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[Âú®Â∑•‰Ωú‰∏≠ÔºåÁªèÂ∏∏ÈúÄË¶ÅÂØπÊäìÂèñÂà∞ÁöÑÊï∞ÊçÆÂÅöËøõ‰∏ÄÊ≠•ÁöÑÂ§ÑÁêÜÔºå‰ΩÜÁî±‰∫éÊñá‰ª∂ÊòØÊ†πÊçÆÂàõÂª∫Êó∂Èó¥Ëá™Âä®ÂëΩÂêçÁöÑÔºåÊâÄ‰ª•Ê≤°ÂäûÊ≥ïÁõ¥Êé•Âú®ËÑöÊú¨‰∏≠ÂÜôÂÖ•Êñá‰ª∂ÂêçÔºåÂè¶Â§ñÂë¢ÔºåËøòÈúÄË¶ÅÊ†πÊçÆÊñá‰ª∂ÂêçÂà§Êñ≠Âì™‰∏™ÊòØÊúÄÊñ∞ÂàõÂª∫ÁöÑÊñá‰ª∂„ÄÇÊúÄÂêéÂÜ≥ÂÆöÁî®osÊ®°ÂùóÊù•Ëé∑ÂèñÊåáÂÆöË∑ØÂæÑ‰∏ãÁöÑÊñá‰ª∂ÔºåÂπ∂ÂØπÊñá‰ª∂ÂêçËøõË°åÂà§Êñ≠„ÄÇ osÊ®°ÂùóÁöÑwalk()ÂáΩÊï∞Êé•Êî∂‰∏Ä‰∏™È°∂Á∫ßÁõÆÂΩïÔºåÈÄöËøá‰ªé‰∏äÂà∞‰∏ãÊàñËÄÖ‰ªé‰∏ãÂà∞‰∏äÁöÑÊñπÂºèÊù•ÈÅçÂéÜÁõÆÂΩïÊ†ëÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™‰∏âÂÖÉÁªÑ(dirpath, dirnames, filenames)ÔºådirpathÊòØÁõ∏ÂØπ‰∫éÊü•ÊâæÁõÆÂΩïÁöÑÁõ∏ÂØπË∑ØÂæÑÔºådirnamesÊòØËØ•ÁõÆÂΩï‰∏ãÁöÑÁõÆÂΩïÂêçÂàóË°®Ôºå filenamesÊòØtopÁõÆÂΩï‰∏ãÈù¢ÁöÑÊñá‰ª∂ÂêçÂàóË°®„ÄÇ 1os.walk(top, topdown=True, onerror=None, followlinks=False) Ëá≥‰∫éÊñá‰ª∂ÂêçÁöÑÂà§Êñ≠ÔºåÊàëÁî®‰∫ÜpythonÂÜÖÁΩÆÂáΩÊï∞sorted()ÔºåÈÄöËøá‰º†ÈÄí‰∏Ä‰∏™ÂåøÂêçÂáΩÊï∞ÁªôkeyÔºåÂ∞ÜÊñá‰ª∂Âêç‰∏≠ÁöÑÊó∂Èó¥ËΩ¨ÊàêÊï∞Â≠óÔºåÁÑ∂ÂêéÂÄíÂ∫èÊéíÂàóÂç≥ÂèØ„ÄÇ 1sorted(iterable, *, key=None, reverse=False) 1the_one = sorted(all_files, key=lambda x: int(re.search('(\d+)', x).group(1)), reverse=True)[0] ËØ¶ÁªÜ‰ª£Á†ÅÂ¶Ç‰∏ãÔºö 123456789101112131415161718192021222324252627import osdef find_the_latest(start, name): """ Ê†πÊçÆÁªôÂÆöÁöÑË∑ØÂæÑÂíåÊñá‰ª∂ÂêçÂ≠óÔºåËøîÂõûÊñá‰ª∂ÁöÑË∑ØÂæÑ :param start: ÊêúÁ¥¢ÁöÑÊúÄÈ°∂Á∫ßÁõÆÂΩï :param name: Ë¶ÅÊü•ÊâæÁöÑÁõÆÊ†áÊñá‰ª∂ :return: ÂØπÂ∫îÊñá‰ª∂ÁöÑÂÆåÊï¥Ë∑ØÂæÑ """ for relpath, dirs, files in os.walk(start): # ËØ•Êñá‰ª∂ÂêçÊòØ‰ª•spiderÂºÄÂ§¥ÁöÑ all_files = [t for t in files if name in t and t.startswith('spider')] if len(all_files) == 1: return os.path.normpath(os.path.abspath(all_files[0])) elif len(all_files) &gt; 1: # Â¶ÇÊûúÊåáÂÆöÁõÆÂΩï‰∏ãÂ∑≤ÁªèÊúâÂ§ö‰∏™Êñá‰ª∂ÔºåÂØπÊñá‰ª∂Âêç‰∏≠ÁöÑÊó∂Èó¥ËøõË°åÂà§Êñ≠ the_one = sorted(all_files, key=lambda x: int(re.search('(\d+)', x).group(1)), reverse=True)[0] full_path = os.path.join(start, relpath, the_one) # ËøîÂõûÂ§ÑÁêÜËøáÁöÑÊñá‰ª∂Ë∑ØÂæÑ return os.path.normpath(os.path.abspath(full_path)) else: return Noneif __name__ == '__main__': # ÊêúÁ¥¢ÂΩìÂâçÁõÆÂΩï‰∏ã‰ª•spiderÂºÄÂ§¥ÁöÑÊúÄÊñ∞ÁöÑcsvÊñá‰ª∂ find_the_latest(‚Äò.‚Äô, ‚Äôcsv‚Äô) ÂèÇËÄÉÊñáÁ´†Ôºö os sorted]]></content>
      <tags>
        <tag>os</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vimÔºöÁÆÄÂçïÊìç‰Ωú]]></title>
    <url>%2Famberwest.github.io%2F2018%2F07%2F06%2Fvim%EF%BC%9A%E7%AE%80%E5%8D%95%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[vimÊòØ‰ªéviÂèëÂ±ïÂá∫Êù•ÁöÑ‰∏Ä‰∏™ÊñáÊú¨ÁºñËæëÂô®„ÄÇ‰ª£Á†ÅË°•ÂÆå„ÄÅÁºñËØë‰ª•ÂèäÈîôËØØË∑≥ËΩ¨Á≠âÊñπ‰æøÂèòÊàêÁöÑÂäüËÉΩÁâπÂà´‰∏∞ÂØå„ÄÇËøôÈáåÊ†πÊçÆÈªëÈ©¨Á®ãÂ∫èÂëòÁöÑÂü∫Á°ÄËØæÁ®ãÊÄªÁªì‰∫Ü‰∏Ä‰∫õvimÁöÑÂü∫Êú¨Êìç‰Ωú„ÄÇ Âü∫Êú¨Ê®°ÂºèÊôÆÈÄöÊ®°ÂºèÊôÆÈÄöÊ®°Âºè‰∏ãÂèØ‰ª•‰ΩøÁî®ÁºñËæëÂô®ÂëΩ‰ª§ÁºñËæëÊñáÊú¨ÔºåÊØîÂ¶ÇÂà†Èô§ÊñáÊú¨ÔºåÁßªÂä®ÂÖâÊ†áÁ≠â„ÄÇËøô‰πüÊòØvimÂêØÂä®ÂêéÁöÑÈªòËÆ§Ê®°ÂºèÔºåÂèØ‰ª•ÈÄöËøáÊåâ‚Äòi‚ÄôËøõÂÖ•ÊèíÂÖ•Ê®°ÂºèÔºåÂΩìÁÑ∂ËøòÊúâÂÖ∂‰ªñÁöÑÊñπÂºè„ÄÇ ÊèíÂÖ•Ê®°ÂºèÊèíÂÖ•Ê®°Âºè‰∏ãÂèØ‰ª•ÊèíÂÖ•ÊñáÊú¨ÔºåÂèØ‰ª•ÊåâESCËøõÂÖ•ÊôÆÈÄöÊ®°Âºè„ÄÇ ÂèØËßÜÊ®°ÂºèÂèØËßÜÊ®°Âºè‰∏ãÔºåÈÄöËøáÁßªÂä®ÂëΩ‰ª§ÂèØ‰ª•ÈÄâ‰∏≠ÊñáÊú¨Âå∫ÂüüÂπ∂È´ò‰∫ÆÊòæÁ§∫ÔºåÊâßË°åÈùûÁßªÂä®ÂëΩ‰ª§Êó∂ÔºåÂëΩ‰ª§‰ºöË¢´ÊâßË°åÂà∞ËøôÂùóÈ´ò‰∫ÆÂå∫Âüü„ÄÇÂèØ‰ª•ÊåâESCÈîÆÂõûÂà∞ÊôÆÈÄöÊ®°Âºè„ÄÇ ÂëΩ‰ª§Ë°åÊ®°ÂºèÂú®ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏≠ÂèØ‰ª•ËæìÂÖ•‰ºöË¢´Ëß£ÈáäÂπ∂ÊâßË°åÁöÑÊñáÊú¨„ÄÇ‰æãÂ¶ÇÊâßË°åÂëΩ‰ª§‚Äô:‚ÄôÔºå‚Äô/‚ÄòÔºå ‚Äò?‚ÄôÊàñËÄÖËøáÊª§ÂëΩ‰ª§‚Äô!‚ÄôÔºåvimËøîÂõûÂà∞ÂëΩ‰ª§Ë°åÊ®°Âºè‰πãÂâçÁöÑÊ®°ÂºèÔºåÈÄöÂ∏∏ÊòØÊôÆÈÄöÊ®°Âºè„ÄÇ Âü∫Êú¨ÂëΩ‰ª§ËøõÂÖ•Êñá‰ª∂1vim Êñá‰ª∂Âêç [+num] # vim t.txt +3 Â¶ÇÊûúÊñá‰ª∂ÂêçÂØπÂ∫îÊñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàô‰ºöÊâìÂºÄÊñ∞ÁöÑÊñá‰ª∂ÔºåÁºñËæë‰πãÂêé‰øùÂ≠òÂ∞±ËÉΩÁîüÊàêÊñ∞ÁöÑÊñá‰ª∂„ÄÇ +num‰ª£Ë°®ÊâìÂºÄÊñá‰ª∂ÂêéÂÖâÊ†áÂÆö‰ΩçÂà∞Á¨¨numË°åÔºåÂè™Â∏¶+ÂÖâÊ†áÂàôÂÆö‰ΩçÂà∞Êñá‰ª∂ÁöÑÊúÄÂêé‰∏ÄË°åÔºå‰∏çÂ∏¶+numÔºåÊâìÂºÄÊñá‰ª∂ÂêéÂÖâÊ†á‰ºöÂÅúÂú®Êñá‰ª∂Á¨¨‰∏ÄË°å„ÄÇ ÈÄÄÂá∫Âú®ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ãËæìÂÖ•‰ª•‰∏ãÂëΩ‰ª§ 12345:w # ‰øùÂ≠ò‰∏çÈÄÄÂá∫:q # ÈÄÄÂá∫ÔºåÂ¶ÇÊûúÁºñËæë‰πãÂêéÊ≤°Êúâ‰øùÂ≠òÂàô‰ºöÈÄÄÂá∫Â§±Ë¥•:q! # Âº∫Ë°åÈÄÄÂá∫Ôºå‰∏ç‰øùÂ≠òÊîπÂä®:wq # ‰øùÂ≠òÂπ∂ÈÄÄÂá∫:x # ‰øùÂ≠òÂπ∂ÈÄÄÂá∫ÔºåË∑ü:wqÁöÑÊïàÊûúÊòØ‰∏ÄÊ†∑ÁöÑ Â≠óÁ¨¶ÁßªÂä®ÈîÆÁõò‰∏äÁöÑhjklÂàÜÂà´ÂØπÂ∫îÂ∑¶„ÄÅ‰∏ã„ÄÅ‰∏ä„ÄÅÂè≥ÁÆ≠Â§¥ÈîÆÔºåÂ¶ÇÊûúË¶ÅËøõË°åÂ§öÊ¨°ÁßªÂä®ÔºåÂèØ‰ª•ÂÖàÊåâÊï∞Â≠óÂÜçÊåâÂØπÂ∫îÁöÑÂ≠óÊØçÈîÆÔºåÂ¶Ç‚Äò10j‚ÄôÂ∞±ÊòØÂêë‰∏ãÁßªÂä®10Ë°å„ÄÇ Ë°åÂÜÖÁßªÂä®ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ã 123450 # Êï∞Â≠ó0ÔºåÁßªÂä®Âà∞Ë°åÈ¶ñ^ # ÁßªÂä®Âà∞Ë°åÈ¶ñ$ # ÁßªÂä®Âà∞Ë°åÂ∞æw # ÂêëÂêéÁßªÂä®‰∏Ä‰∏™ÂçïËØçÔºàwordÔºâb # ÂêëÂâçÁßªÂä®‰∏Ä‰∏™ÂçïËØçÔºàbackÔºâ Ë°åÈó¥ÁßªÂä®ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ã 1234gg # Êñá‰ª∂È°∂ÈÉ®G # Êñá‰ª∂Â∞æÈÉ®Êï∞Â≠ógg # ÁßªÂä®Âà∞ÊåáÂÆöË°åÊï∞Ôºà3ggÁßªÂä®Âà∞Á¨¨‰∏âË°åÔºâ:Êï∞Â≠ó # ‰πüÊòØÁßªÂä®Âà∞ÊåáÂÆöË°åÊï∞ Â±èÂπïÁßªÂä®ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ã 12345ctrl+b # Âêë‰∏ãÁøªÈ°µctrl+f # Âêë‰∏äÁøªÈ°µH # Â±èÂπïÈ°∂ÈÉ®M # Â±èÂπï‰∏≠ÈÉ®L # Â±èÂπïÂ∫ïÈÉ® ÊÆµËêΩÁßªÂä®vim‰∏≠ÊòØÁî®Á©∫Ë°åÊù•Âå∫ÂàÜÊÆµËêΩÁöÑÔºå‰ª•‰∏ãÂëΩ‰ª§‰πüÊòØÂú®ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ãÊâßË°åÁöÑ 12&#123; # ‰∏ä‰∏ÄÊÆµ&#125; # ‰∏ã‰∏ÄÊÆµ Êã¨Âè∑ÂàáÊç¢1% # Êã¨Âè∑ÂåπÈÖç Ê†áËÆ∞Âú®ÂºÄÂèëÊó∂Â¶ÇÊúâ‰ª£Á†ÅÈúÄË¶ÅÁ®çÂêéÂ§ÑÁêÜÔºåÂèØ‰ª•‰ΩøÁî®Ê†áËÆ∞ÔºåËøôÊ†∑ÂèØ‰ª•Âú®ÈúÄË¶ÅÁöÑÊó∂ÂÄôÂø´ÈÄüÁöÑË∑≥ËΩ¨„ÄÇÊ†áËÆ∞ÂêçÁß∞ÂèØ‰ª•ÊòØa-zA-Z‰∏≠‰ªªÊÑè‰∏Ä‰∏™Â≠óÊØç„ÄÇÊ∑ªÂä†‰∫ÜÊ†áËÆ∞ÁöÑË°åÂ¶ÇÊûúË¢´Âà†Èô§ÔºåÊ†áËÆ∞ÂêåÊó∂Ë¢´Âà†Èô§„ÄÇ 12mx # xÊòØÊ†áËÆ∞ÂêçÁß∞'x # Áõ¥Êé•ÂÆö‰ΩçÂà∞Ê†áËÆ∞ÊâÄÂú®‰ΩçÁΩÆ ÈÄâ‰∏≠ÊñáÊú¨ÈÄâ‰∏≠ÊñáÊú¨ÁöÑÂëΩ‰ª§ÈúÄË¶ÅÂú®ÂèØËßÜÊ®°Âºè‰∏ãÔºåÂèØ‰ª•Ë∑üÁßªÂä®ÂëΩ‰ª§ËøûÁî®ÔºåÂ¶ÇggVGËÉΩÂ§üÈÄâ‰∏≠ÊâÄÊúâÂÜÖÂÆπ 123v # ÂèØËßÜÊ®°ÂºèÔºå‰ªéÂÖâÊ†á‰ΩçÁΩÆÂºÄÂßãÂÆâË£ÖÊôÆÈÄöÊ®°ÂºèÈÄâÊã©ÊñáÊú¨V # ÂèØËßÜË°åÊ®°ÂºèÔºåÈÄâ‰∏≠ÂÖâÊ†áÁªèËøáÁöÑÂÆåÊï¥Ë°åctrl+v # ÂèØËßÜÂùóÊ®°ÂºèÔºåÂûÇÁõ¥ÊñπÂêëÈÄâ‰∏≠ÊñáÊú¨ Êí§ÈîÄÂíåÊÅ¢Â§çÊí§ÈîÄÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ã 12u # undoÔºåÊí§ÈîÄ‰∏äÊ¨°ÂëΩ‰ª§ ctrl+r # redoÔºåÊÅ¢Â§ç‰∏äÊ¨°ÂëΩ‰ª§ Âà†Èô§ÊñáÊú¨1234x # Âà†Èô§ÂÖâÊ†áÊâÄÂú®Â≠óÁ¨¶ÔºåÊàñËÄÖÈÄâ‰∏≠ÊñáÂ≠ód(ÁßªÂä®ÂëΩ‰ª§) # Âà†Èô§ÁßªÂä®ÂëΩ‰ª§ÈÄâ‰∏≠ÁöÑÂÜÖÂÆπdd # delete Âà†Èô§ÂÖâÊ†áÊâÄÂú®Ë°åÔºåÂèØ‰ª•nddÂà†Èô§Â§öË°åD # delete Âà†Èô§Ëá≥Ë°åÂ∞æ Â∏∏ËßÅÁöÑÂà†Èô§ÂëΩ‰ª§ÁªÑÂêà 123456dw # ‰ªéÂÖâÊ†á‰ΩçÁΩÆÂà†Èô§Âà∞ÂçïËØçÊú´Â∞æd0 # ‰ªéÂÖâÊ†á‰ΩçÁΩÆÂà†Èô§Âà∞ÊâÄÂú®Ë°åÁöÑËµ∑Âßã‰ΩçÁΩÆd&#125; # ‰ªéÂÖâÊ†á‰ΩçÁΩÆÂà†Èô§Ëá≥ÊÆµËêΩÁªìÂ∞ændd # ‰ªéÂÖâÊ†á‰ΩçÁΩÆÂêë‰∏ãËøûÁª≠Âà†Èô§nË°åd‰ª£Á†ÅË°åG # ‰ªéÂÖâÊ†áÊâÄÂú®Ë°åÂà†Èô§Ëá≥ÊåáÂÆö‰ª£Á†ÅË°å‰πãÈó¥ÁöÑÊâÄÊúâ‰ª£Á†Åd'a # ‰ªéÂÖâÊ†á‰ΩçÁΩÆÊâÄÂú®Ë°åÂà†Èô§Âà∞Ê†áËÆ∞‰∏∫a‰πãÈó¥ÁöÑÊâÄÊúâ‰ª£Á†Å Â§çÂà∂„ÄÅÁ≤òË¥¥123y(ÁßªÂä®ÂëΩ‰ª§) # copyÔºåÂ§çÂà∂yy # copyÔºåÂ§çÂà∂‰∏ÄË°åÔºånyyÂèØ‰ª•Â§çÂà∂Â§öË°åÔºån‰∏∫ÂÖ∑‰ΩìÊï∞Â≠óp # pasteÔºåÁ≤òË¥¥ ÊõøÊç¢ÊõøÊç¢Ê®°ÂºèÁöÑ‰ΩúÁî®Â∞±ÊòØ‰∏çÁî®ËøõÂÖ•ÁºñËæëÊ®°ÂºèÔºåÂØπÊñá‰ª∂ËøõË°åËΩªÈáèÁ∫ßÁöÑ‰øÆÊîπ„ÄÇRÂëΩ‰ª§ÂèØ‰ª•ËøõÂÖ•ÊõøÊç¢Ê®°ÂºèÔºåÊõøÊç¢ÂÆåÊàêÂêéÔºåÊåâ‰∏ãESCÂèØ‰ª•ÂõûÂà∞ÂëΩ‰ª§Ê®°Âºè„ÄÇ 12r # replaceÔºåÊõøÊç¢ÂΩìÂâçÂ≠óÁ¨¶ÔºåÂëΩ‰ª§Ê®°Âºè‰∏ãR # replaceÔºåÊõøÊç¢ÂΩìÂâçË°åÂÖâÊ†áÂêéÁöÑÂ≠óÁ¨¶ÔºåÈúÄË¶ÅÂú®ÊõøÊç¢Ê®°Âºè‰∏ã Áº©Ëøõ„ÄÅÁºñÊéíÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ã 123&gt;&gt; # ÂêëÂè≥Áº©Ëøõ&lt;&lt; # ÂêëÂ∑¶Áº©Ëøõ. # ÈáçÂ§ç‰∏ä‰∏Ä‰∏™ÂëΩ‰ª§ Êü•Êâæ1„ÄÅÂ∏∏ËßÑÊü•Êâæ 1/str # Êü•Êâæstr Êü•ÊâæÂà∞ÂÜÖÂÆπÂêéÔºå‰ΩøÁî®nextË∑≥ËΩ¨Âà∞‰∏ã‰∏Ä‰∏™Âá∫Áé∞ÁöÑ‰ΩçÁΩÆ 12n # Êü•Êâæ‰∏ã‰∏Ä‰∏™N # Êü•Êâæ‰∏ä‰∏Ä‰∏™ 2„ÄÅÂçïËØçÊü•Êâæ ÂΩìË¶ÅÊü•ÊâæÂÖâÊ†áÊâÄÂú®ÁöÑÂçïËØçÊó∂ÂèØ‰ª•‰ΩøÁî®ÁöÑÂëΩ‰ª§ 12* # ÂêëÂêéÊü•ÊâæÂÖâÊ†áÊâÄÂú®ÁöÑÂçïËØç# # ÂêëÂâçÊü•ÊâæÂΩìÂâçÂÖâÊ†áÊâÄÂú®ÁöÑÂçïËØç Êü•ÊâæÂπ∂ÊõøÊç¢ÂëΩ‰ª§Ê†ºÂºèÂ¶Ç‰∏ãÔºö 1:%s///g 1„ÄÅÂÖ®Â±ÄÊõøÊç¢ ‰∏ÄÊ¨°ÊÄßÊõøÊç¢Êñá‰ª∂‰∏≠ÊâÄÊúâÂá∫Áé∞ÁöÑÊóßÊñáÊú¨ 1:%s/ÊóßÊñáÊú¨/Êñ∞ÊñáÊú¨/g 2„ÄÅÂèØËßÜÂå∫ÊõøÊç¢ ÂÖàÈÄâ‰∏≠Ë¶ÅÊõøÊç¢ÁöÑÊñá‰ª∂ËåÉÂõ¥ÔºàÂèØËßÜÊ®°Âºè‰∏ãËøõË°åÈÄâÊã©Ôºâ 1:S/ÊóßÊñáÊú¨/Êñ∞ÊñáÊú¨/g 3„ÄÅÁ°ÆËÆ§ÊõøÊç¢ 1:%s/ÊóßÊñáÊú¨/Êñ∞ÊñáÊú¨/gc ÂõûËΩ¶Âêé‰ºöÊúâÊèêÁ§∫ÔºåÊ†πÊçÆÊèêÁ§∫ËøõË°åÈÄâÊã©ÂØπÂ∫îÁöÑÊìç‰ΩúÔºö yÔºöyesÔºåÊõøÊç¢ nÔºönoÔºå‰∏çÊõøÊç¢ aÔºöallÔºåÂÖ®ÈÉ® qÔºöquitÔºåÈÄÄÂá∫ÊõøÊç¢ lÔºölastÔºåÈÄÄÊç¢ÊúÄÂêé‰∏Ä‰∏™ÔºåÂπ∂ÊääÂÖâÊ†áÂÆö‰ΩçÂà∞Ë°åÈ¶ñ ^EÔºöÂêë‰∏ãÊªöÂ±è ^YÔºöÂêë‰∏äÊªöÂ±è ÂëΩ‰ª§Ë°åÂëΩ‰ª§‰∏ªË¶ÅÊòØÈíàÂØπÊñá‰ª∂ËøõË°åÊìç‰ΩúÁöÑÔºö‰øùÂ≠ò„ÄÅÈÄÄÂá∫„ÄÅ‰øùÂ≠ò&amp;ÈÄÄÂá∫„ÄÅÊêúÁ¥¢„ÄÅÊõøÊç¢„ÄÅÂè¶Â≠ò„ÄÅÊñ∞Âª∫Êñá‰ª∂„ÄÅÊµèËßàÊñá‰ª∂ÔºåÂàáÊç¢Êñá‰ª∂‰πãÂâçÔºåÂøÖÈ°ªÁ°Æ‰øùÂΩìÂâçÊñá‰ª∂Â∑≤ÁªèË¢´‰øùÂ≠ò‰∫Ü„ÄÇ 123:e . # editÔºå‰ºöÊâìÂºÄÂÜÖÁΩÆÁöÑÊñá‰ª∂ÊµèËßàÂô®ÔºåÊµèËßàÂΩìÂâçÁõÆÂΩï‰∏ãÁöÑÊñá‰ª∂:n Êñá‰ª∂Âêç # newÔºåÊñ∞Âª∫Êñá‰ª∂:w Êñá‰ª∂Âêç # writeÔºåÂè¶Â≠ò‰∏∫Êñ∞Êñá‰ª∂Ôºå‰ΩÜÊòØ‰ªçÁÑ∂ÁºñËæëÂΩìÂâçÊñá‰ª∂ÔºåÂπ∂‰∏ç‰ºöÂàáÊç¢Êñá‰ª∂ ÂàÜÂ±èÂëΩ‰ª§ÂèØ‰ª•ÂêåÊó∂ÁºñËæëÂíåÊü•ÁúãÂ§ö‰∏™Êñá‰ª∂ 12:sp [Êñá‰ª∂Âêç] # split,Ê®™ÂêëÂ¢ûÂä†ÂàÜÂ±è:vsp [Êñá‰ª∂Âêç] # vertical splitÔºåÁ∫µÂêëÂ¢ûÂä†ÂàÜÂ±è ÂàáÊç¢ÂàÜÂ±èÁ™óÂè£ÂàÜÂ±èÁ™óÂè£ÈÉΩÊòØÂü∫‰∫éctrl+wËøô‰∏™Âø´Êç∑ÈîÆÁöÑ 12345w # windowÔºåÂàáÊç¢ÈÉΩ‰∏ã‰∏Ä‰∏™Á™óÂè£r # reverseÔºå‰∫íÊç¢Á™óÂè£c # closeÔºåÂÖ≥Èó≠ÂΩìÂâçÁ™óÂè£Ôºå‰ΩÜÊòØ‰∏çËÉΩÂÖ≥Èó≠ÊúÄÂêé‰∏Ä‰∏™Á™óÂè£q # quitÔºåÈÄÄÂá∫ÂΩìÂâçÁ™óÂè£ÔºåÂ¶ÇÊûúÊòØÊúÄÂêé‰∏Ä‰∏™Á™óÂè£ÔºåÂàôÂÖ≥Èó≠vimo # otherÔºåÂÖ≥Èó≠ÂÖ∂‰ªñÁ™óÂè£ ÁºñËæëÂëΩ‰ª§ÂíåÊï∞Â≠óÁöÑËÅîÁî®12345Âú®ÂëΩ‰ª§Ë°åÊ®°Âºè‰∏ãÔºåËæìÂÖ•Êï∞Â≠óÔºàÂ¶Ç5Ê¨°ÔºâÊåâ‰∏ãiËøõÂÖ•ÁºñËæëÊ®°ÂºèÂú®ÁºñËæëÊ®°Âºè‰∏ãËøõË°åÊìç‰ΩúÔºàÂÜôÂÖ•ÂÜÖÂÆπÊàñËÄÖÊç¢Ë°åÁ≠âÊìç‰ΩúÈÉΩ‰ºöË¢´Â§çÂà∂ÔºâÊåâ‰∏ãESCËøõÂÖ•ÂëΩ‰ª§Ë°åÊ®°ÂºèÔºåËøôÊó∂Ê≠•È™§2„ÄÅ3ÁöÑÊìç‰Ωú‰ºöÈáçÂ§ç‰∫Ü5Ê¨°Â¶ÇÊûúÂÜçÊåâ‰∏ã.Âàô‰ºöÂ∞ÜÈáçÂ§ç‰∏ä‰∏Ä‰∏™Êìç‰ΩúÔºå‰πüÂ∞±ÊòØÊ≠•È™§4ÔºåÁõ∏ÂΩì‰∫éÊìç‰Ωú‰∫Ü10Ê¨°]]></content>
      <tags>
        <tag>vim</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mitmproxyÔºöÂÆâË£ÖÈÖçÁΩÆ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F27%2Fmitmproxy%EF%BC%9A%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%2F</url>
    <content type="text"><![CDATA[mitmproxyÊòØ‰∏Ä‰∏™ÊîØÊåÅHTTPÂíåHTTPSÔºåÂπ∂Â∏¶ÊúâÊéßÂà∂Âè∞ÁöÑÊäìÂåÖÂ∑•ÂÖ∑„ÄÇ ÂÆâË£Ömac‰∏ã‰ΩøÁî®brewÂÆâË£ÖmitmproxyÔºå‰ºöÂêåÊó∂ÂÆâË£ÖmitmdumpÂíåmitmweb‰∏§‰∏™ÁªÑ‰ª∂„ÄÇmitmdumpÊòØmitmporxyÁöÑÂëΩ‰ª§Ë°åÁâàÊú¨ÔºåmitmwebÊòØ‰∏Ä‰∏™Âü∫‰∫éwebÁöÑmitmproxyÊé•Âè£„ÄÇ 1brew install mitmproxy ÁªàÁ´ØÂêØÂä®mitmproxy‰ª•ÁîüÊàêCAËØÅ‰π¶ 1mitmproxy -p 8888 # ctrl+cÂÖ≥Èó≠ÔºåÈªòËÆ§Á´ØÂè£ÊòØ8080ÔºåÂèØ‰ª•‰ΩøÁî®-pÊåáÂÆöÁ´ØÂè£ ÁîüÊàêÁöÑËØÅ‰π¶ÊîæÂú®Ê†πÁõÆÂΩï‰∏ãÁöÑÈöêËóèÊñá‰ª∂.mitmproxy ÈÖçÁΩÆÁîµËÑëÈÖçÁΩÆËØÅ‰π¶Ôºö ËøõÂÖ•.mitmproxyÊñá‰ª∂Â§πÔºåÂ∞Ümitmproxy-ca-cert.pemÊãâÂà∞Èí•Âåô‰∏≤ËÆøÈóÆ‰∏≠ÔºåÁÇπÂáªÈÄâÊã©‚ÄúÂßãÁªà‰ø°‰ªª‚Äù ÊâãÊú∫ÈÖçÁΩÆËØÅ‰π¶Ôºö 1„ÄÅÊü•ÁúãÁîµËÑëÁöÑip 1ifconfig en0 | grep inet 2„ÄÅËÆæÁΩÆÊâãÊú∫http‰ª£ÁêÜÔºå‰øÆÊîπÊúçÂä°Âô®ÂíåÁ´ØÂè£ÔºàÊ≤°ÊúâÊåáÂÆöÂàô‰∏∫ÈªòËÆ§Á´ØÂè£8080Ôºâ 3„ÄÅÂú®ÊâãÊú∫ÊµèËßàÂô®‰∏≠ËæìÂÖ•mitm.itÔºåÈÄâÊã©ÂØπÂ∫îÁöÑËØÅ‰π¶ËøõË°åÂÆâË£Ö„ÄÅËÆ§ËØÅ ËøôÊ†∑Â∞±Âü∫Êú¨ÈÖçÁΩÆÂÆåÊàê‰∫ÜÔºåÊï¥‰∏™ËøáÁ®ãË∑ücharlesÁöÑÈÖçÁΩÆÊòØÁ±ª‰ººÁöÑÔºåÊé•‰∏ãÊù•Â∞±ËÉΩÂú®ÁªàÁ´ØÁõëÂê¨ÊâãÊú∫Á´ØÁöÑÊï∞ÊçÆ‰∫Ü„ÄÇ ‰ΩøÁî®ÂØπ‰∫éÊï∞ÊçÆÊäìÂèñÊù•ËØ¥ÔºåÂèØ‰ª•ÈÄöËøácharles„ÄÅfiddlerÁ≠âÊäìÂåÖÂ∑•ÂÖ∑ÂÖàÊâæÂà∞Êï∞ÊçÆÊé•Âè£ÔºåÂÜçÈÄöËøámitmproxyÊù•Ëé∑ÂèñÊï∞ÊçÆ„ÄÇ mitmdumpÂèØ‰ª•ËøêË°åËÑöÊú¨Ôºö 1mitmdump -p 8888 -s script.py ËÑöÊú¨Â¶Ç‰∏ãÔºö 1234567891011121314151617181920212223242526272829# -*- coding:utf-8 -*-# Time: 2018/6/8 15:40from mitmproxy import ctximport jsonimport csvcolumns = ['title', 'author', 'cover', 'summary', 'price']file = open('books.csv', 'w', newline='', encoding='utf-8')writer = csv.DictWriter(file, columns)writer.writeheader()def response(flow): global writer url = "https://dedao.igetget.com/v3//discover/bookList" if flow.request.url.startswith(url): text = flow.response.text data = json.loads(text) books = data.get('c').get('list') for book in books: data = &#123; 'title': book.get('operating_title'), 'author': book.get('book_author'), 'cover': book.get('cover'), 'summary': book.get('other_share_summary'), 'price': book.get('price') &#125; writer.writerow(data) ctx.log.info(str(data)) ËøôÈáåÊúâ‰∏§ÁÇπÈúÄË¶ÅÊ≥®ÊÑèÁöÑÔºö mitmproxyÈúÄË¶Åpython3.6Âèä‰ª•‰∏äÊâçËÉΩËøêË°å ‰æãÂ≠êÊù•Ëá™Â¥îÂ∫ÜÊâçÁöÑ„Ääpython3ÁΩëÁªúÁà¨Ëô´ÂºÄÂèëÂÆûÊàò„ÄãÔºåÂéü‰æãÊòØÂ∞ÜÊï∞ÊçÆ‰øùÂ≠òÂà∞mongodbÔºå‰ΩÜÊòØ‰∏ÄÁõ¥ÊúâÈîôËØØÔºåÊöÇÊó∂ËøòÊ≤°Ëß£ÂÜ≥ ÂèÇËÄÉÊñáÁ´†Ôºömitmproxy]]></content>
      <tags>
        <tag>mitmproxy</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[macOS High Sierra ÂÆâË£ÖpyspiderÂá∫Èîô]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F27%2FmacOS-High-Sierra-%E5%AE%89%E8%A3%85pyspider%E5%87%BA%E9%94%99%2F</url>
    <content type="text"><![CDATA[Âú®ÂÆâË£ÖpyspiderÁöÑÊó∂ÂÄôÔºàÂ∑≤ÁªèÂÆâË£Ö‰∫ÜphantomJSÔºâÔºåÂá∫Áé∞ËøôÊ†∑ÁöÑÈîôËØØÊèêÁ§∫Ôºö 12345 specify the SSL backend manually.&apos;&apos;&apos;) __main__.ConfigurationError: Curl is configured to use SSL, but we have not been able to determine which SSL backend it is using. Please see PycURL documentation for how to specify the SSL backend manually. ----------------------------------------Command &quot;python setup.py egg_info&quot; failed with error code 1 in /private/var/folders/47/d5b7q3_n4vn_1vjptchnm9z00000gp/T/pip-install-ggxo8959/pycurl/ Ê†πÊçÆÈîôËØØÊèêÁ§∫ÔºåÂ∫îËØ•ÊòØÊ≤°ÂäûÊ≥ïËé∑ÂèñÂà∞opensslÁöÑÂ§¥Êñá‰ª∂ÊâçÂØºËá¥pycurlÂÆâË£ÖÈîôËØØ„ÄÇÁªèËøá‰∏ÄÁï™ÊêúÁ¥¢Ôºå‰∫ÜËß£Âà∞macOS High SierraÊääSSL‰ªéOPenSSL 0.9.8zh ÂàáÊç¢Âà∞LibreSSL„ÄÇËÄå‰∏îÈÄöËøáhomebrewÂÆâË£ÖÁöÑopenssl‰πüÊòØkey-onlyÔºåÁ¶ÅÊ≠¢ÈÄöËøábrew link opensslÊ∑ªÂä†ËΩØÈìæÊé•„ÄÇÊâÄ‰ª•ÈúÄË¶ÅËÆæÁΩÆ‰∏Ä‰∏ãLDFLAGSÔºåCPPFLAGSÔºåPYCURL_SSL_LIBRARYÔºå‰ª•‰æøÁºñËØëÊó∂ËÉΩÂ§üÊâæÂà∞openssl„ÄÇ ÂÆâË£ÖpycurlÔºö 12345pip uninstall pycurl # Âç∏ËΩΩÂ∫ìexport PYCURL_SSL_LIBRARY=opensslexport LDFLAGS=-L/usr/local/opt/openssl/libexport CPPFLAGS=-I/usr/local/opt/openssl/include # opensslÁõ∏ÂÖ≥Â§¥Êñá‰ª∂Ë∑ØÂæÑpip install pycurl --compile --no-cache-dir # ÈáçÊñ∞ÁºñËØëÂÆâË£Ö Êé•‰∏ãÊù•ÂÆâË£ÖpyspiderÔºö 1pip install pyspider ÂèÇËÄÉÊñáÁ´†Ôºö Installing PycURL on macOS High Sierra macÂØºÂÖ•pycurlÂá∫ÈîôÈáçË£ÖÂêéËøòÊòØÊä•Èîô]]></content>
      <tags>
        <tag>pyspider</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandas: reset_indexÂíåset_indexÁî®Ê≥ï]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F20%2Fpandas-reset-index%E5%92%8Cset-index%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[Âú®Â§ÑÁêÜÊï∞ÊçÆÁöÑÊó∂ÂÄôÔºåÁªèÂ∏∏ÈúÄË¶ÅÂ∞ÜÊäìÂèñÂà∞ÁöÑÊï∞ÊçÆÂíåËøêËê•Êèê‰æõÁöÑÊï∞ÊçÆËøõË°å‰∏Ä‰∏™ÂåπÈÖçÊõ¥Êñ∞ÔºåÂ§ßÂ§öÊï∞ÊÉÖÂÜµ‰∏ãÈÉΩÊòØ‰ª•ÂïÜÂìÅÁöÑÈìæÊé•‰Ωú‰∏∫indexËøõË°åÂåπÈÖçÔºåÊâÄ‰ª•Âú®ËØªÊï∞ÊçÆÁöÑÊó∂ÂÄôÊàëÈÉΩ‰ºö‰ΩøÁî®index_colÊù•ÊåáÂÆö„ÄÇËøôÊ†∑ÁöÑËØùÔºåËÉΩËß£ÂÜ≥ÊäìÂèñÊï∞ÊçÆÂíåÂéüÂßãÊï∞ÊçÆÁöÑÂåπÈÖçÈóÆÈ¢òÔºå‰ΩÜÊòØÂë¢ÔºåÊäìÂèñÊï∞ÊçÆÂ∞±Â∞ë‰∫ÜurlsËøô‰∏ÄÈ°πÔºàÂ∑≤‰Ωú‰∏∫indexÔºâÔºåÊúÄÂêéÊõ¥Êñ∞ÂÆåÊï∞ÊçÆËøòÊòØÈúÄË¶ÅÂ∞ÜÂïÜÂìÅÈìæÊé•ÁªôË°•‰∏ä„ÄÇ‰ΩøÁî®reset_index()ÂáΩÊï∞Â∞±ÂèØ‰ª•ËΩªÊùæËß£ÂÜ≥Ëøô‰∏™ÈóÆÈ¢ò„ÄÇ reset_index()ËØ•ÂáΩÊï∞ËÉΩÂ§üÂ∞ÜË°åÁ¥¢ÂºïËΩ¨‰∏∫Âàó„ÄÇ 1DataFrame.reset_index(level=None, drop=False, inplace=False, col_level=0, col_fill=‚Äù) drop‰∏∫FalseÂàôÁ¥¢Âºï‰ºöË¢´ËøòÂéü‰∏∫ÊôÆÈÄöÂàóÔºåÂê¶Âàô‰ºö‰∏¢Â§±„ÄÇ ÂØπ‰∫éÂçïÁ¥¢ÂºïÈóÆÈ¢òÔºå‰ΩøÁî®level=0Ë∑ülevel=‚Äòindex_name‚ÄôÁöÑ‰ΩúÁî®ÊòØ‰∏ÄÊ†∑ÁöÑÔºå‰πüÂèØ‰ª•‰∏çÊèê‰æõlevelÂèÇÊï∞„ÄÇ 1dataframe.reset_index(level=0) ÂØπ‰∫éÂ§öÁ∫ßÁ¥¢ÂºïÔºåÊÉÖÂÜµÁ®çÂæÆÊúâÁÇπ‰∏çÂêå„ÄÇ 123456import pandas as pdimport numpy as npindex = pd.MultiIndex.from_product([['TX', 'FL', 'CA'], ['North', 'South']], names=['State', 'Direction'])df = pd.DataFrame(index=index, data=np.random.randint(0, 10, (6,4)), columns=list('abcd')) Áõ¥Êé•Ë∞ÉÁî®reset_index()ÔºåÈªòËÆ§ÊòØÂ∞ÜÂÖ®ÈÉ®Á∫ßÂà´ÁöÑË°åÁ¥¢ÂºïÈÉΩËΩ¨‰∏∫ÂàóÊï∞ÊçÆÔºåÂπ∂‰ΩøÁî®‰∏Ä‰∏™RangeInddexÊù•‰Ωú‰∏∫Êñ∞Á¥¢Âºï„ÄÇ 1df.reset_index() ‰ΩøÁî®levelÂèÇÊï∞ÂèØ‰ª•ÈÄâÊã©ÊåáÂÆöÁöÑË°åÁ¥¢Âºï„ÄÇ 123df.reset_index(level=1) # or df.reset_index(level=‚ÄòDirection‚Äô) ÈúÄË¶ÅËΩ¨Êç¢Â§ö‰∏™Ë°åÁ¥¢ÂºïÊó∂‰ΩøÁî®ÂàóË°®„ÄÇ 1df.reset_index(level=[‚ÄòState‚Äô,‚ÄôDirection‚Äô]) Âè¶Â§ñÔºåÊàë‰ª¨Â∞ÜÊï∞ÊçÆÂÖ≥‰∫éÊüê‰∏™Â≠óÊÆµËøõË°åÂàÜÁªÑ‰πãÂêéÔºågroupbyÁöÑÈîÆÂ∞Ü‰ºö‰Ωú‰∏∫ÁªìÊûúÁöÑindexÔºåÂ¶ÇÊûú‰∏çÊÉ≥Ë¶ÅËøôÊ†∑ÔºåÂèØ‰ª•Âú®ÂàÜÁªÑÊó∂ËÆæÁΩÆas_index=FalseÔºåÂ∞±ÂèØ‰ª•Â∞ÜgroupbyÁöÑÈîÆ‰ªçÁÑ∂‰Ωú‰∏∫ÂàóÊï∞ÊçÆ„ÄÇ 123df2 = df.reset_index()# ËøôÈáåÁöÑfirst()ÊòØÂèñÊØè‰∏™ÂàÜÁªÑÁöÑÁ¨¨‰∏ÄÊù°ËÆ∞ÂΩïdf2.groupby('Direction', as_index=False).first() set_index()set_index()Âàô‰∏é‰πãÁõ∏Âèç ÔºåËØ•ÂáΩÊï∞Áî®Êù•ËÆæÁΩÆË°åÁ¥¢Âºï„ÄÇ 1DataFrame.set_index(keys, drop=True, append=False, inplace=False, verify_integrity=False) ÂèÇÊï∞ËØ¥ÊòéÔºö ËÆæÁΩÆÁ¥¢ÂºïÁöÑÂèÇÊï∞ÊòØkeys appendÊ∑ªÂä†Êñ∞Á¥¢Âºï drop‰∏∫FalseÊó∂ÔºåÊàêÂäüËÆæÁΩÆ‰∫ÜindexÔºåÂêåÊó∂ÂàóÊï∞ÊçÆ‰∏≠‰ªçÁÑ∂‰øùÂ≠òÁùÄindexÂ≠óÊÆµ inplace‰∏∫TrueÊó∂Ôºå‰øÆÊîπ‰∫ÜÂéüÂßãÊï∞ÊçÆ ÂçïÁ¥¢ÂºïÁõ¥Êé•‰º†ÂÖ•Â≠óÁ¨¶‰∏≤Âç≥ÂèØ„ÄÇ 1df2.set_index('State') Â§çÂêàÁ¥¢ÂºïÂàôËæìÂÖ•ÂàóË°®„ÄÇ 1df2.set_index(keys=['State', 'Direction']) ÂèØ‰ª•ÂæàËá™Áî±ÁöÑËÆæÁΩÆÂ§çÂêàÁ¥¢ÂºïÁöÑlevelÔºå‰∏çËøáÂú®Ëøô‰∏™‰æãÂ≠êÊ≤°Êúâ‰ΩìÁé∞Âá∫Êù• 1df2.set_index(keys=['Direction', 'State']) ÂèÇËÄÉÈìæÊé•ÔºöHow to convert pandas index in a dataframe to a column?]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>index</tag>
        <tag>Á¥¢Âºï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandasÔºöÊ†πÊçÆÊåáÂÆölistËøõË°åÊéíÂ∫è]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F20%2Fpandas%EF%BC%9A%E6%A0%B9%E6%8D%AE%E6%8C%87%E5%AE%9Alist%E8%BF%9B%E8%A1%8C%E6%8E%92%E5%BA%8F%2F</url>
    <content type="text"><![CDATA[Âú®ÂÆûÈôÖÊìç‰Ωú‰∏≠ÔºåÁªèÂ∏∏ÈúÄË¶ÅÊ†πÊçÆÊåáÂÆöÁöÑlistÂØπÊï∞ÊçÆÊéíÂ∫èÔºåËÄå‰∏çÂçïÂçïÊòØÊ†πÊçÆË°åÁ¥¢ÂºïÔºåÊâÄ‰ª•Â∞±ÈúÄË¶ÅÂ∞ÜÊï∞ÊçÆÁ±ªÂûãËΩ¨‰∏∫category„ÄÇ Ê≥®Ôºö‰Ωú‰∏∫Á±ªÂà´ÁöÑÂàóË°®ÂÖÉÁ¥†ÂøÖÈ°ªÂÖ∑ÊúâÂîØ‰∏ÄÊÄß ÂéüÊï∞ÊçÆÂ¶Ç‰∏ãÔºö 12345import pandas as pddata = &#123;'name': ['li', 'wang', 'zhang', 'hua'], 'grade': ['good', 'good', 'bad', 'excellent']&#125;df = pd.DataFrame(data) Áé∞Âú®ÔºåÂ∞ÜÂ≠¶ÁîüÊåâÊàêÁª©Á≠âÁ∫ß‰ªébad good excellentËøõË°åÊéíÂ∫è Â∞ÜÊüê‰∏ÄÂàóÊï∞ÊçÆËΩ¨‰∏∫categoryÔºàdtypeÔºâ Â∞ÜËØ•ÂàóÊåâÁÖßÁªôÂÆöÁöÑÁ±ªÂà´ÈáçÊñ∞ÂΩíÁ±ª 12345df['grade'] = df['grade'].astype('category')list_custom = ['bad', 'good', 'excellent']df['grade'].cat.reorder_categories(list_custom, inplace=True)# inplace=TrueÂú®ÂéüÊï∞ÊçÆ‰∏äÁîüÊïàdf.sort_values('grade', inplace=True) Â¶ÇÊûúË¶ÅÂ∞ÜÁªìÊûú‰øùÂ≠òÂà∞Êñ∞ÁöÑÂèòÈáè‰∏äÔºåÂèØ‰ª•ÁúÅÁï•inplaceÂèÇÊï∞ 1new_df = df.sort_values(‚Äògrade') Âè¶‰∏ÄÁßçÊñπÊ≥ïÂ¶Ç‰∏ãÔºö Áõ¥Êé•ÊûÑÂª∫Á±ªÂà´c Â∞ÜÊüê‰∏ÄÂàóÁöÑdtypeËΩ¨‰∏∫c 123456from pandas.api.types import CategoricalDtypelist_custom = ['bad', 'good', 'excellent']order = CategoricalDtype(list_custom, ordered=True)df['grade'] = df.grade.astype(order)df.sort_values('grade') Ëøô‰∏§ÁßçÊñπÊ≥ïÔºå‰ªéÈÄªËæë‰∏äÊù•ËÆ≤ÔºåËøòÊòØÂêéËÄÖÊØîËæÉÂ•ΩÁêÜËß£„ÄÇ]]></content>
      <tags>
        <tag>pandas</tag>
        <tag>ÊéíÂ∫è</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongodbÂ∏∏ËßÅÈîôËØØ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F14%2Fmongodb%E5%B8%B8%E8%A7%81%E9%94%99%E8%AF%AF%2F</url>
    <content type="text"><![CDATA[(code=exited, status=14)‰∏çÁü•ÈÅìÊÄé‰πàÂ∞±Âá∫Áé∞‰∫ÜËøô‰∏™ÈóÆÈ¢ò„ÄÇÂú®ÁΩë‰∏äÊâæ‰∫ÜÂ•Ω‰∏ÄÁï™ÔºåÊâçÁü•ÈÅìÊòØÂõ†‰∏∫Mongodb SOCK‰∏çÂ±û‰∫émongodb groupÂíåuserÂØºËá¥ÁöÑ„ÄÇ 12# ÈîôËØØ‰ø°ÊÅØÔºåËá™Â∑±ÁöÑÂøòËÆ∞Êà™Âõæ‰∫ÜÔºåËøôÊòØÊù•Ëá™ÂèÇËÄÉÊñáÁ´†ÁöÑ‰ø°ÊÅØmongod.service ‚Äî High-performance, schema-free document-oriented database Loaded: loaded (/lib/systemd/system/mongod.service; disabled; vendor preset: enabled) Active: failed (Result: exit-code) since Wed 2016‚Äì12‚Äì07 03:43:00 UTC; 3min 9s ago Docs: https://docs.mongodb.org/manual Process: 24453 ExecStart=/usr/bin/mongod ‚Äî quiet ‚Äî config /etc/mongod.conf (code=exited, status=14) Main PID: 24453 (code=exited, status=14) ÂÖ∑‰ΩìÁöÑËß£ÂÜ≥ÊñπÊ≥ïÔºö ËøõÂÖ•tmpÁõÆÂΩï 1cd /tmp Êü•ÁúãÊòØÂê¶Êúâmongodb sockÊñá‰ª∂ 1ls *.sock ‰øÆÊîπuser:groupÊùÉÈôê 1sudo chown mongodb:mognodb &lt;your_sock&gt; # ËøôÈáåÊàëÊòØmongod ÈáçÂêØmongodb 1sudo service mongod start Êü•ÁúãmongodbÁä∂ÊÄÅ 1sudo service mongod status Êó†Ê≥ïËøûÊé•ËøúÁ®ãmongodbÊï∞ÊçÆÂ∫ìÂΩìÊàëÂú®Êú¨Âú∞Â∞ùËØïËøûÊé•Âà∞ËøúÁ®ãÊúçÂä°Âô®Êó∂ÔºåÈÅáÂà∞connection attempt failedËøô‰∏™ÈîôËØØ„ÄÇ ‰∏ÄËà¨ÈÅáÂà∞ËøôÁßçÊÉÖÂÜµÔºåË¶Å‰πàÊòØËøúÁ®ãÊúçÂä°Âô®Ê≤°ÂºÄÂêØmongodÊúçÂä°ÔºåË¶Å‰πàÂ∞±ÊòØÊ≤°ÂºÄÊîæÁ´ØÂè£„ÄÇ 1„ÄÅÂºÄÂêØËøúÁ®ãmongodÊúçÂä° 12ssh user@192.122.122.100 # ÁôªÂΩïmongod --auth -f /etc/mongod.conf # Linux‰∏≠mongodÁöÑÈÖçÁΩÆÊñá‰ª∂ÈªòËÆ§ÊîæÂú®/etc‰∏ãÔºåauthÊòØÈúÄË¶ÅÂØÜÁ†ÅÁôªÂΩï ÁÑ∂ÂêéÂ∞±ÂèØ‰ª•Âú®Êú¨Âú∞Â∞ùËØïËøûÊé•‰∫Ü 2„ÄÅÂºÄÊîæmongodÊúçÂä°Á´ØÂè£ Â¶ÇÊûúÂêØÂä®mongodÊúçÂä°‰πãÂêéËøòÊòØ‰∏çË°åÔºåÂ∞±ÈúÄË¶ÅÊ£ÄÊü•‰∏Ä‰∏ãÈò≤ÁÅ´Â¢ô„ÄÇÂú®centos7Êü•ÁúãÂºÄÊîæÂÖ≥Èó≠Á´ØÂè£ÈÉΩÊòØÁî®Èò≤ÁÅ´Â¢ôÊù•ÊéßÂà∂ÁöÑ„ÄÇ ÂÖ≥Èó≠mongodÊúçÂä° 1sudo service mongod stop Êü•ÁúãÂ∑≤ÁªèÂºÄÊîæÁöÑÁ´ØÂè£ 1sudo firewall-cmd --list-ports ÂºÄÂêØÁ´ØÂè£ 1sudo firewall-cmd --zone-public --add-port=27017/tcp --permanent ÈáçÂêØÈò≤ÁÅ´Â¢ô 12firewall-cmd --reloadsudo service firewalld start ÈáçÊñ∞Â∞ùËØïËøûÊé• ÈîôËØØÁ†Å1ÂíåÈîôËØØ100Âá∫Áé∞ÈîôËØØÁ†Å1Âíå100ÂæàÂèØËÉΩÂõ†‰∏∫‰∏äÊ¨°mongodbÊ≤°ÊúâÊ≠£Â∏∏ÂÖ≥Èó≠. 1„ÄÅÂ¶ÇÊûúÊòØerror number 100ÁöÑËØù,‰∏ÄËà¨ÊâæÂá∫‰πãÂâçÁöÑËøõÁ®ã,ÁÑ∂ÂêékillÂ∞±ÂèØ‰ª• 2„ÄÅÊùÄÊéâËøõÁ®ãÂêé‰ªçÁÑ∂Êó†Ê≥ïÂêØÂä®mongdÂÆû‰æãÔºåÂæàÊúâÂèØËÉΩÊòØË¢´ÈîÅ‰Ωè‰∫ÜÔºåÈúÄË¶ÅÂ∞Ümongod.lockÊñá‰ª∂ÂèäÂΩìÂ§©ÁöÑlockÊñá‰ª∂ÁªôÂà†Èô§ ÂÖ∂ÂÆûËøòÊúâ‰∏Ä‰∏™ÂΩìÂ§©ÁöÑÊó•ÂøóÊñá‰ª∂,‰∏çËøáË¢´ÊâãÂä®Âà†Èô§‰∫Ü.ÂèÇËÄÉÁΩë‰∏äÁöÑÂÅöÊ≥ï: 123find / -name mongod.lock # ËØ•Êñá‰ª∂Â∞ÜmongodbÈîÅ‰∏äÈò≤Ê≠¢Áî®Êà∑Êìç‰Ωúrm -rf mongod.lock # Â°´ÂÜôÊ≠£Á°ÆÁöÑÊñá‰ª∂Âú∞ÂùÄrm -rf log.datetime # Âà†Èô§ÂΩìÂ§©Êó•ÂøóÊñá‰ª∂ ÁÑ∂ÂêéÂÜçÂ∞ùËØïÂêØÂä®mongodb 3„ÄÅÁªèËøá‰∏äÈù¢‰∏§Ê≠•Êìç‰Ωú‰πãÂêéÔºåÊÇ≤ÂÇ¨Âú∞ÂèëÁé∞ËøòÊòØÂêØÂä®‰∏ç‰∫ÜmongodÂÆû‰æã„ÄÇÊó†Â•àÂïäÔºÅÔºÅÔºÅÁªßÁª≠ÊêúÁ¥¢‰πãÂêéÂèëÁé∞ÂèØËÉΩÊòØÂõ†‰∏∫Â≠òÂÇ®Á©∫Èó¥Êª°‰∫ÜÔºåÈúÄË¶ÅÊ∏ÖÁêÜÁ©∫Èó¥ÊàñËÄÖÂä†Â§ßÂ≠òÂÇ®Á©∫Èó¥ 4„ÄÅÂà†Èô§Êï∞ÊçÆÊñá‰ª∂‰πãÂêéÔºåÂèØ‰ª•ÂêØÂä®mongdËøõÁ®ãÔºå‰ΩÜÊòØÁôªÂΩïÈ™åËØÅÁöÑÊó∂ÂÄôÂá∫ÈîôÔºåÈÄÄÂá∫ÈáçÊñ∞ÁôªÂΩïÔºà‰ª•‰∏∫ÊòØÂØÜÁ†Å‰πãÁ±ªÁöÑÂºÑÈîôÔºâÔºåÂêØÂä®mongodËøõÁ®ãÂèàÂá∫Áé∞100ÈîôËØØÁ†ÅÔºÅÔºÅÔºÅËçâÊ≥•È©¨ÔΩûÔΩûÔΩûÁªßÁª≠Â•ãÊñóÔºÅÊ†πÊçÆÁΩëÂèãÁöÑÂÆûË∑µÔºåÂèØËÉΩËøòÈúÄË¶ÅÂà†Èô§storageÊñá‰ª∂ÔºåÁªìÊûúËøòÊòØ‰∏çË°åÔºÅÔºÅÔºÅ 5„ÄÅÊúÄÂêéÔºåÊàëÊúâ‰∏™Â§ßËÉÜÁöÑÁåúÊµãÔºåÂ∞±ÊòØÂú®Ê∏ÖÁêÜÊï∞ÊçÆÂ∫ìÁöÑÊó∂ÂÄôÔºåÂõ†‰∏∫‰∏çÊ∏ÖÊ•öÂì™‰∫õÊòØÊï∞ÊçÆÔºåÂì™‰∫õÊòØ‰∏çÂèØÂà†Êñá‰ª∂ÔºåÂΩìÊó∂‰∏ÄËÇ°ËÑëÂÖ®Ê∏ÖÁ©∫‰∫ÜÔºàÈÉΩÊòØËá™Â∑±Âπ≥Êó∂Áà¨ÁùÄÁé©ÁöÑÊï∞ÊçÆÔºâÔºåÂèØËÉΩÂ∞ÜÁî®Êà∑‰ø°ÊÅØ‰πüÂèØÊ∏ÖÁêÜ‰∫Ü„ÄÇÊâÄ‰ª•ÊàëÊ≤°ÊúâÁî®Ë¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩïÔºåÂ±ÖÁÑ∂„ÄÇ„ÄÇ„ÄÇÊàê„ÄÇ„ÄÇ„ÄÇÂäü„ÄÇ„ÄÇ„ÄÇ‰∫Ü„ÄÇ„ÄÇ„ÄÇ„ÄÇ ËøõÂÖ•mongo shellÁöÑÁ¨¨‰∏Ä‰ª∂‰∫ãÂ∞±ÊòØÈ™åËØÅÊàëÁöÑÊÉ≥Ê≥ïÔºåÂóØÔºåËøòÁúüÊòØËøôÊ†∑ÔΩûÔΩûÁúãÊù•‰∏çÂ∏¶ËÑëÂ≠êÁúü‰∏çË°å Áõ∏ÂÖ≥Áü•ËØÜÁÇπMongoDBËøûÊé•ËøúÁ®ãÊúçÂä°Âô®ÁöÑÂëΩ‰ª§Ê†ºÂºèÂ¶Ç‰∏ãÔºö 1mongo ËøúÁ®ã‰∏ªÊú∫IPÊàñDNS:MongoDBÁ´ØÂè£Âè∑/Êï∞ÊçÆÂ∫ìÂêç -u user -p password # Â¶ÇÊûúÊ≤°ÊúâËÆæÁΩÆË¥¶Âè∑ÂØÜÁ†ÅÂ∞±ÂèØ‰ª•ÁúÅÁï•‰∏çÂÜô Â∏∏ËßÅÁöÑËøûÊé•ÊñπÂºèÊúâÔºö 1234567891011# ‰ΩøÁî®ÈªòËÆ§Á´ØÂè£ËøûÊé•MongoDBmongo 192.122.109.55# ÊåáÂÆöÁ´ØÂè£ËøûÊé•MongoDBmongo 192.122.109.55:27017# ËøûÊé•MongoDBÂà∞ÊåáÂÆöÊï∞ÊçÆÂ∫ìmongo 192.122.109.55:27017/test# ‰ΩøÁî®Ë¥¶Âè∑ÂØÜÁ†ÅËøûÊé•Âà∞ÊåáÂÆöÁöÑMongoDBÊï∞ÊçÆÂ∫ìmongo 192.122.109.55:27017/test -u user -p passwd ÂèÇËÄÉÊñáÁ´†MongoDB - Ubuntu 16.04(code=exited, status=14) AWS lightsail problem]]></content>
      <tags>
        <tag>mongodb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pyenvÂú®centos7Âíåmac‰∏ãÁöÑÂÆâË£Ö‰ΩøÁî®]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F14%2Fpyenv%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[Áî±‰∫émitmproxyÈúÄË¶Åpython3.6ÊâçËÉΩ‰ΩøÁî®ÔºåÊâÄ‰ª•ÂæóÂÆâË£ÖÊñ∞ÁöÑpythonÁâàÊú¨„ÄÇpyenvÂèØ‰ª•ÈùûÂ∏∏Êñπ‰æøÁöÑÂÆâË£ÖÂπ∂ÁÆ°ÁêÜpythonÁâàÊú¨ÔºåËøòËÉΩÈ°∫Â∏¶ÂàõÂª∫ËôöÊãüÁéØÂ¢ÉÔºåÂèØ‰ª•ËØ¥ÊòØÈùûÂ∏∏ËâØÂøÉ‰∫ÜÔºÅ ËøôÈáåÁÆÄÂçïËÆ∞ÂΩï‰∏Ä‰∏ãmac OS‰∏ãÁöÑÂÆâË£Ö‰ΩøÁî®„ÄÇ pyenvÂÆâË£Öpyenv1„ÄÅmac ÈúÄË¶ÅÁ°Æ‰øùÂ∑≤ÁªèÂÆâË£Ö‰∫ÜXcode Command Line Tools Âíå Homebrew„ÄÇ 1brew install pyenv 2„ÄÅcentos7 ÂÆâË£Öpyenv‰æùËµñÂåÖ 12yum -y install epel-releaseyum install git gcc zlib-devel bzip2-devel readline-devel sqlite-devel openssl-devel Ëé∑ÂèñpyenvÊ∫êÁ†Å 1git clone https://github.com/pyenv/pyenv.git $HOME/.pyenv ËÆæÁΩÆÁéØÂ¢ÉÂèòÈáèÂú®ÂëΩ‰ª§Ë°å‰∏≠ËøêË°å‰ª•‰∏ãÂëΩ‰ª§ Ôºåcentos7ÂàôÂ∞Ü~/.zshrcÊîπ‰∏∫~/.bashrc 123echo 'export PYENV_ROOT="$HOME/.pyenv"' &gt;&gt; ~/.zshrcecho 'export PATH="$PYENV_ROOT/bin:$PATH"' &gt;&gt; ~/.zshrcecho 'eval "$(pyenv init -)"' &gt;&gt; ~/.zshrc # ÂêØÂä®shellÁöÑÊó∂ÂÄôÔºåÂàùÂßãÂåñpyenv ‰ΩøÊñá‰ª∂Á´ãÂç≥ÁîüÊïà 1source ~/.zshrc ‰ΩøÁî®pyenvÊü•ÁúãÂèØÂÆâË£ÖÁöÑÁâàÊú¨Âè∑,Â¶ÇÊûúÊ≤°Êúâ3.6Âèä‰ª•‰∏äÁâàÊú¨ÔºåÈúÄË¶ÅÂÖàÊõ¥Êñ∞‰∏Ä‰∏ãpyenv„ÄÇ 123cd ~/.pyenv &amp;&amp; git pull # updatepyenv install ‚Äîlist # ÂèØÂÆâË£ÖÂàóË°® ÂÆâË£Ö/Âç∏ËΩΩÊåáÂÆöÁâàÊú¨Âè∑(Â¶ÇÔºöpython3.6.5) 123pyenv install 3.6.5 # ÂÆâË£Ö pyenv uninstall 3.6.5 # Âç∏ËΩΩ Êü•ÁúãÂ∑≤ÂÆâË£ÖÁöÑpythonÁâàÊú¨ 12pyenv versions # ÂÖ®ÈÉ®pyenv version # ÂΩìÂâçÁöÑpythonÁâàÊú¨ ÂàáÊç¢Âà∞ÊåáÂÆöpythonÁâàÊú¨ 1234cd ‚Ä¶ pyenv local 3.6.5 # Â±ÄÈÉ®ÔºåÂΩìÂâçÁõÆÂΩïÊúâÊïà pyenv local system # ÂàáÊç¢Âà∞Á≥ªÁªüËá™Â∏¶ÁâàÊú¨ pyenv global 3.6.5 # ËÆæÁΩÆÂÖ®Â±ÄÁöÑpythonÁâàÊú¨ *Âè∑‰ª£Ë°®ÂΩìÂâçÁöÑpythonÁâàÊú¨Âè∑ ÂèñÊ∂àÂ∑≤ÁªèËÆæÁΩÆÁöÑpythonÁâàÊú¨ 12pyenv local -‚Äîunset pyenv global --unset Êé•‰∏ãÊù•Â∞±ÂèØ‰ª•ÂàõÂª∫ËôöÊãüÁéØÂ¢É‰∫Ü„ÄÇ pyenv-virtualenvÂÖàÂÆâË£ÖpyenvÁöÑÊèí‰ª∂pyenv-virtualenvÔºå‰ΩúÁî®Ë∑üvietualenv‰∏ÄÊ†∑ÔºåÂèØ‰ª•‰∏∫Êüê‰∏™ÁõÆÂΩïËÆæÁΩÆÁã¨Á´ãÁöÑpythonÁâàÊú¨ÔºåÊñπ‰æøÈ°πÁõÆÁÆ°ÁêÜ„ÄÇ 1git clone https://github.com/yyuu/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv Â¶ÇÊûú‰∏çÊåáÂÆöpythonÁâàÊú¨Âè∑ÔºàÂè™Êúâ‰∏Ä‰∏™ÂèÇÊï∞ÔºåÂ∞Ü‰Ωú‰∏∫ËôöÊãüÁéØÂ¢ÉÂêçÁß∞ÔºâÔºåÂàôÈªòËÆ§ÊòØÂΩìÂâçÁéØÂ¢ÉÁöÑpythonÁâàÊú¨Âè∑ÔºånameÊòØËôöÊãüÁéØÂ¢ÉÁöÑÂêçÂ≠ó 1pyenv virtualenv 3.6.5 name ÊøÄÊ¥ªËôöÊãüÁéØÂ¢É 1pyenv activate name ÈÄÄÂá∫ËôöÊãüÁéØÂ¢É 1pyenv deactivate Âà†Èô§ËôöÊãüÁéØÂ¢É 1234pyenv uninstall name # ÊàñËÄÖÂà†Èô§ÂÖ∂ÁúüÂÆûÁõÆÂΩïrm -rf ~/.pyenv/versions/name Ëá™Âä®ÊøÄÊ¥ª/ÂÅúÁî®ËôöÊãüÁéØÂ¢É Âú®shell‰∏≠Ê∑ªÂä†‰ª•‰∏ãÂëΩ‰ª§Ôºåpyenv-virtualenvÂ∞ÜÂú®ËøõÂÖ•/Á¶ªÂºÄÊúâ.python-versionÂàóÂá∫ÊúâÊïàËôöÊãüÁéØÂ¢ÉÁöÑÊñá‰ª∂ÁöÑÁõÆÂΩïÊó∂‰ºöËá™Âä®ÊøÄÊ¥ª/ÂÅúÁî®virtualenvÔºåËøôÊ†∑Â∞±‰∏çÁî®ÊâãÂä®ÂéªËÆæÁΩÆ„ÄÇËÆæÁΩÆÂÆåÊàêÂêéÈúÄË¶Åsource‰∏Ä‰∏ã 1eval "$(pyenv virtualenv-init -)" pycharm‰∏≠‰∏∫È°πÁõÆÊ∑ªÂä†ÂØπÂ∫îÁöÑËôöÊãüÁéØÂ¢ÉÔºå‰πüÂ∞±ÊòØname‰∏ãÁöÑpython„ÄÇ ‰æãÂ≠êÊúÄÂêéÂÜçÊù•‰∏™ÂÆåÊï¥ÁöÑ‰æãÂ≠êÔºöÂú®projectsÁõÆÂΩï‰∏ãÂàõÂª∫‰∏Ä‰∏™Êñ∞È°πÁõÆtestÔºåÂπ∂ËÆæÁΩÆÈ°πÁõÆ‰ΩøÁî®ÁöÑpythonÁâàÊú¨‰∏∫3.6.1 123456789[~]$ pyenv install 3.6.1 # ÂÆâË£Öpython3.6.1ÁâàÊú¨[~]$ cd projects/[projects]$ mkidr test[projects]$ cd test[projects test]$ pyenv virtualenv 3.6.1 py36 # ÂàõÂª∫‰∏Ä‰∏™pythonÁâàÊú¨‰∏∫3.6.1ÁöÑËôöÊãüÁéØÂ¢ÉÔºåÂêç‰∏∫py36[projects test]$ pyenv activate py36 # ÊøÄÊ¥ªËôöÊãüÁéØÂ¢É(py36)[projects test]$ pyenv versions # Â∏¶*ÁöÑÂ∞±ÊòØÂΩìÂâçÁöÑ‰ΩøÁî®ÁéØÂ¢É# ... start your performance ...(py36)[projects test]$ pyenv deactivate py36 # ÈÄÄÂá∫ËôöÊãüÁéØÂ¢É ÂèÇËÄÉpyenv pyenv-virtualenv pythonÁâàÊú¨ÁÆ°ÁêÜ]]></content>
      <tags>
        <tag>pyenv</tag>
        <tag>ËôöÊãüÁéØÂ¢É</tag>
        <tag>Â§öÁâàÊú¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongodbÔºöËÆæÁΩÆÂπ∂‰ΩøÁî®Ë¥¶Âè∑ÂØÜÁ†ÅÁôªÂΩï]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F14%2Fmongodb%EF%BC%9A%E8%AE%BE%E7%BD%AE%E5%B9%B6%E4%BD%BF%E7%94%A8%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%E7%99%BB%E5%BD%95%2F</url>
    <content type="text"><![CDATA[ÁôªÂΩïmongodb12mongod -f /../mongodb/conf/mongo.conf # ÂÖ∑‰ΩìË∑ØÂæÑÊ†πÊçÆÊâÄÂú®ÁõÆÂΩïÂÜ≥ÂÆömongo 127.0.0.1:28001 Áî±‰∫émongodbÊòØÊ≤°ÊúâÈªòËÆ§ÁÆ°ÁêÜÂëòË¥¶Âè∑ÁöÑÔºåÊâÄ‰ª•Ë¶ÅÂÖàÊ∑ªÂä†ÁÆ°ÁêÜÂëòË¥¶Âè∑ÔºåÂÜçÂºÄÂêØÊùÉÈôêËÆ§ËØÅ„ÄÇ ÂàõÂª∫ÁÆ°ÁêÜÂëòË¥¶Âè∑ÔºàÂøÖÈ°ªÂú®adminÊï∞ÊçÆÂ∫ì‰∏ãÊâçÊòØÁÆ°ÁêÜÂëòË¥¶Âè∑Ôºâ1234567891011121314use admindb.createUser( &#123; user: "adminUser", pwd: "adminPass", roles: [ &#123;role: "userAdminAnyDatabase", # Áõ¥Êé•Áî®root‰πüÊòØ‰∏ÄÊ†∑ÁöÑÊïàÊûú db: "admin"&#125; ] &#125;)# ËÆ§ËØÅdb.auth("adminUser", "adminPass")# Êü•ÁúãÁî®Êà∑db.getUsers() ÂàõÂª∫ÊôÆÈÄöÁî®Êà∑ÔºåÂåÖÊã¨‰ΩøÁî®ÊùÉÈôê‰ª•ÂèäËÉΩÂ§üËÆøÈóÆÁöÑÊï∞ÊçÆÂ∫ì„ÄÇ123456789101112use foodb.createUser( &#123; user: "simpleUser", pwd: "simplePass", roles: [&#123;role: "readWrite", db: "foo"&#125;, &#123;role: "read", db: "bar"&#125;] &#125;)# ËÆ§ËØÅdb.auth("simpleUser", "simplePass") Ê≥®ÊÑèÔºö‰∏ÄÂÆöË¶ÅÂàáÊç¢Âà∞ÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ìÂÜçÂàõÂª∫Áî®Êà∑ ÈÄÄÂá∫mongodb‰πãÂêéÔºåÂÜçÊ¨°ÁôªÂΩïÈúÄË¶ÅÈ™åËØÅË¥¶Âè∑ÂØÜÁ†Å„ÄÇÊ≤°ÊúâÈ™åËØÅÔºå‰πüÂèØ‰ª•Ê≠£Â∏∏ÁôªÂΩïÔºå‰ΩÜÊòØÊ≤°ÂäûÊ≥ïËøõË°åÊìç‰Ωú„ÄÇÂú®ÁªàÁ´ØÊìç‰ΩúmongodbÂèØ‰ª•Êúâ‰ª•‰∏ã‰∏§ÁßçÊñπÊ≥ïÔºö 1„ÄÅÁ±ª‰ºº‰∏émysqlÔºåÂú®ÂÆ¢Êà∑Á´ØËøûÊé•Êó∂ÔºåÊåáÂÆöÁî®Êà∑ÂêçÔºåÂØÜÁ†Å‰ª•ÂèäÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ìÂêçÁß∞12monogd --auth -f /.../mongodb/conf/mongo.confmongo 127.0.0.1:28001 -u "username" -p "password" --authenticationDatabase "db_name" 2„ÄÅËøõÂÖ•ÂÆ¢Êà∑Á´Ø‰πãÂêéÂÜçÈ™åËØÅ12monogd --auth -f /.../mongodb/conf/mongo.confmongo 127.0.0.1:28001 ËøõÂÖ•ÂÆ¢Êà∑Á´Ø‰πãÂêéÂàáÊç¢Âà∞ÂØπÂ∫îÁöÑÊï∞ÊçÆÂ∫ì 12use testdb.auth('test', 'test') # username, password pymongoËøûÊé•mongodbÂú®python‰∏≠ÂèØ‰ª•ÈÄöËøápymongoÊ®°ÂùóËøûÊé•Âà∞mongodbÔºåÈúÄË¶ÅÂÖàÂú®ÁªàÁ´ØÂºÄÂêØmongodÊúçÂä°ÔºåÁÑ∂ÂêéÊâçËÉΩÊ≠£Â∏∏‰ΩøÁî®mongodb„ÄÇ 1„ÄÅÁªàÁ´ØÂºÄÂêØÊúçÂä° 1mongod --auth -f /Users/amber/opt/mongodb/conf/mongo.conf 2„ÄÅËøûÊé• mongodbÊ≤°ÊúâËÆæÁΩÆÁî®Êà∑Êó∂ÔºåÁõ¥Êé•ËøûÊé•Â∞±ÂèØ‰ª•‰ΩøÁî®„ÄÇ 123456# mongodbÊ≤°ÊúâËÆæÁΩÆË¥¶Âè∑ÂØÜÁ†Åclient = pymongo.MongoClient('localhost', 28001)db = client['test'] # ÈÄâÊã©Êï∞ÊçÆÂ∫ìcollection = db['test'] # ÈÄâÊã©collection# ÊàñËÄÖÁî®‰∏ãÈù¢ËøôÁßçÊñπÊ≥ïÊù•Ëé∑ÂæócollectionÔºåÂ∞ΩÈáèÈÅøÂÖçdb.testËøôÊ†∑ÁöÑÂÜôÊ≥ïcollection = db.get_collection('test') ÂΩìmongodbËÆæÁΩÆ‰∫ÜÁî®Êà∑ÔºåËøûÊé•Êó∂ÈúÄË¶ÅÈ™åËØÅ„ÄÇ 1234567891011121314151617# ÊµãËØïÁöÑÊï∞ÊçÆÂ∫ìÂíåÁî®Êà∑ÂêçÂØÜÁ†ÅÈÉΩ‰∏∫test# ÊñπÊ≥ï1„ÄÅ‰ΩøÁî®uriuri = 'mongodb://username:password@localhost:28001/db_name'client = pymongo.MongoClient(uri)db = client.get_database() # Ëé∑Âèñuri‰∏≠Â∑≤ÁªèÊåáÂÆöËøûÊé•ÁöÑÊï∞ÊçÆÂ∫ìcollection = db['test']# ÊñπÊ≥ï2„ÄÅÁõ¥Êé•‰ΩøÁî®Áî®Êà∑ÂêçÁ≠âÂ≠óÊÆµÔºå‰∏çÊåáÂÆöauthSourceÊó∂ÈªòËÆ§ÊòØadminÊï∞ÊçÆÂ∫ìclient = pymongo.MongoClient('localhost', 28001, username='test', password='test', authSource='test')db = client['test']collection = db['test']# ÊñπÊ≥ï3„ÄÅÁõ¥Êé•ËøûÊé•Êï∞ÊçÆÂ∫ì‰πãÂêéÂÜçÈ™åËØÅclient = pymongo.MongoClient('localhost', 28001)db = client['test']db.authenticate('test', 'test')collection = db['test'] ÈôÑÂΩïroleËßíËâ≤ Êï∞ÊçÆÂ∫ìÁî®Êà∑ËßíËâ≤Ôºöread„ÄÅreadWrite; Êï∞ÊçÆÂ∫ìÁÆ°ÁêÜËßíËâ≤ÔºödbAdmin„ÄÅdbOwner„ÄÅuserAdminÔºõ ÈõÜÁæ§ÁÆ°ÁêÜËßíËâ≤ÔºöclusterAdmin„ÄÅclusterManager„ÄÅclusterMonitor„ÄÅhostManagerÔºõ Â§á‰ªΩÊÅ¢Â§çËßíËâ≤Ôºöbackup„ÄÅrestoreÔºõ ÊâÄÊúâÊï∞ÊçÆÂ∫ìËßíËâ≤ÔºöreadAnyDatabase„ÄÅreadWriteAnyDatabase„ÄÅuserAdminAnyDatabase„ÄÅdbAdminAnyDatabase Ë∂ÖÁ∫ßÁî®Êà∑ËßíËâ≤Ôºöroot ÂÜÖÈÉ®ËßíËâ≤Ôºö__system ËßíËâ≤ËØ¥Êòé readÔºöÂÖÅËÆ∏Áî®Êà∑ËØªÂèñÊåáÂÆöÊï∞ÊçÆÂ∫ì readWriteÔºöÂÖÅËÆ∏Áî®Êà∑ËØªÂÜôÊåáÂÆöÊï∞ÊçÆÂ∫ì dbAdminÔºöÂÖÅËÆ∏Áî®Êà∑Âú®ÊåáÂÆöÊï∞ÊçÆÂ∫ì‰∏≠ÊâßË°åÁÆ°ÁêÜÂáΩÊï∞ÔºåÂ¶ÇÁ¥¢ÂºïÂàõÂª∫„ÄÅÂà†Èô§ÔºåÊü•ÁúãÁªüËÆ°ÊàñËÆøÈóÆsystem.profile userAdminÔºöÂÖÅËÆ∏Áî®Êà∑Âêësystem.usersÈõÜÂêàÂÜôÂÖ•ÔºåÂèØ‰ª•ÊâæÊåáÂÆöÊï∞ÊçÆÂ∫ìÈáåÂàõÂª∫„ÄÅÂà†Èô§ÂíåÁÆ°ÁêÜÁî®Êà∑ clusterAdminÔºöÂè™Âú®adminÊï∞ÊçÆÂ∫ì‰∏≠ÂèØÁî®ÔºåËµã‰∫àÁî®Êà∑ÊâÄÊúâÂàÜÁâáÂíåÂ§çÂà∂ÈõÜÁõ∏ÂÖ≥ÂáΩÊï∞ÁöÑÁÆ°ÁêÜÊùÉÈôê„ÄÇ readAnyDatabaseÔºöÂè™Âú®adminÊï∞ÊçÆÂ∫ì‰∏≠ÂèØÁî®ÔºåËµã‰∫àÁî®Êà∑ÊâÄÊúâÊï∞ÊçÆÂ∫ìÁöÑËØªÊùÉÈôê readWriteAnyDatabaseÔºöÂè™Âú®adminÊï∞ÊçÆÂ∫ì‰∏≠ÂèØÁî®ÔºåËµã‰∫àÁî®Êà∑ÊâÄÊúâÊï∞ÊçÆÂ∫ìÁöÑËØªÂÜôÊùÉÈôê userAdminAnyDatabaseÔºöÂè™Âú®adminÊï∞ÊçÆÂ∫ì‰∏≠ÂèØÁî®ÔºåËµã‰∫àÁî®Êà∑ÊâÄÊúâÊï∞ÊçÆÂ∫ìÁöÑuserAdminÊùÉÈôê dbAdminAnyDatabaseÔºöÂè™Âú®adminÊï∞ÊçÆÂ∫ì‰∏≠ÂèØÁî®ÔºåËµã‰∫àÁî®Êà∑ÊâÄÊúâÊï∞ÊçÆÂ∫ìÁöÑdbAdminÊùÉÈôê„ÄÇ rootÔºöÂè™Âú®adminÊï∞ÊçÆÂ∫ì‰∏≠ÂèØÁî®„ÄÇË∂ÖÁ∫ßË¥¶Âè∑ÔºåË∂ÖÁ∫ßÊùÉÈôê dbOwner: readWrite + dbAdmin + dbAdmin ÂèÇËÄÉÊñáÁ´†Ôºömongodb Authentication Examples]]></content>
      <tags>
        <tag>mongodb</tag>
        <tag>ÁôªÂΩï</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[mongodbÂÆâË£Ö]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F14%2Fmongodb%EF%BC%9A%E5%AE%89%E8%A3%85%2F</url>
    <content type="text"><![CDATA[Âú®centos7‰∏äÂÆâË£ÖÂÆòÁΩë‰∏äÊúâÂ§öÁßçÂÆâË£ÖÊñπÂºèÔºåËøôÈáåÂè™ÈÄâÊã©.rpm PackageÊñπÂºèÔºå‰πüÊòØÂÆòÁΩëÊé®ËçêÁöÑ„ÄÇ 1„ÄÅÈÖçÁΩÆyumÂÆâË£ÖÊâÄÈúÄË¶ÅÁöÑÂåÖÁÆ°ÁêÜÁ≥ªÁªü 1sudo vim /etc/yum.repos.d/mongodb-org-4.0.repo ÁÑ∂ÂêéÂú®Êñá‰ª∂ÈáåÂÜôÂÖ•‰ª•‰∏ãÂÜÖÂÆπ 123456[mongodb-org-4.0]name=MongoDB Repositorybaseurl=https://repo.mongodb.org/yum/redhat/$releasever/mongodb-org/4.0/x86_64/gpgcheck=1enabled=1gpgkey=https://www.mongodb.org/static/pgp/server-4.0.asc 2„ÄÅÂÆâË£ÖMongo DBÂÆâË£ÖÂåÖ 1sudo yum install -y mongodb-org Â¶ÇÊûúÊÉ≥Ë¶ÅÂÆâË£ÖÁâπÂÆöÁöÑÁâàÊú¨ÔºåÂèØ‰ª•ËøêË°å‰∏ãÈù¢ÁöÑÂëΩ‰ª§ 1sudo yum install -y mongodb-org-4.0.2 mongodb-org-server-4.0.2 mongodb-org-shell-4.0.2 mongodb-org-mongos-4.0.2 mongodb-org-tools-4.0.2 ÊåâÁêÜËØ¥Ôºå‰Ω†ÂèØ‰ª•ÊåáÂÆö‰ªª‰ΩïÂèØÁî®ÁöÑMongoDBÁâàÊú¨„ÄÇ‰ΩÜÊòØÔºå‰∏ÄÊó¶ÊúâÂèØÁî®ÁöÑÊñ∞ÁâàÊú¨Ôºåyum‰ºöËá™Âä®ÂçáÁ∫ßËΩØ‰ª∂ÂåÖÔºåÊâÄ‰ª•‰∏∫‰∫ÜÈò≤Ê≠¢ÊÑèÂ§ñÔºåÂèØ‰ª•Â∞Ü‰∏ãÈù¢ÁöÑexcludeÊåá‰ª§Ê∑ªÂä†Âà∞/etc/yum.confÊñá‰ª∂‰∏≠Ôºö 1exclude=mongodb-org,mongodb-org-server,mongodb-org-shell,mongodb-org-mongos,mongodb-org-tools Âà∞ËøôÈáåÂ∞±Â∑≤ÁªèÂÆâË£ÖÂÆåÊàê‰∫ÜÔºåÈÖçÁΩÆÊñá‰ª∂ÈªòËÆ§Âú®/etc/mongod.conf„ÄÇ mac‰∏ãÁöÑÂÆâË£Ö‰ΩøÁî®brewÁõ¥Êé•ÂÆâË£Ö12brew updatebrew install mongodb Âú®Ê†πÁõÆÂΩï‰∏ãÂàõÂª∫/data/dbÊñá‰ª∂Â§πÔºåÁî®Êù•‰øùÂ≠òmongodbÁöÑÊï∞ÊçÆÔºåÂπ∂‰∏îÁªôËØ•ÁõÆÂΩïËÆæÁΩÆÊùÉÈôê12sudo mkdir -P /data/dbsudo chown -R user_name /data # user_nameÊòØÁîµËÑëÁî®Êà∑ Âú®ÁªàÁ´ØÂêØÂä®mongod1mongod Âú®Êñ∞Á™óÂè£ËøûÊé•Êï∞ÊçÆÂ∫ì1mongo ÈÄÄÂá∫Êó∂ÈúÄË¶ÅÂÖàËøõÂÖ•adminÊï∞ÊçÆÂ∫ìÂÜçÈÄÄÂá∫123use admindb.shutdownServer()exit Â∞ÜmongodbÂÆâË£ÖÂà∞ÊåáÂÆöË∑ØÂæÑ‰∏ãËΩΩÂπ∂Ëß£ÂéãÂÆâË£ÖÂåÖ12curl -o /path/to/download # ÂÆâË£ÖÂåÖ‰∏ãËΩΩË∑ØÂæÑtar -zxvf mongodb-linux-x86_64-3.4.1.tgz # ÂÆâË£ÖÂåÖÂêçÂ≠ó Â∞ÜËß£ÂéãÂêéÁöÑÊñá‰ª∂Êã∑Ë¥ùÂà∞ÊåáÂÆöÁõÆÊ†á1mv mongodb-linux-x86_64-3.4.1 /Users/amber/opt/mongodb Ê∑ªÂä†mongodbÁöÑbinË∑ØÂæÑÂà∞ÁéØÂ¢ÉÂèòÈáèPATH‰∏≠1export PATH=/Users/amber/opt/mongodb/bin:$PATH Âú®mongodb/‰∏ãÂàõÂª∫Â≠òÊîæÊï∞ÊçÆÁöÑÁõÆÂΩïÔºåÊñ∞Âª∫confÔºålogÊñá‰ª∂Â§π123mkdir -p /data/dbmkdir confmkdir log Âú®conf‰∏ãÂàõÂª∫mongo.confÈÖçÁΩÆÊñá‰ª∂ÔºåÊ∑ªÂä†Â¶Ç‰∏ãÂÜÖÂÆπÔºö123456789101112131415# ÈªòËÆ§Á´ØÂè£Âè∑ÊòØ27017port=28001 bind_ip=127.0.0.1logpath=/Users/amber/opt/mongodb/log/28001.loglogappend=Truedbpath=/Users/amber/opt/mongodb/data/28001/# ‰∏∫ÊØè‰∏Ä‰∏™Êï∞ÊçÆÂ∫ìÂÆâË£ÖÊï∞ÊçÆÂ∫ìÂêçÂª∫Á´ãÊñá‰ª∂Â§πÂ≠òÊîædirectoryperdb=True# ËøõÁ®ãÊñá‰ª∂ÔºåÊñπ‰æøÂÅúÊ≠¢mongodbÔºåÊàëÁõ¥Êé•ÊîæÂà∞‰∫ÜÂ≠òÊîæÊï∞ÊçÆÁöÑÁõÆÂΩï‰∏ãpidfilepath=/Users/amber/opt/mongodb/data/28001/28001.pid# ‰ª•ÂÆàÊä§ËøõÁ®ãÁöÑÊñπÂºèÂêØÂä®mongodfork=TrueoplogSize=10240# ÂºÄÂêØÊùÉÈôêÈ™åËØÅÔºåÊ≤°ËÆæÁΩÆË¥¶Âè∑ÂØÜÁ†Å‰πãÂâçÂÖàÊ≥®ÈáäÊéâauth=True Áî®ÈÖçÁΩÆÊñá‰ª∂ÂêØÂä®mongodÔºÅÔºÅÔºÅ1mongod -f /../mongodb/conf/mongo.conf # ÂÖ∑‰ΩìË∑ØÂæÑÊ†πÊçÆÊâÄÂú®ÁõÆÂΩïÂÜ≥ÂÆö ÊâìÂºÄmongo1mongo 127.0.0.1:28001 ÈÄÄÂá∫mongodb123use admindb.shutdownServer()exit ÂèÇËÄÉÊñáÁ´†Install MongoDB Community Edition on Red Hat Enterprise or CentOS Linux]]></content>
      <tags>
        <tag>ÂÆâË£Ö</tag>
        <tag>mongodb</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Mac‰∏ãÊõ¥Êñ∞pandasÂá∫Áé∞ÊùÉÈôêÈóÆÈ¢ò]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F13%2FMac%E4%B8%8B%E6%9B%B4%E6%96%B0pandas%E5%87%BA%E7%8E%B0%E6%9D%83%E9%99%90%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[Âú®Êõ¥Êñ∞pandasÊó∂Âá∫Áé∞‰∫ÜËøôÊ†∑ÁöÑÈîôËØØÔºö1Could not install packages due to an EnvironmentError: [Errno 1] Operation not permitted ÁúãÂà∞Ê≤°ÊúâÊùÉÈôêÔºåÂç≥‰ΩøËßâÂæó‰∏çÂØπÂä≤ËøòÊòØÈªòÈªò‰ΩøÁî®sudoËøõË°åÊõ¥Êñ∞ÔºåÁªìÊûúËøòÊòØ‰∏çË°åÔºÅ‰∏äÁΩë‰∏ÄÊêúÊâçÂèëÁé∞ÈóÆÈ¢òÂá∫Áé∞Âú®macÁ≥ªÁªü‰∏äÔºåÊõ¥Êñ∞‰πãÂêéÊñ∞Á≥ªÁªüÂ§ö‰∫Ü‰∏™sipÁöÑÊú∫Âà∂ÔºåÊâÄ‰ª•Âç≥‰ΩøÁî®sudo‰πüÊ≤°ÂäûÊ≥ïËß£ÂÜ≥ÈóÆÈ¢ò„ÄÇ ÊúÄÂêéÊâæÂà∞‰∏Ä‰∏™ÂÆåÁæéÁöÑËß£ÂÜ≥ÊñπÊ≥ïÔºöÂü∫‰∫éÁî®Êà∑ÁöÑÊùÉÈôêÊù•ÂÆâË£Ö/Êõ¥Êñ∞(upgrade)ÂåÖ„ÄÇ1pip install &lt;package_name&gt; --user -U ÂèÇËÄÉÊñáÁ´†ÔºöËß£ÂÜ≥mac osx‰∏ãpipÂÆâË£ÖipythonÊùÉÈôêÁöÑÈóÆÈ¢ò]]></content>
      <tags>
        <tag>Mac</tag>
        <tag>ÊùÉÈôê</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandasÔºö‰øÆÊîπÂàóÂêç]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F13%2Fpandas%EF%BC%9A%E4%BF%AE%E6%94%B9%E5%88%97%E5%90%8D%2F</url>
    <content type="text"><![CDATA[‰øÆÊîπÊï∞ÊçÆÁöÑÂàóÂêçÔºåÁî®Âà∞ÁöÑÊñπÊ≥ïÊòØrename()„ÄÇ123import pandas as pddf=pd.DataFrame(&#123;0:['apple', 'orange', 'peach'],1:['red', 'yellow', 'pink'], 'total': [10, 11, 12]&#125;) Êàë‰ª¨ÂèØ‰ª•Êúâ‰ª•‰∏ãÂá†ÁßçÊñπÊ≥ïÂ∞ÜtotalËøô‰∏™ÂàóÂêçÂèò‰∏∫Â§ßÂÜôÔºö 12345678# old waydf.rename(columns=&#123;'total': 'TOTAL'&#125;)# new waydf.rename(&#123;'total': 'TOTAL'&#125;, axis=1)# tricky way, ËøôÈáå‰∏çÈÄÇÁî®ÔºÅÔºÅ!df.rename(str.upper, axis='columns') ÈúÄË¶ÅÊ≥®ÊÑèÔºö ‰ª•‰∏äÊñπÊ≥ï‰øÆÊîπÂàóÂêçÂπ∂‰∏çÊîπÂèòÂéüÂßãÊï∞ÊçÆÔºåÂèØ‰ª•Â∞Ü‰øÆÊîπÁªìÊûúÈáçÊñ∞ËµãÂÄºÁªôÂèòÈáèÔºåÊàñËÄÖ‰ΩøÁî®ÂèÇÊï∞inplace=TrueÁõ¥Êé•Âú®ÂéüÂßãÊï∞ÊçÆ‰∏ä‰øÆÊîπ Â¶ÇÊûúË¶Å‰øÆÊîπÂ§ö‰∏™ÂàóÂêçÔºå‰πüÂèØ‰ª•Áî®Ëøô‰∫õÊñπÊ≥ï axisÂèØ‰ª•ÊòØ1Ôºå‰πüÂèØ‰ª•Áõ¥Êé•Áî®columns Á¨¨‰∏âÁßçÊñπÂºèÊòØÂØπÊâÄÊúâÂàóÂêçÈÉΩÊîπ‰∏∫Â§ßÂÜôÔºåÂ¶ÇÊûúÂàóÂêç‰∏≠Âá∫Áé∞ÈùûstringÁ±ªÂûãÂ∞±‰ºöÊä•Èîô Â¶ÇÊûúÊï∞ÊçÆÊúâÂæàÂ§öÂàóÔºåÊâãÂä®ÂÜôÂá∫ÂÖ®ÈÉ®ÁöÑÂàóÂêçÂ∞±Â§™Ë¥πÂä≤‰∫Ü„ÄÇÊâÄ‰ª•ÂèØ‰ª•ÂÖàËé∑ÂèñÂéüÂßãÂàóÂêçÔºåÊé•ÁùÄ‰ΩøÁî®dictÂíåzipÂàõÂª∫ÂØπÂ∫îÁöÑÂàóÂêçÂ≠óÂÖ∏„ÄÇ123col = df.columnsnew_col = dict(zip(col, ['fruit', 'color', 'total']))df.rename(columns=new_col, inplace=True)]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>‰øÆÊîπÂàóÂêç</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[pandasÔºöÂàóÊï∞ÊçÆËΩ¨‰∏∫Â§öÂàóÊï∞ÊçÆ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F12%2Fpandas%EF%BC%9A%E5%88%97%E6%95%B0%E6%8D%AE%E8%BD%AC%E4%B8%BA%E5%A4%9A%E5%88%97%E6%95%B0%E6%8D%AE%2F</url>
    <content type="text"><![CDATA[Âú®Â∑•‰Ωú‰∏≠ÔºåÊúâÊó∂ÂÄôÈúÄË¶ÅÂ∞ÜÂêå‰∏Ä‰∏™ÂçïÂÖÉÊ†ºÈáåÁöÑÊï∞ÊçÆËøõË°åÊãÜÂàÜÊàêÂ§öÂàóÊï∞ÊçÆÔºåÁÑ∂ÂêéËøõË°åÁªüËÆ°„ÄÅÂàÜÁ±ªÁ≠âÂÖ∂‰ªñÊìç‰ΩúÔºåËøôÊó∂ÂÄôget_dummies()ÊñπÊ≥ïÂ∞±ÂèØ‰ª•Ê¥æ‰∏äÁî®Âú∫‰∫Ü„ÄÇ pandasÂíåpandas.SeriesÈÉΩÊúâÂêÑËá™ÁöÑget_dummies()ÊñπÊ≥ïÔºåÂêçÂ≠óËôΩÁÑ∂Áõ∏ÂêåÔºå‰ΩÜÊòØÁªìÊûúÂπ∂‰∏ç‰∏ÄÊ†∑„ÄÇSeriesÁöÑget_dummies()Êé•Âèó‰∏Ä‰∏™sepÂèÇÊï∞ÔºåÈªòËÆ§ÊòØ|ÔºåÊ†πÊçÆËØ•ÂàÜÈöîÁ¨¶Â∞ÜstringËøõË°åÂàáÂàÜÔºåËøîÂõûDataframe„ÄÇ1Series.str.get_dummies(sep=&apos;|&apos;) Âú®‰∏ãÈù¢‰∏§‰∏™‰æãÂ≠ê‰∏≠ÔºåÂèØ‰ª•ÁúãÂà∞DataFrame‰πü‰ΩøÁî®‰∫ÜSeriesÁöÑget_dummies()Ôºå‰ΩÜÊòØÂè™ËøîÂõûÊãÜÂàÜ‰πãÂêéÁöÑDataFrameÔºåÈúÄË¶ÅÂÜç‰ΩøÁî®concatÊñπÊ≥ïÂ∞ÜÂéüÂßãÊï∞ÊçÆÂêàÂπ∂„ÄÇ12345678910# Series‰∏≠‰ΩøÁî®from pandas import SeriesSeries(['a|b', 'a', 'a|c']).str.get_dummies()# Âú®DataFrame‰∏≠‰ΩøÁî®import pandas as pddf = pd.DataFrame(&#123;'id': [1,2,3], 'labels' : ["a,b,c", "c,a", "d,a,b",]&#125;)df['labels'].str.get_dummies(sep=',') Â¶ÇÊûú‰ΩøÁî®str.split()ÊñπÊ≥ïÔºå‰πüËÉΩÊãÜÂàÜÔºå‰ΩÜÊòØÂπ∂‰∏çËÉΩËá™Âä®ÂàÜÂàó„ÄÇ1df2=pd.DataFrame(df['labels'].str.split(',').tolist()) pandasÁöÑget_dummies()ÊñπÊ≥ïÔºö1pandas.get_dummies(data, prefix=None, prefix_sep='_', dummy_na=False, columns=None, sparse=False, drop_first=False, dtype=None) ÂèÇÊï∞ËØ¥ÊòéÔºö dataÔºöÂéüÂßãÊï∞ÊçÆprefixÔºöÊãÜÂàÜÂêéÊñ∞ÂàóÂàóÂêçÁöÑÂâçÁºÄprefix_sepÔºöÂâçÁºÄÂíåÂéüÂßãÂ≠óÊÆµÁöÑËøûÊé•Á¨¶dummy_naÔºöÊòØÂê¶ÂøΩÁï•NANÂàócolumnsÔºöÊåáÂÆöÊãÜÂàÜÁöÑÂàóÂêçÔºålist.‰∏çÊåáÂÆöÂàóÊó∂,ÈªòËÆ§ÊòØÂØπÊâÄÊúâÂèØÂàÜÁöÑÂàóÈÉΩËøõË°åÊãÜÂàÜ„ÄÇsparseÔºöSeriesÂíåÂÖ®ÈÉ®ÂàóÊãÜÂàÜÊó∂ËøîÂõû‚ÄúÁ®ÄÁñè‚ÄùDataframedrop_firstÔºöÊòØÂê¶ÁßªÈô§ÊãÜÂàÜÂêéÁöÑÁ¨¨‰∏ÄÂàóÊï∞ÊçÆ ËØ•ÊñπÊ≥ïÂπ∂‰∏ç‰ºöÂ∞ÜÂàóÊï∞ÊçÆstringËøõË°åÂàÜÂâ≤ÔºåËÄåÊòØÂ∞ÜÊåáÂÆöÂàóÁöÑÊï∞ÊçÆÁöÑÊâÄÊúâÂèØËÉΩÂèñÂÄºÈÉΩ‰Ωú‰∏∫Âàó„ÄÇ ‰æãÂ≠êÂ¶Ç‰∏ãÔºö1234import pandas as pddf = pd.DataFrame(&#123;'id': [1,2,3], "sex": ['male', 'female', 'male']&#125;)pd.get_dummies(df, columns=['sex']) Â¶ÇÊûúÈúÄË¶ÅÊãÜÂàÜÁöÑÂàóÊï∞ÊçÆÊòØÂ≠óÂÖ∏Êó∂Ôºå‰ΩøÁî®str.values„ÄÇËøôÈáå‰ΩøÁî®‰∫ÜpopÊñπÊ≥ïÔºåÁõ¥Êé•Â∞ÜËøô‰∏ÄÂàóÊï∞ÊçÆÁªôÂà†Èô§‰∫ÜÔºå‰πüÂèØ‰ª•Áõ¥Êé•‰ΩøÁî®df[‚Äòlables‚Äô]Êù•Â§ÑÁêÜ‰πãÂêéÂÜçÂà†ÊéâÂ§ö‰ΩôÂàó„ÄÇÊúÄÂêé‰∏ÄÁÇπÔºåÈúÄË¶ÅÂÆåÊï¥ÁöÑÊï∞ÊçÆÂèØ‰ª•‰ΩøÁî®concat‰πãÁ±ªÁöÑÊñπÊ≥ïÂ∞ÜÂÖ∂‰∏éÂéüÂßãdfËøõË°åÂêàÂπ∂„ÄÇ1234import pandas as pddf = pd.DataFrame(&#123;'id': [1,2], 'labels' : [&#123;'a':11,'b':22&#125;, &#123;'c':33&#125;]&#125;)pd.DataFrame(df.pop('labels').values.tolist())]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>pandas</tag>
        <tag>ÊãÜÂàÜÊï∞ÊçÆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[MacÁªàÁ´Ø‰ΩøÁî®‰ª£ÁêÜ]]></title>
    <url>%2Famberwest.github.io%2F2018%2F06%2F11%2FMac%E7%BB%88%E7%AB%AF%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%2F</url>
    <content type="text"><![CDATA[Áî±‰∫éOS X 10.11‰πãÂêéÊúâSIPÂÆâÂÖ®Êú∫Âà∂ÔºåÂ∑≤Áªè‰∏çËÉΩÂ§üÁî®‰∏ÄÊù°ÁÆÄÂçïÁöÑÂëΩ‰ª§Êù•Ëß£ÂÜ≥ÔºåÈúÄË¶ÅÂÖ≥Èó≠SIPÊàñËÄÖ‰ΩøÁî®proxychains-ng‰πãÁ±ªÁöÑÂ∑•ÂÖ∑„ÄÇ‰ΩÜÊòØÂë¢ÔºåÂÖ≥Èó≠SIPÈ∫ªÁÉ¶Â∞±ÁÆó‰∫ÜÔºåÂ±ÖÁÑ∂ËøòÊúâÂÆâÂÖ®ÈóÆÈ¢òÔºåÂÉèÊàëËøôÁßçÊ∏£Ê∏£ÔºåÁúüÁöÑÊúâÁÇπÊÄïÊääËá™Â∑±ÁªôÂùë‰∫Ü„ÄÇËÄåprivoxyËøô‰∏™ËΩØ‰ª∂ÂàöÂ•ΩÂÆâË£ÖÂú®/usr/localÂÜÖÔºåÂ∞±‰∏çÈúÄË¶ÅÂÖ≥Èó≠SIP„ÄÇ privoxyÊòØ‰∏Ä‰∏™HTTPÂçèËÆÆËøáÊª§‰ª£ÁêÜÔºåÂÆÉÂèØ‰ª•ËøáÊª§ÁΩëÈ°µÔºåÁÆ°ÁêÜcookiesÔºåÊéßÂà∂ËÆøÈóÆÔºåÈô§ÂπøÂëäÁ≠âÔºåÂêåÊó∂ËøòÊîØÊåÅÂçïÁ≥ªÁªüÂ§öÁî®Êà∑ÁΩëÁªú„ÄÇÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®privoxyÂ∞ÜshadowsocksÁöÑsocks5‰ª£ÁêÜËΩ¨‰∏∫http‰ª£ÁêÜÔºåËøôÊ†∑Â∞±ÂèØ‰ª•‰æõÁªàÁ´Ø‰ΩøÁî®‰∫Ü„ÄÇ Êê≠Âª∫Ê¢ØÂ≠êÂÆâË£ÖÂπ∂ËÆæÁΩÆshadowsocksÊ†πÊçÆ‰πãÂâçÁöÑË¥¶Âè∑ÂØÜÁ†ÅÔºàÊê≠Âª∫ssÊúçÂä°Âô®Êó∂ËÆæÁΩÆÁöÑÔºâËÆæÁΩÆssÂÆ¢Êà∑Á´Ø„ÄÇssÁöÑÈªòËÆ§Á´ØÂè£ÊòØ1080ÔºåÂèØ‰ª•ÈÄöËøáÂëΩ‰ª§Êü•ÁúãÔºö1cat ~/.ShadowsocksX/gfwlist.js | grep proxy ÂÖ∂‰∏≠ÔºåproxyÂØπÂ∫îÁöÑsocks5‰ª£ÁêÜ ÂÆâË£Öprivoxy1brew install privoxy ÈÖçÁΩÆprivoxy1vim /usr/local/etc/privoxy/config Âú®Êñá‰ª∂Êú´Â∞æËæìÂÖ•Ôºö12listen-address 0.0.0.0:8118forward-socks5 / localhost:1080 . # ËΩ¨Âèësocks5ÂçèËÆÆ Á¨¨‰∏ÄË°åÊòØprivoxyÁõëÂê¨‰ªªÊÑèIPÂú∞ÂùÄÁöÑ8118Á´ØÂè£Ôºå‰πüÂ∞±ÊòØprivoxyÁöÑÈªòËÆ§Á´ØÂè£„ÄÇÁ¨¨‰∫åË°åÊòØssÁöÑÈªòËÆ§Á´ØÂè£ÔºåÊúÄÂêéËøòÂ∏¶Êúâ‰∏Ä‰∏™Á©∫Ê†ºÂíåÂè•Âè∑Ôºå‰πüÂ∞±ÂÆûÁé∞‰∫ÜÂ∞Üsocks5‰ª£ÁêÜËΩ¨‰∏∫http‰ª£ÁêÜÔºåÂú®Áà¨Ëô´‰∏≠Â¶ÇÊûúËÆæÁΩÆ‰ª£ÁêÜÂ∞±ÂèØ‰ª•‰ΩøÁî®http://127.0.0.1:8118„ÄÇ ÂêØÂä®privoxy1sudo /usr/local/sbin/privoxy /usr/local/etc/privoxy/config Êü•ÁúãprivoxyËøõÁ®ã1ps -ef | grep privoxy ËøîÂõû‰ª•‰∏ãÂÜÖÂÆπËØ¥ÊòéÂêØÂä®ÊàêÂäüÔºö 1502 4093 1 0 11:48‰∏äÂçà ?? 0:00.03 privoxy ÂÖ≥Èó≠privoxyËøõÁ®ãÁöÑËØùÔºåÁõ¥Êé•‰ΩøÁî®kill IDÔºàÊØîÂ¶ÇËøôÈáåÁöÑIDÊòØ4093ÔºâÔºõ‰ª•ÂêéÂÜçÂêØÂä®ÔºåÈúÄË¶ÅÂÖàËøõÂÖ•Âà∞/usr/local/etc/privoxyÔºå‰∏çÁÑ∂ÂèØËÉΩ‰ºöÊä•Êâæ‰∏çÂà∞ÈÖçÁΩÆÊñá‰ª∂ÁöÑÈîôËØØ„ÄÇ Êü•ÁúãÁ´ØÂè£ÁõëÂê¨ÊòØÂê¶ÊàêÂäü1netstat -an | grep 8118 ÊµãËØïshadowsocks12telnet 127.0.0.1 1086telnet 127.0.0.1 8118 ‰ΩøÁî®privoxyÂú®~/.zshrc‰∏≠Ê∑ªÂä†ÂºÄÂÖ≥ÂáΩÊï∞Ôºå‰πüÂèØ‰ª•‰ΩøÁî®Âà´ÂêçÂëΩ‰ª§„ÄÇ‰æãÂ¶ÇÔºö1alias proxy=&apos;export all_proxy=socks5://127.0.0.1:1080&apos; ÂÆåÊï¥‰ª£Á†ÅÂ¶Ç‰∏ãÔºö123456789101112function proxy_off()&#123; unset http_proxy unset https_proxy echo -e &quot;Â∑≤ÂÖ≥Èó≠‰ª£ÁêÜ&quot;&#125;function proxy_on() &#123; export no_proxy=&quot;localhost,127.0.0.1,localaddress,.localdomain.com&quot; export http_proxy=&quot;http://127.0.0.1:8118&quot; export https_proxy=$http_proxy echo -e &quot;Â∑≤ÂºÄÂêØ‰ª£ÁêÜ&quot;&#125; ‰ΩøÈÖçÁΩÆÁ´ãÂç≥ÁîüÊïà1source ~/.zshrc ÂºÄÂêØ‰ª£ÁêÜË¶ÅÁ°Æ‰øùprivoxyÂ∑≤ÁªèÂºÄÂêØ 1proxy_on ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ãÂëΩ‰ª§Êü•ÁúãIPÔºö1curl ip.cn ÂÖ≥Èó≠‰ª£ÁêÜ1proxy_off ÂèÇËÄÉÊñáÁ´†ÔºöMacÂëΩ‰ª§Ë°åÁªàÁ´Ø‰∏ã‰ΩøÁî®shadowsocksÁøªÂ¢ôÂëΩ‰ª§Ë°å‰∏ã‰ΩøÁî®‰ª£ÁêÜMac OSXÁªàÁ´ØËµ∞shadowsocks‰ª£ÁêÜ]]></content>
      <tags>
        <tag>mac</tag>
        <tag>‰ª£ÁêÜ</tag>
        <tag>privoxy</tag>
      </tags>
  </entry>
</search>
